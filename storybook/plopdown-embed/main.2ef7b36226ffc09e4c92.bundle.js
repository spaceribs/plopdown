(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return LoggerConfigService}));const LoggerConfigService=new(__webpack_require__(1).InjectionToken)("A service for logging messages")},145:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return LoggerModule}));var LoggerModule_1,tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),_angular_common__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(14),_logger_config__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(102);let LoggerModule=LoggerModule_1=class LoggerModule{static forRoot(config){return{ngModule:LoggerModule_1,providers:[{provide:_logger_config__WEBPACK_IMPORTED_MODULE_3__.a,useValue:config}]}}};LoggerModule=LoggerModule_1=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule)({imports:[_angular_common__WEBPACK_IMPORTED_MODULE_2__.a]})],LoggerModule)},148:function(module,exports){},149:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return PlopdownBaseComponent}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1);class PlopdownBaseComponent{constructor(){this.ariaAtomic=!0}}Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)("design:type",Object)],PlopdownBaseComponent.prototype,"startTime",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)("design:type",Object)],PlopdownBaseComponent.prototype,"endTime",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)("design:type",Object)],PlopdownBaseComponent.prototype,"id",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)("design:type",Boolean)],PlopdownBaseComponent.prototype,"data",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.HostBinding)("attr.aria-atomic"),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)("design:type",Object)],PlopdownBaseComponent.prototype,"ariaAtomic",void 0)},150:function(module,__webpack_exports__,__webpack_require__){"use strict";var PlopdownTemplateType;__webpack_require__.d(__webpack_exports__,"a",(function(){return PlopdownTemplateType})),function(PlopdownTemplateType){PlopdownTemplateType.Info="INFO",PlopdownTemplateType.Plop="PLOP",PlopdownTemplateType.Audio="AUDIO",PlopdownTemplateType.Shape="SHAPE"}(PlopdownTemplateType||(PlopdownTemplateType={}))},1646:function(module,exports,__webpack_require__){var map={"./cue-renderer/cue-renderer.component.stories.ts":1647,"./cues/audio/audio.component.stories.ts":1687,"./cues/info/info.component.stories.ts":1691,"./cues/plop/plop.component.stories.ts":1692,"./cues/shape/shape.component.stories.ts":1693,"./plopdown-embed.story.mdx":1685};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1646},1647:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default={title:"CueRendererComponent"}},1685:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));__webpack_require__(3);var _mdx_js_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(56),_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(165);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}const layoutProps={};function MDXContent({components:components,...props}){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_2__.Meta,{title:"Intro",mdxType:"Meta"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("h1",null,"Plopdown Format"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("p",null,"Welcome to the documentation for creating your own plopdown files! We don't have\nan editor yet for the format, but it adheres to the ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("a",_extends({parentName:"p"},{href:"https://w3c.github.io/webvtt/"}),"WebVTT spec")," and\nJSON."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("h2",null,"Headers"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("p",null,"The top of the file contains general information about the plopdown, attribution, and hints about\nwhat video it should be associated with. Heres an example with a description of each field:"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("code",_extends({parentName:"pre"},{className:"language-yaml"}),'WEBVTT                                              # The file always starts with WEBVTT\ntype: plopdown_v1                                   # The type is always "plopdown_v1"\ntitle: Minnie the Moocher - Facts and Trivia        # The human readable title of the plopdown\nfor: Minnie The Moocher                             # The human readable name of the associated video\nurl: https://plopdown.video                         # (optional) The url of the homepage this plopdown is associated with\nlicense: CC0                                        # (optional) The license for reuse or remixing this plopdown\nauthors: spaceribs                                  # (optional) Comma delineated list of authors for this plopdown\ncreated: 2019-12-29T00:23:20.156Z                   # ISO-8601 datetime this plopdown was created\nupdated: 2019-12-29T00:23:20.156Z                   # (optional) ISO-8601 datetime this plopdown was last updated\norigin: https://example.com                         # (optional) Hint of the hostname where the video can be found\npath: /video                                        # (optional) Hint of the path under the hostname\nsearch: id=123                                      # (optional) Hint of the url parameters under the path\nxpath: /HTML[1]/BODY[1]/VIDEO[1]                    # (optional) Hint of the xpath where the video exists on the page\n')),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("h2",null,"Cues"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("p",null,"Below the headers, and separated by a newline, are the cues which will be rendered into the video:"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("code",_extends({parentName:"pre"},{className:"language-json"}),'info                                                // Required unique identifier for the cue\n00:00:00.000 --\x3e 00:00:05.000                       // Start and end timecodes\n{                                                   // Begin Metadata\n    "type": "INFO",                                 // Type of the cue being rendered.\n    "title": "Minnie the Moocher",                  // Additional data as described by the type.\n    "url": "https://plopdown.video",\n    "authors": ["spaceribs"]\n}                                                   // End Metadata\n')),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("p",null,"When you're ready, import your track into the plopdown plugin and go to the page with the video\nto test out your new plopdown track. Check out the examples in the sidebar nav to explore the different\nkinds of cues you can specify."))}MDXContent.isMDXComponent=!0;const __page=()=>{throw new Error("Docs-only story")};__page.story={parameters:{docsOnly:!0}};const componentMeta={title:"Intro",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs={...componentMeta.parameters.docs||{},page:()=>Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_2__.AddContext,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentMeta:componentMeta},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)(MDXContent,null))},__webpack_exports__.default=componentMeta},1687:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"primary",(function(){return primary}));var src=__webpack_require__(235),tslib_es6=__webpack_require__(0),core=__webpack_require__(1),common=__webpack_require__(14);let IconComponent=class IconComponent{constructor(){this.iconClass=!0,this.path="M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z",this.spin=!1}};Object(tslib_es6.b)([Object(core.HostBinding)("class.icon"),Object(tslib_es6.d)("design:type",Object)],IconComponent.prototype,"iconClass",void 0),Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.d)("design:type",Object)],IconComponent.prototype,"path",void 0),Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.d)("design:type",Object)],IconComponent.prototype,"spin",void 0),IconComponent=Object(tslib_es6.b)([Object(core.Component)({selector:"plopdown-icon",template:(__webpack_require__(298).default||__webpack_require__(298)).length?__webpack_require__(298).default||__webpack_require__(298):"",styles:[(__webpack_require__(299).default||__webpack_require__(299)).length?__webpack_require__(299).default||__webpack_require__(299):""]})],IconComponent);let IconModule=class IconModule{};IconModule=Object(tslib_es6.b)([Object(core.NgModule)({imports:[common.a],exports:[IconComponent],declarations:[IconComponent]})],IconModule);var ReplaySubject=__webpack_require__(184),BehaviorSubject=__webpack_require__(309),Observable=__webpack_require__(6),empty=__webpack_require__(53),merge=__webpack_require__(232),fromEvent=__webpack_require__(549),switchMap=__webpack_require__(146),withLatestFrom=__webpack_require__(553),startWith=__webpack_require__(552),map=__webpack_require__(35);let audio_edits_service_AudioEditsService=class AudioEditsService{constructor(){this.audioElem$=new ReplaySubject.a(1),this.edits$=new BehaviorSubject.a([])}setAudioElem(audioElem){this.audioElem$.next(audioElem)}setEdits(audioEdits){this.edits$.next(audioEdits)}getEdits(){return this.edits$.asObservable()}getEditTime(){return this.audioElem$.pipe(Object(switchMap.a)(audio=>new Observable.a(observer=>{const audioMetadata=audio.addTextTrack("metadata");return audioMetadata.mode="showing",observer.next(audioMetadata),()=>{audioMetadata.mode="disabled"}}))).pipe(Object(withLatestFrom.a)(this.edits$),Object(switchMap.a)(([track,edits])=>null==edits?empty.a:(edits.forEach(edit=>{const cue=new VTTCue(edit.startTime,edit.endTime||edit.startTime,JSON.stringify(edit));track.addCue(cue)}),Object(merge.a)(Object(fromEvent.a)(track,"cuechange")).pipe(Object(startWith.a)(track.activeCues),Object(withLatestFrom.a)(this.audioElem$),Object(map.a)(([_,audioElem])=>audioElem.currentTime)))))}};audio_edits_service_AudioEditsService=Object(tslib_es6.b)([Object(core.Injectable)(),Object(tslib_es6.d)("design:paramtypes",[])],audio_edits_service_AudioEditsService);var AudioEditType,_a,combineLatest=__webpack_require__(186);!function(AudioEditType){AudioEditType.Still="STILL",AudioEditType.Skip="SKIP",AudioEditType.Pause="PAUSE",AudioEditType.Volume="VOLUME"}(AudioEditType||(AudioEditType={}));let edit_skip_service_EditSkipService=class EditSkipService{constructor(audioEdits){const editTime$=audioEdits.getEditTime(),edits$=audioEdits.getEdits();this.skipEdits$=edits$.pipe(Object(map.a)(edits=>edits.filter(this.isSkipEdit))),this.skipOffset$=Object(combineLatest.b)([editTime$,this.skipEdits$]).pipe(Object(map.a)(([currentTime,skips])=>skips.filter(skip=>currentTime>skip.startTime).reduce((memo,activeSkip)=>activeSkip.endTime-activeSkip.startTime+memo,0)))}getOffset(){return this.skipOffset$}isSkipEdit(edit){return edit.type===AudioEditType.Skip}};edit_skip_service_EditSkipService=Object(tslib_es6.b)([Object(core.Injectable)(),Object(tslib_es6.d)("design:paramtypes",["function"==typeof(_a=void 0!==audio_edits_service_AudioEditsService&&audio_edits_service_AudioEditsService)?_a:Object])],edit_skip_service_EditSkipService);var platform_browser=__webpack_require__(107);new core.InjectionToken("Plopdown Track"),new core.InjectionToken("Plopdown Tracks");const TRACK_FILES_TOKEN=new core.InjectionToken("Track Files"),VIDEO_ELEM_TOKEN=new core.InjectionToken("Video Element");new core.InjectionToken("Video Reference");var audio_component_a,_b,_c,_d,_e,_f,_g,_h,_j,plopdown_base_component=__webpack_require__(149),Subject=__webpack_require__(19),Subscription=__webpack_require__(15),of=__webpack_require__(144),mdi=__webpack_require__(330),shareReplay=__webpack_require__(551),mapTo=__webpack_require__(550),filter=__webpack_require__(67),distinctUntilChanged=__webpack_require__(315);let audio_component_AudioComponent=class AudioComponent extends plopdown_base_component.a{constructor(logger,sanitizer,audioEdits,editSkip,errorHandler,videoElem,trackFiles){super(),this.logger=logger,this.sanitizer=sanitizer,this.audioEdits=audioEdits,this.editSkip=editSkip,this.errorHandler=errorHandler,this.videoElem=videoElem,this.trackFiles=trackFiles,this.color="#ffc09f",this.audioMuted=!1,this.mdiVolumeHigh=mdi.b,this.mdiVolumeOff=mdi.c,this.mdiAlert=mdi.a,this.audioUrl$=new ReplaySubject.a(1),this.audioElem$=new ReplaySubject.a(1),this.toggleMute$=new Subject.a,this.playAudio$=new Subject.a,this.pauseAudio$=new Subject.a,this.subs=new Subscription.a,this.skipOffset$=this.editSkip.getOffset().pipe(Object(shareReplay.a)(1))}set audioElem(elem){null!=elem&&this.audioElem$.next(elem)}ngOnChanges(){this.bindData()}ngAfterViewInit(){this.bindData(),this.videoElem.pause(),this.videoNotPlaying$=Object(merge.a)(Object(fromEvent.a)(this.videoElem,"suspend"),Object(fromEvent.a)(this.videoElem,"stop"),Object(fromEvent.a)(this.videoElem,"ended"),Object(fromEvent.a)(this.videoElem,"stalled"),Object(fromEvent.a)(this.videoElem,"pause")).pipe(Object(mapTo.a)(null));const isPlaying=Object(of.a)(this.videoElem.paused).pipe(Object(filter.a)(paused=>!paused));this.videoPlaying$=Object(merge.a)(isPlaying,Object(fromEvent.a)(this.videoElem,"playing")).pipe(Object(mapTo.a)(null)),this.audioTimeUpdate$=this.audioElem$.pipe(Object(switchMap.a)(elem=>Object(fromEvent.a)(elem.nativeElement,"timeupdate")),Object(shareReplay.a)(1)),this.progressStyle$=this.audioTimeUpdate$.pipe(Object(map.a)(event=>{const currentTime=event.target.currentTime,duration=event.target.duration,circumference=90*Math.PI;return{"stroke-dasharray":`${circumference*(currentTime/duration)}% ${circumference}%`}}));const audioElemSub=this.audioElem$.subscribe({error:err=>this.errorHandler.handleError(err),next:elem=>{this.audioEdits.setAudioElem(elem.nativeElement)}});this.subs.add(audioElemSub),this.timeUpdate$=Object(merge.a)(this.audioTimeUpdate$,Object(fromEvent.a)(this.videoElem,"timeupdate")).pipe(Object(switchMap.a)(()=>Object(combineLatest.b)([this.audioElem$,this.skipOffset$])),Object(map.a)(([elem,skipOffset])=>[elem.nativeElement.currentTime-skipOffset,this.videoElem.currentTime])),this.syncOffset$=this.timeUpdate$.pipe(Object(map.a)(([audioTime,videoTime])=>{const offsetTime=this.startTime+audioTime;return Math.round(1e3*(videoTime-offsetTime))}),Object(distinctUntilChanged.a)(),Object(filter.a)(offset=>offset>150||offset<-150));const syncSub=Object(combineLatest.b)([this.syncOffset$,this.audioElem$]).subscribe(([offset,elem])=>{const currentMS=1e3*elem.nativeElement.currentTime;elem.nativeElement.currentTime=(currentMS+offset)/1e3});this.subs.add(syncSub);const stopSub=Object(merge.a)(this.videoNotPlaying$,this.pauseAudio$).pipe(Object(switchMap.a)(()=>this.audioElem$)).subscribe(elem=>{elem.nativeElement.pause()});this.subs.add(stopSub);const playSub=Object(merge.a)(this.videoPlaying$,this.playAudio$).pipe(Object(switchMap.a)(()=>this.audioElem$)).subscribe(elem=>{elem.nativeElement.play()});this.subs.add(playSub);const toggleMuteSub=this.toggleMute$.pipe(Object(switchMap.a)(()=>this.audioElem$)).subscribe({error:err=>this.errorHandler.handleError(err),next:elem=>{elem.nativeElement.muted=!elem.nativeElement.muted,this.audioMuted=elem.nativeElement.muted}});this.subs.add(toggleMuteSub)}ngOnDestroy(){this.subs.unsubscribe()}toggleMute(event){event.preventDefault(),this.toggleMute$.next()}audioLoaded(){this.videoElem.play()}playAudio(){this.playAudio$.next()}pauseAudio(){this.pauseAudio$.next()}getFile(url){const result=this.trackFiles.get(url);return null==result&&this.logger.error("Could not find filename",url),this.sanitizer.bypassSecurityTrustUrl(result)}textPreview(data=this.data){return`Audio - ${data.title}`}bindData(){if(null!=this.data){this.top=this.data.top,this.left=this.data.left,this.data.edits&&this.data.edits.length>0?this.audioEdits.setEdits(this.data.edits):this.audioEdits.setEdits([]);const url=this.getFile(this.data.url);this.audioUrl$.next(url)}}};Object(tslib_es6.b)([Object(core.ViewChild)("audioElem"),Object(tslib_es6.d)("design:type","function"==typeof(audio_component_a=void 0!==core.ElementRef&&core.ElementRef)?audio_component_a:Object),Object(tslib_es6.d)("design:paramtypes",["function"==typeof(_b=void 0!==core.ElementRef&&core.ElementRef)?_b:Object])],audio_component_AudioComponent.prototype,"audioElem",null),Object(tslib_es6.b)([Object(core.HostBinding)("style.top.%"),Object(tslib_es6.d)("design:type",Number)],audio_component_AudioComponent.prototype,"top",void 0),Object(tslib_es6.b)([Object(core.HostBinding)("style.left.%"),Object(tslib_es6.d)("design:type",Number)],audio_component_AudioComponent.prototype,"left",void 0),audio_component_AudioComponent=Object(tslib_es6.b)([Object(core.Component)({selector:"plopdown-audio",template:(__webpack_require__(300).default||__webpack_require__(300)).length?__webpack_require__(300).default||__webpack_require__(300):"",styles:[(__webpack_require__(301).default||__webpack_require__(301)).length?__webpack_require__(301).default||__webpack_require__(301):""],providers:[audio_edits_service_AudioEditsService,edit_skip_service_EditSkipService]}),Object(tslib_es6.e)(5,Object(core.Inject)(VIDEO_ELEM_TOKEN)),Object(tslib_es6.e)(6,Object(core.Inject)(TRACK_FILES_TOKEN)),Object(tslib_es6.d)("design:paramtypes",["function"==typeof(_c=void 0!==src.LoggerService&&src.LoggerService)?_c:Object,"function"==typeof(_d=void 0!==platform_browser.DomSanitizer&&platform_browser.DomSanitizer)?_d:Object,"function"==typeof(_e=void 0!==audio_edits_service_AudioEditsService&&audio_edits_service_AudioEditsService)?_e:Object,"function"==typeof(_f=void 0!==edit_skip_service_EditSkipService&&edit_skip_service_EditSkipService)?_f:Object,"function"==typeof(_g=void 0!==core.ErrorHandler&&core.ErrorHandler)?_g:Object,"function"==typeof(_h="undefined"!=typeof HTMLVideoElement&&HTMLVideoElement)?_h:Object,"function"==typeof(_j="undefined"!=typeof Map&&Map)?_j:Object])],audio_component_AudioComponent);var dist=__webpack_require__(69),plopdown_base_model=__webpack_require__(150),addSourceDecorator=(__webpack_require__(142).withSource,__webpack_require__(142).addSource);__webpack_exports__.default={parameters:{storySource:{source:"import { PlopdownAudio } from './audio.model';\nimport { LoggerModule } from '@plopdown/logger';\nimport { IconModule } from '@plopdown/icon';\n\nimport { AudioComponent } from './audio.component';\nimport { VIDEO_ELEM_TOKEN, TRACK_FILES_TOKEN } from '@plopdown/tokens';\nimport { object } from '@storybook/addon-knobs';\nimport { PlopdownTemplateType } from '../../models/plopdown-base.model';\n\nexport default {\n  title: 'AudioComponent',\n};\n\nconst mockAudioData: PlopdownAudio = {\n  type: PlopdownTemplateType.Audio,\n  top: 20,\n  left: 20,\n  title: 'Test',\n  url: 'test.mp3',\n};\nconst mockVideoElem = document.createElement('video');\nconst mockVideoFiles = new Map();\n\nexport const primary = () => ({\n  moduleMetadata: {\n    imports: [\n      IconModule,\n      LoggerModule.forRoot({\n        appName: 'Mock',\n        color: 'red',\n        providers: [],\n      }),\n    ],\n    providers: [\n      { provide: VIDEO_ELEM_TOKEN, useValue: mockVideoElem },\n      { provide: TRACK_FILES_TOKEN, useValue: mockVideoFiles },\n    ],\n  },\n  component: AudioComponent,\n  props: {\n    data: object<PlopdownAudio>('data', mockAudioData),\n  },\n});\n",locationsMap:{"audiocomponent--primary":{startLoc:{col:23,line:24},endLoc:{col:2,line:43},startBody:{col:23,line:24},endBody:{col:2,line:43}}}}},title:"AudioComponent"};const mockAudioData={type:plopdown_base_model.a.Audio,top:20,left:20,title:"Test",url:"test.mp3"},mockVideoElem=document.createElement("video"),mockVideoFiles=new Map,primary=addSourceDecorator(()=>({moduleMetadata:{imports:[IconModule,src.LoggerModule.forRoot({appName:"Mock",color:"red",providers:[]})],providers:[{provide:VIDEO_ELEM_TOKEN,useValue:mockVideoElem},{provide:TRACK_FILES_TOKEN,useValue:mockVideoFiles}]},component:audio_component_AudioComponent,props:{data:Object(dist.object)("data",mockAudioData)}}),{__STORY__:"import { PlopdownAudio } from './audio.model';\nimport { LoggerModule } from '@plopdown/logger';\nimport { IconModule } from '@plopdown/icon';\n\nimport { AudioComponent } from './audio.component';\nimport { VIDEO_ELEM_TOKEN, TRACK_FILES_TOKEN } from '@plopdown/tokens';\nimport { object } from '@storybook/addon-knobs';\nimport { PlopdownTemplateType } from '../../models/plopdown-base.model';\n\nexport default {\n  title: 'AudioComponent',\n};\n\nconst mockAudioData: PlopdownAudio = {\n  type: PlopdownTemplateType.Audio,\n  top: 20,\n  left: 20,\n  title: 'Test',\n  url: 'test.mp3',\n};\nconst mockVideoElem = document.createElement('video');\nconst mockVideoFiles = new Map();\n\nexport const primary = () => ({\n  moduleMetadata: {\n    imports: [\n      IconModule,\n      LoggerModule.forRoot({\n        appName: 'Mock',\n        color: 'red',\n        providers: [],\n      }),\n    ],\n    providers: [\n      { provide: VIDEO_ELEM_TOKEN, useValue: mockVideoElem },\n      { provide: TRACK_FILES_TOKEN, useValue: mockVideoFiles },\n    ],\n  },\n  component: AudioComponent,\n  props: {\n    data: object<PlopdownAudio>('data', mockAudioData),\n  },\n});\n",__ADDS_MAP__:{"audiocomponent--primary":{startLoc:{col:23,line:24},endLoc:{col:2,line:43},startBody:{col:23,line:24},endBody:{col:2,line:43}}},__MAIN_FILE_LOCATION__:"/audio.component.stories.ts",__MODULE_DEPENDENCIES__:[],__LOCAL_DEPENDENCIES__:{},__SOURCE_PREFIX__:"/home/runner/work/plopdown/plopdown/libs/plopdown-embed/src/lib/cues/audio",__IDS_TO_FRAMEWORKS__:{}})},1690:function(module,__webpack_exports__,__webpack_require__){"use strict";var client=__webpack_require__(168),create=__webpack_require__(673),plopdownTheme=Object(create.create)({base:"dark",brandTitle:"Plopdown Video",brandUrl:"https://plopdown.video",brandImage:void 0});Object(client.addParameters)({options:{theme:plopdownTheme,storySort:function storySort(a,b){switch(b[1].kind){case"Intro":return 1;default:return a[1].kind===b[1].kind?0:a[1].id.localeCompare(b[1].id,{numeric:!0})}}}}),Object(client.addParameters)({backgrounds:[{name:"White",value:"#FFF"},{name:"Light Gray",value:"#DDD"},{name:"Medium Gray",value:"#888",default:!0},{name:"Dark Gray",value:"#333"},{name:"Black",value:"#000"}],viewport:{viewports:{standard:{name:"4:3 TV Standard",styles:{width:"640px",height:"480px"}},hd:{name:"16:9 HD Standard",styles:{width:"853px",height:"480px"}},widescreen:{name:"21:9 Widescreen",styles:{width:"1120px",height:"480px"}}},defaultViewport:"standard"}})},1691:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"primary",(function(){return primary}));var tslib_es6=__webpack_require__(0),ng_animate=__webpack_require__(127),animations=__webpack_require__(2),core=__webpack_require__(1),plopdown_base_component=__webpack_require__(149);let info_component_InfoComponent=class InfoComponent extends plopdown_base_component.a{constructor(){super(...arguments),this.color="#79addc"}textPreview(data=this.data){return`[i] ${data.title}`}};Object(tslib_es6.b)([Object(core.HostBinding)("@infoFade"),Object(tslib_es6.d)("design:type",Object)],info_component_InfoComponent.prototype,"animate",void 0),info_component_InfoComponent=Object(tslib_es6.b)([Object(core.Component)({selector:"plopdown-info",template:(__webpack_require__(302).default||__webpack_require__(302)).length?__webpack_require__(302).default||__webpack_require__(302):"",styles:[(__webpack_require__(303).default||__webpack_require__(303)).length?__webpack_require__(303).default||__webpack_require__(303):""],changeDetection:core.ChangeDetectionStrategy.OnPush,animations:[Object(animations.k)("infoFade",[Object(animations.j)("void => *",Object(animations.h)([Object(animations.l)(ng_animate.a,{params:{timing:.4}})])),Object(animations.j)("* => void",Object(animations.h)([Object(animations.l)(ng_animate.b,{params:{timing:.4}})]))])]})],info_component_InfoComponent);var fesm5_animations=__webpack_require__(110),dist=__webpack_require__(69),plopdown_base_model=__webpack_require__(150),addSourceDecorator=(__webpack_require__(142).withSource,__webpack_require__(142).addSource);__webpack_exports__.default={parameters:{storySource:{source:"import { PlopdownInfo } from './info.model';\nimport { InfoComponent } from './info.component';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { object } from '@storybook/addon-knobs';\nimport { PlopdownTemplateType } from '../../models/plopdown-base.model';\n\nexport default {\n  title: 'InfoComponent',\n};\n\nexport const primary = () => ({\n  moduleMetadata: {\n    imports: [BrowserAnimationsModule],\n  },\n  component: InfoComponent,\n  props: {\n    data: object<PlopdownInfo>('data', {\n      type: PlopdownTemplateType.Info,\n      title: 'This is a title',\n      authors: ['John Smith', 'Jane Doe'],\n      url: 'https://google.com',\n    }),\n  },\n});\n",locationsMap:{"infocomponent--primary":{startLoc:{col:23,line:11},endLoc:{col:2,line:24},startBody:{col:23,line:11},endBody:{col:2,line:24}}}}},title:"InfoComponent"};const primary=addSourceDecorator(()=>({moduleMetadata:{imports:[fesm5_animations.a]},component:info_component_InfoComponent,props:{data:Object(dist.object)("data",{type:plopdown_base_model.a.Info,title:"This is a title",authors:["John Smith","Jane Doe"],url:"https://google.com"})}}),{__STORY__:"import { PlopdownInfo } from './info.model';\nimport { InfoComponent } from './info.component';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { object } from '@storybook/addon-knobs';\nimport { PlopdownTemplateType } from '../../models/plopdown-base.model';\n\nexport default {\n  title: 'InfoComponent',\n};\n\nexport const primary = () => ({\n  moduleMetadata: {\n    imports: [BrowserAnimationsModule],\n  },\n  component: InfoComponent,\n  props: {\n    data: object<PlopdownInfo>('data', {\n      type: PlopdownTemplateType.Info,\n      title: 'This is a title',\n      authors: ['John Smith', 'Jane Doe'],\n      url: 'https://google.com',\n    }),\n  },\n});\n",__ADDS_MAP__:{"infocomponent--primary":{startLoc:{col:23,line:11},endLoc:{col:2,line:24},startBody:{col:23,line:11},endBody:{col:2,line:24}}},__MAIN_FILE_LOCATION__:"/info.component.stories.ts",__MODULE_DEPENDENCIES__:[],__LOCAL_DEPENDENCIES__:{},__SOURCE_PREFIX__:"/home/runner/work/plopdown/plopdown/libs/plopdown-embed/src/lib/cues/info",__IDS_TO_FRAMEWORKS__:{}})},1692:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"IconLeft",(function(){return IconLeft}));var _a,_b,animations=__webpack_require__(110),tslib_es6=__webpack_require__(0),core=__webpack_require__(1),plopdown_base_component=__webpack_require__(149),fesm5_animations=__webpack_require__(2),ng_animate=__webpack_require__(127);let plop_component_PlopComponent=class PlopComponent extends plopdown_base_component.a{constructor(cd){super(),this.cd=cd,this.color="#b2e7c1"}preventBubbling(event){event.stopPropagation()}ngOnChanges(){this.top=this.data.top,this.left=this.data.left,this.width=this.data.width}ngAfterViewInit(){this.data&&(this.top=this.data.top,this.left=this.data.left,this.width=this.data.width,this.cd.detectChanges())}textPreview(data=this.data){let emojis="";return data.icons&&(emojis=data.icons.reduce((memo,icon)=>memo+=icon.emoji.trim(),"")),emojis.length&&(emojis=`${emojis} `),`${emojis}${data.desc}`}};Object(tslib_es6.b)([Object(core.HostBinding)("@plopIn"),Object(tslib_es6.d)("design:type",Boolean)],plop_component_PlopComponent.prototype,"animate",void 0),Object(tslib_es6.b)([Object(core.HostBinding)("style.top.%"),Object(tslib_es6.d)("design:type",Number)],plop_component_PlopComponent.prototype,"top",void 0),Object(tslib_es6.b)([Object(core.HostBinding)("style.left.%"),Object(tslib_es6.d)("design:type",Number)],plop_component_PlopComponent.prototype,"left",void 0),Object(tslib_es6.b)([Object(core.HostBinding)("style.width.%"),Object(tslib_es6.d)("design:type",Number)],plop_component_PlopComponent.prototype,"width",void 0),Object(tslib_es6.b)([Object(core.HostListener)("click",["$event"]),Object(tslib_es6.d)("design:type",Function),Object(tslib_es6.d)("design:paramtypes",["function"==typeof(_a="undefined"!=typeof Event&&Event)?_a:Object]),Object(tslib_es6.d)("design:returntype",void 0)],plop_component_PlopComponent.prototype,"preventBubbling",null),plop_component_PlopComponent=Object(tslib_es6.b)([Object(core.Component)({selector:"plopdown-plop",template:(__webpack_require__(304).default||__webpack_require__(304)).length?__webpack_require__(304).default||__webpack_require__(304):"",styles:[(__webpack_require__(305).default||__webpack_require__(305)).length?__webpack_require__(305).default||__webpack_require__(305):""],changeDetection:core.ChangeDetectionStrategy.Default,animations:[Object(fesm5_animations.k)("plopIn",[Object(fesm5_animations.j)("void => *",Object(fesm5_animations.l)(ng_animate.c,{params:{timing:.2}})),Object(fesm5_animations.j)("* => void",Object(fesm5_animations.l)(ng_animate.d,{params:{timing:.2}}))])]}),Object(tslib_es6.d)("design:paramtypes",["function"==typeof(_b=void 0!==core.ChangeDetectorRef&&core.ChangeDetectorRef)?_b:Object])],plop_component_PlopComponent);var dist=__webpack_require__(69),plopdown_base_model=__webpack_require__(150),addSourceDecorator=(__webpack_require__(142).withSource,__webpack_require__(142).addSource);__webpack_exports__.default={parameters:{storySource:{source:"import { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { PlopComponent } from './plop.component';\nimport { object } from '@storybook/addon-knobs';\nimport { PlopdownPlop } from './plop.model';\nimport { PlopdownTemplateType } from '../../models/plopdown-base.model';\n\nexport default {\n  title: 'PlopComponent',\n};\n\nexport const IconLeft = () => ({\n  moduleMetadata: {\n    imports: [BrowserAnimationsModule],\n  },\n  component: PlopComponent,\n  props: {\n    data: object<PlopdownPlop>('data', {\n      type: PlopdownTemplateType.Plop,\n      top: 20,\n      left: 20,\n      width: 40,\n      desc: 'This is a plopdown example',\n      icons: [\n        {\n          top: 30,\n          left: 30,\n          size: 150,\n          rotate: 0,\n          emoji: 'ðŸŒ–',\n        },\n        {\n          top: 70,\n          left: 50,\n          size: 170,\n          rotate: 0,\n          emoji: 'ðŸ‘©â€ðŸš€',\n        },\n      ],\n    }),\n  },\n});\n",locationsMap:{"plopcomponent--icon-left":{startLoc:{col:24,line:11},endLoc:{col:2,line:41},startBody:{col:24,line:11},endBody:{col:2,line:41}}}}},title:"PlopComponent"};const IconLeft=addSourceDecorator(()=>({moduleMetadata:{imports:[animations.a]},component:plop_component_PlopComponent,props:{data:Object(dist.object)("data",{type:plopdown_base_model.a.Plop,top:20,left:20,width:40,desc:"This is a plopdown example",icons:[{top:30,left:30,size:150,rotate:0,emoji:"ðŸŒ–"},{top:70,left:50,size:170,rotate:0,emoji:"ðŸ‘©â€ðŸš€"}]})}}),{__STORY__:"import { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { PlopComponent } from './plop.component';\nimport { object } from '@storybook/addon-knobs';\nimport { PlopdownPlop } from './plop.model';\nimport { PlopdownTemplateType } from '../../models/plopdown-base.model';\n\nexport default {\n  title: 'PlopComponent',\n};\n\nexport const IconLeft = () => ({\n  moduleMetadata: {\n    imports: [BrowserAnimationsModule],\n  },\n  component: PlopComponent,\n  props: {\n    data: object<PlopdownPlop>('data', {\n      type: PlopdownTemplateType.Plop,\n      top: 20,\n      left: 20,\n      width: 40,\n      desc: 'This is a plopdown example',\n      icons: [\n        {\n          top: 30,\n          left: 30,\n          size: 150,\n          rotate: 0,\n          emoji: 'ðŸŒ–',\n        },\n        {\n          top: 70,\n          left: 50,\n          size: 170,\n          rotate: 0,\n          emoji: 'ðŸ‘©â€ðŸš€',\n        },\n      ],\n    }),\n  },\n});\n",__ADDS_MAP__:{"plopcomponent--icon-left":{startLoc:{col:24,line:11},endLoc:{col:2,line:41},startBody:{col:24,line:11},endBody:{col:2,line:41}}},__MAIN_FILE_LOCATION__:"/plop.component.stories.ts",__MODULE_DEPENDENCIES__:[],__LOCAL_DEPENDENCIES__:{},__SOURCE_PREFIX__:"/home/runner/work/plopdown/plopdown/libs/plopdown-embed/src/lib/cues/plop",__IDS_TO_FRAMEWORKS__:{}})},1693:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Rectangles",(function(){return Rectangles})),__webpack_require__.d(__webpack_exports__,"Ellipses",(function(){return Ellipses})),__webpack_require__.d(__webpack_exports__,"Paths",(function(){return Paths})),__webpack_require__.d(__webpack_exports__,"Polygons",(function(){return Polygons})),__webpack_require__.d(__webpack_exports__,"Polylines",(function(){return Polylines}));var tslib_es6=__webpack_require__(0),ng_animate=__webpack_require__(127),animations=__webpack_require__(2),core=__webpack_require__(1),plopdown_base_component=__webpack_require__(149);let shape_component_ShapeComponent=class ShapeComponent extends plopdown_base_component.a{constructor(){super(...arguments),this.color="#79addc"}textPreview(data=this.data){return`${data.title.text}`}};Object(tslib_es6.b)([Object(core.HostBinding)("@infoFade"),Object(tslib_es6.d)("design:type",Object)],shape_component_ShapeComponent.prototype,"animate",void 0),shape_component_ShapeComponent=Object(tslib_es6.b)([Object(core.Component)({selector:"plopdown-shape",template:(__webpack_require__(306).default||__webpack_require__(306)).length?__webpack_require__(306).default||__webpack_require__(306):"",styles:[(__webpack_require__(307).default||__webpack_require__(307)).length?__webpack_require__(307).default||__webpack_require__(307):""],changeDetection:core.ChangeDetectionStrategy.OnPush,animations:[Object(animations.k)("infoFade",[Object(animations.j)("void => *",Object(animations.h)([Object(animations.l)(ng_animate.a,{params:{timing:.4}})])),Object(animations.j)("* => void",Object(animations.h)([Object(animations.l)(ng_animate.b,{params:{timing:.4}})]))])]})],shape_component_ShapeComponent);var dist=__webpack_require__(69),fesm5_animations=__webpack_require__(110),plopdown_base_model=__webpack_require__(150),addSourceDecorator=(__webpack_require__(142).withSource,__webpack_require__(142).addSource),__SOURCE_PREFIX__="/home/runner/work/plopdown/plopdown/libs/plopdown-embed/src/lib/cues/shape",__STORY__="import { PlopdownShape } from './shape.model';\nimport { ShapeComponent } from './shape.component';\nimport { object } from '@storybook/addon-knobs';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { PlopdownTemplateType } from '../../models/plopdown-base.model';\n\nexport default {\n  title: 'ShapeComponent',\n};\n\nconst BasicViewport: PlopdownShape = {\n  type: PlopdownTemplateType.Shape,\n  title: {\n    text: 'Rectangle',\n    show: false,\n  },\n  top: 20,\n  left: 20,\n  width: 60,\n  height: 60,\n  viewBox: '0 0 640 480',\n  elements: [],\n};\n\nexport const Rectangles = () => ({\n  moduleMetadata: {\n    imports: [BrowserAnimationsModule],\n  },\n  component: ShapeComponent,\n  props: {\n    data: object<PlopdownShape>('data', {\n      ...BasicViewport,\n      elements: [\n        { element: 'rect', x: 0, y: 0, width: 240, height: 240 },\n        {\n          element: 'rect',\n          x: 320,\n          y: 50,\n          width: 240,\n          height: 240,\n          rx: 10,\n          ry: 10,\n          opacity: 0.5,\n          fill: {\n            color: '#0F0',\n            opacity: 0.2,\n          },\n          stroke: {\n            color: '#F00',\n            opacity: 0.9,\n            width: 1,\n            dasharray: '10 20',\n            dashoffset: 1000,\n          },\n          transform: 'rotate(25deg)',\n          transformOrigin: 'center',\n        },\n      ],\n    }),\n  },\n});\n\nexport const Ellipses = () => ({\n  moduleMetadata: {\n    imports: [BrowserAnimationsModule],\n  },\n  component: ShapeComponent,\n  props: {\n    data: object<PlopdownShape>('data', {\n      ...BasicViewport,\n      elements: [\n        { element: 'ellipse', cx: 120, cy: 120, rx: 120, ry: 120 },\n        {\n          element: 'ellipse',\n          cx: 360,\n          cy: 140,\n          rx: 120,\n          ry: 120,\n          opacity: 0.5,\n          fill: {\n            color: '#0FF',\n            opacity: 0.2,\n          },\n          stroke: {\n            color: '#F00',\n            opacity: 0.9,\n            width: 1,\n            dasharray: '10 20',\n            dashoffset: 1000,\n          },\n          transform: 'skew(-25deg)',\n          transformOrigin: 'center',\n        },\n      ],\n    }),\n  },\n});\n\nexport const Paths = () => ({\n  moduleMetadata: {\n    imports: [BrowserAnimationsModule],\n  },\n  component: ShapeComponent,\n  props: {\n    data: object<PlopdownShape>('data', {\n      ...BasicViewport,\n      elements: [\n        {\n          element: 'path',\n          d: 'M 10 80 C 40 10, 65 10, 95 80 S 150 150, 180 80',\n        },\n        {\n          element: 'path',\n          d: 'M 110 180 C 140 110, 165 110, 195 180 S 250 250, 280 180',\n          opacity: 0.5,\n          fill: {\n            color: '#0FF',\n            opacity: 0.2,\n          },\n          stroke: {\n            color: '#F00',\n            opacity: 0.9,\n            width: 1,\n            dasharray: '10 20',\n            dashoffset: 1000,\n          },\n          transform: 'scale(2)',\n          transformOrigin: 'left',\n        },\n      ],\n    }),\n  },\n});\n\nexport const Polygons = () => ({\n  moduleMetadata: {\n    imports: [BrowserAnimationsModule],\n  },\n  component: ShapeComponent,\n  props: {\n    data: object<PlopdownShape>('data', {\n      ...BasicViewport,\n      elements: [\n        {\n          element: 'polygon',\n          points: '0,100 50,25 50,75 100,0',\n        },\n        {\n          element: 'polygon',\n          points: '100,200 150,125 150,175 200,100',\n          opacity: 0.5,\n          fill: {\n            color: '#0FF',\n            opacity: 0.2,\n          },\n          stroke: {\n            color: '#F00',\n            opacity: 0.9,\n            width: 1,\n            dasharray: '10 20',\n            dashoffset: 1000,\n          },\n          transform: 'scale(2)',\n          transformOrigin: 'left top',\n        },\n      ],\n    }),\n  },\n});\n\nexport const Polylines = () => ({\n  moduleMetadata: {\n    imports: [BrowserAnimationsModule],\n  },\n  component: ShapeComponent,\n  props: {\n    data: object<PlopdownShape>('data', {\n      ...BasicViewport,\n      elements: [\n        {\n          element: 'polyline',\n          points: '0,100 50,25 50,75 100,0',\n        },\n        {\n          element: 'polyline',\n          points: '100,200 150,125 150,175 200,100',\n          opacity: 0.5,\n          fill: {\n            color: '#0FF',\n            opacity: 0.2,\n          },\n          stroke: {\n            color: '#F00',\n            opacity: 0.9,\n            width: 1,\n            dasharray: '10 20',\n            dashoffset: 1000,\n          },\n          transform: 'scale(2)',\n          transformOrigin: 'left top',\n        },\n      ],\n    }),\n  },\n});\n",__ADDS_MAP__={"shapecomponent--rectangles":{startLoc:{col:26,line:25},endLoc:{col:2,line:61},startBody:{col:26,line:25},endBody:{col:2,line:61}},"shapecomponent--ellipses":{startLoc:{col:24,line:63},endLoc:{col:2,line:97},startBody:{col:24,line:63},endBody:{col:2,line:97}},"shapecomponent--paths":{startLoc:{col:21,line:99},endLoc:{col:2,line:133},startBody:{col:21,line:99},endBody:{col:2,line:133}},"shapecomponent--polygons":{startLoc:{col:24,line:135},endLoc:{col:2,line:169},startBody:{col:24,line:135},endBody:{col:2,line:169}},"shapecomponent--polylines":{startLoc:{col:25,line:171},endLoc:{col:2,line:205},startBody:{col:25,line:171},endBody:{col:2,line:205}}},__MODULE_DEPENDENCIES__=[],__LOCAL_DEPENDENCIES__={},__IDS_TO_FRAMEWORKS__={};__webpack_exports__.default={parameters:{storySource:{source:"import { PlopdownShape } from './shape.model';\nimport { ShapeComponent } from './shape.component';\nimport { object } from '@storybook/addon-knobs';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { PlopdownTemplateType } from '../../models/plopdown-base.model';\n\nexport default {\n  title: 'ShapeComponent',\n};\n\nconst BasicViewport: PlopdownShape = {\n  type: PlopdownTemplateType.Shape,\n  title: {\n    text: 'Rectangle',\n    show: false,\n  },\n  top: 20,\n  left: 20,\n  width: 60,\n  height: 60,\n  viewBox: '0 0 640 480',\n  elements: [],\n};\n\nexport const Rectangles = () => ({\n  moduleMetadata: {\n    imports: [BrowserAnimationsModule],\n  },\n  component: ShapeComponent,\n  props: {\n    data: object<PlopdownShape>('data', {\n      ...BasicViewport,\n      elements: [\n        { element: 'rect', x: 0, y: 0, width: 240, height: 240 },\n        {\n          element: 'rect',\n          x: 320,\n          y: 50,\n          width: 240,\n          height: 240,\n          rx: 10,\n          ry: 10,\n          opacity: 0.5,\n          fill: {\n            color: '#0F0',\n            opacity: 0.2,\n          },\n          stroke: {\n            color: '#F00',\n            opacity: 0.9,\n            width: 1,\n            dasharray: '10 20',\n            dashoffset: 1000,\n          },\n          transform: 'rotate(25deg)',\n          transformOrigin: 'center',\n        },\n      ],\n    }),\n  },\n});\n\nexport const Ellipses = () => ({\n  moduleMetadata: {\n    imports: [BrowserAnimationsModule],\n  },\n  component: ShapeComponent,\n  props: {\n    data: object<PlopdownShape>('data', {\n      ...BasicViewport,\n      elements: [\n        { element: 'ellipse', cx: 120, cy: 120, rx: 120, ry: 120 },\n        {\n          element: 'ellipse',\n          cx: 360,\n          cy: 140,\n          rx: 120,\n          ry: 120,\n          opacity: 0.5,\n          fill: {\n            color: '#0FF',\n            opacity: 0.2,\n          },\n          stroke: {\n            color: '#F00',\n            opacity: 0.9,\n            width: 1,\n            dasharray: '10 20',\n            dashoffset: 1000,\n          },\n          transform: 'skew(-25deg)',\n          transformOrigin: 'center',\n        },\n      ],\n    }),\n  },\n});\n\nexport const Paths = () => ({\n  moduleMetadata: {\n    imports: [BrowserAnimationsModule],\n  },\n  component: ShapeComponent,\n  props: {\n    data: object<PlopdownShape>('data', {\n      ...BasicViewport,\n      elements: [\n        {\n          element: 'path',\n          d: 'M 10 80 C 40 10, 65 10, 95 80 S 150 150, 180 80',\n        },\n        {\n          element: 'path',\n          d: 'M 110 180 C 140 110, 165 110, 195 180 S 250 250, 280 180',\n          opacity: 0.5,\n          fill: {\n            color: '#0FF',\n            opacity: 0.2,\n          },\n          stroke: {\n            color: '#F00',\n            opacity: 0.9,\n            width: 1,\n            dasharray: '10 20',\n            dashoffset: 1000,\n          },\n          transform: 'scale(2)',\n          transformOrigin: 'left',\n        },\n      ],\n    }),\n  },\n});\n\nexport const Polygons = () => ({\n  moduleMetadata: {\n    imports: [BrowserAnimationsModule],\n  },\n  component: ShapeComponent,\n  props: {\n    data: object<PlopdownShape>('data', {\n      ...BasicViewport,\n      elements: [\n        {\n          element: 'polygon',\n          points: '0,100 50,25 50,75 100,0',\n        },\n        {\n          element: 'polygon',\n          points: '100,200 150,125 150,175 200,100',\n          opacity: 0.5,\n          fill: {\n            color: '#0FF',\n            opacity: 0.2,\n          },\n          stroke: {\n            color: '#F00',\n            opacity: 0.9,\n            width: 1,\n            dasharray: '10 20',\n            dashoffset: 1000,\n          },\n          transform: 'scale(2)',\n          transformOrigin: 'left top',\n        },\n      ],\n    }),\n  },\n});\n\nexport const Polylines = () => ({\n  moduleMetadata: {\n    imports: [BrowserAnimationsModule],\n  },\n  component: ShapeComponent,\n  props: {\n    data: object<PlopdownShape>('data', {\n      ...BasicViewport,\n      elements: [\n        {\n          element: 'polyline',\n          points: '0,100 50,25 50,75 100,0',\n        },\n        {\n          element: 'polyline',\n          points: '100,200 150,125 150,175 200,100',\n          opacity: 0.5,\n          fill: {\n            color: '#0FF',\n            opacity: 0.2,\n          },\n          stroke: {\n            color: '#F00',\n            opacity: 0.9,\n            width: 1,\n            dasharray: '10 20',\n            dashoffset: 1000,\n          },\n          transform: 'scale(2)',\n          transformOrigin: 'left top',\n        },\n      ],\n    }),\n  },\n});\n",locationsMap:{"shapecomponent--rectangles":{startLoc:{col:26,line:25},endLoc:{col:2,line:61},startBody:{col:26,line:25},endBody:{col:2,line:61}},"shapecomponent--ellipses":{startLoc:{col:24,line:63},endLoc:{col:2,line:97},startBody:{col:24,line:63},endBody:{col:2,line:97}},"shapecomponent--paths":{startLoc:{col:21,line:99},endLoc:{col:2,line:133},startBody:{col:21,line:99},endBody:{col:2,line:133}},"shapecomponent--polygons":{startLoc:{col:24,line:135},endLoc:{col:2,line:169},startBody:{col:24,line:135},endBody:{col:2,line:169}},"shapecomponent--polylines":{startLoc:{col:25,line:171},endLoc:{col:2,line:205},startBody:{col:25,line:171},endBody:{col:2,line:205}}}}},title:"ShapeComponent"};const BasicViewport={type:plopdown_base_model.a.Shape,title:{text:"Rectangle",show:!1},top:20,left:20,width:60,height:60,viewBox:"0 0 640 480",elements:[]},Rectangles=addSourceDecorator(()=>({moduleMetadata:{imports:[fesm5_animations.a]},component:shape_component_ShapeComponent,props:{data:Object(dist.object)("data",Object.assign(Object.assign({},BasicViewport),{elements:[{element:"rect",x:0,y:0,width:240,height:240},{element:"rect",x:320,y:50,width:240,height:240,rx:10,ry:10,opacity:.5,fill:{color:"#0F0",opacity:.2},stroke:{color:"#F00",opacity:.9,width:1,dasharray:"10 20",dashoffset:1e3},transform:"rotate(25deg)",transformOrigin:"center"}]}))}}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/shape.component.stories.ts",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__}),Ellipses=addSourceDecorator(()=>({moduleMetadata:{imports:[fesm5_animations.a]},component:shape_component_ShapeComponent,props:{data:Object(dist.object)("data",Object.assign(Object.assign({},BasicViewport),{elements:[{element:"ellipse",cx:120,cy:120,rx:120,ry:120},{element:"ellipse",cx:360,cy:140,rx:120,ry:120,opacity:.5,fill:{color:"#0FF",opacity:.2},stroke:{color:"#F00",opacity:.9,width:1,dasharray:"10 20",dashoffset:1e3},transform:"skew(-25deg)",transformOrigin:"center"}]}))}}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/shape.component.stories.ts",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__}),Paths=addSourceDecorator(()=>({moduleMetadata:{imports:[fesm5_animations.a]},component:shape_component_ShapeComponent,props:{data:Object(dist.object)("data",Object.assign(Object.assign({},BasicViewport),{elements:[{element:"path",d:"M 10 80 C 40 10, 65 10, 95 80 S 150 150, 180 80"},{element:"path",d:"M 110 180 C 140 110, 165 110, 195 180 S 250 250, 280 180",opacity:.5,fill:{color:"#0FF",opacity:.2},stroke:{color:"#F00",opacity:.9,width:1,dasharray:"10 20",dashoffset:1e3},transform:"scale(2)",transformOrigin:"left"}]}))}}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/shape.component.stories.ts",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__}),Polygons=addSourceDecorator(()=>({moduleMetadata:{imports:[fesm5_animations.a]},component:shape_component_ShapeComponent,props:{data:Object(dist.object)("data",Object.assign(Object.assign({},BasicViewport),{elements:[{element:"polygon",points:"0,100 50,25 50,75 100,0"},{element:"polygon",points:"100,200 150,125 150,175 200,100",opacity:.5,fill:{color:"#0FF",opacity:.2},stroke:{color:"#F00",opacity:.9,width:1,dasharray:"10 20",dashoffset:1e3},transform:"scale(2)",transformOrigin:"left top"}]}))}}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/shape.component.stories.ts",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__}),Polylines=addSourceDecorator(()=>({moduleMetadata:{imports:[fesm5_animations.a]},component:shape_component_ShapeComponent,props:{data:Object(dist.object)("data",Object.assign(Object.assign({},BasicViewport),{elements:[{element:"polyline",points:"0,100 50,25 50,75 100,0"},{element:"polyline",points:"100,200 150,125 150,175 200,100",opacity:.5,fill:{color:"#0FF",opacity:.2},stroke:{color:"#F00",opacity:.9,width:1,dasharray:"10 20",dashoffset:1e3},transform:"scale(2)",transformOrigin:"left top"}]}))}}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/shape.component.stories.ts",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__})},235:function(module,__webpack_exports__,__webpack_require__){"use strict";var _lib_logger_module__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(145);__webpack_require__.d(__webpack_exports__,"LoggerModule",(function(){return _lib_logger_module__WEBPACK_IMPORTED_MODULE_0__.a}));__webpack_require__(102);var _lib_logger_model__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(148);__webpack_require__.o(_lib_logger_model__WEBPACK_IMPORTED_MODULE_2__,"LoggerService")&&__webpack_require__.d(__webpack_exports__,"LoggerService",(function(){return _lib_logger_model__WEBPACK_IMPORTED_MODULE_2__.LoggerService}));var _lib_logger_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(656);__webpack_require__.d(__webpack_exports__,"LoggerService",(function(){return _lib_logger_service__WEBPACK_IMPORTED_MODULE_3__.a}));__webpack_require__(657),__webpack_require__(658),__webpack_require__(659)},298:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<svg class="mdi" [ngClass]="{ spin: spin }" version="1.1" viewBox="0 0 24 24">\n  <path [attr.d]="path" d="M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z" />\n</svg>\n'},299:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="@-webkit-keyframes spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n@keyframes spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n:host {\n  display: inline;\n}\npath {\n  fill: currentColor;\n}\n.spin {\n  -webkit-animation: spin 3s infinite ease-out;\n          animation: spin 3s infinite ease-out;\n}"},300:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<video\n  *ngIf="audioUrl$ | async as audioUrl"\n  plopdown-ignore\n  (loadstart)="audioLoaded()"\n  #audioElem\n  [src]="audioUrl"\n  hidden="true"\n></video>\n\n<div class="audio-indicator">\n  <svg class="progress-ring" viewbox="0 0 120 120">\n    <circle\n      [ngStyle]="progressStyle$ | async"\n      stroke="white"\n      stroke-width="8%"\n      stroke-dasharray="8% 8%"\n      fill="transparent"\n      class="progress-ring__circle"\n      cx="50%"\n      cy="50%"\n      r="45%"\n    ></circle>\n  </svg>\n  <a title="Mute/Unmute Audio" href="#" (click)="toggleMute($event)">\n    <plopdown-icon\n      *ngIf="audioMuted; else unmuted"\n      [path]="mdiVolumeOff"\n    ></plopdown-icon>\n    <ng-template #unmuted>\n      <plopdown-icon [path]="mdiVolumeHigh"></plopdown-icon>\n    </ng-template>\n  </a>\n</div>\n\n<div class="title-box" *ngIf="data">\n  <div class="title">{{ data.title }}</div>\n</div>\n'},301:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=":host {\n  position: absolute;\n  transition: opacity 0.2s;\n  opacity: 0.4;\n}\n:host:hover, :host.active {\n  opacity: 1;\n}\n.audio-indicator {\n  font-family: sans-serif;\n  pointer-events: all;\n  width: 4em;\n  height: 4em;\n}\n.audio-indicator .progress-ring {\n  width: 4em;\n  height: 4em;\n  transition: stroke-dashoffset 0.35s;\n  transform: rotate(-90deg);\n  transform-origin: 50% 50%;\n}\n.title-box {\n  font-family: sans-serif;\n  pointer-events: all;\n  position: absolute;\n  left: 4.5em;\n  top: 0;\n  height: 4em;\n  white-space: nowrap;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n}\n.title-box .title {\n  background: white;\n  color: black;\n  font-family: sans-serif;\n  white-space: nowrap;\n  line-height: 1.5em;\n  padding: 0.3em 0.7em 0.2em;\n  border-radius: 1em;\n}\nplopdown-icon {\n  color: white;\n  position: absolute;\n  top: 15%;\n  left: 15%;\n  width: 70%;\n}"},302:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<ng-container *ngIf="data">\n  <h3>\n    <a\n      *ngIf="data.url"\n      [href]="data.url"\n      rel="noreferrer noopener"\n      target="_blank"\n      >{{ data.title }}</a\n    >\n    <ng-container *ngIf="!data.url">{{ data.title }}</ng-container>\n  </h3>\n\n  <h4>\n    Annotated By:\n    <span *ngIf="data.authors.length < 1">Anonymous</span>\n    <ng-container *ngFor="let author of data.authors; let isLast = last">\n      <span>{{ author }}</span\n      >{{ isLast ? \'\' : \', \' }}\n    </ng-container>\n  </h4>\n</ng-container>\n'},303:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=":host {\n  position: absolute;\n  top: 0;\n  left: 0;\n  padding: 2em;\n  pointer-events: all;\n  color: white;\n  background: linear-gradient(154deg, black, transparent, transparent);\n  text-shadow: 0 2px 10px rgba(0, 0, 0, 0.6);\n}\n:host h3 {\n  font-weight: bold;\n  font-size: 2em;\n  margin: 0;\n  padding: 0;\n}\n:host a {\n  color: inherit;\n}"},304:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div class="pd-icons" *ngIf="data && data.icons && data.icons.length">\n  <div\n    *ngFor="let icon of data.icons"\n    [ngStyle]="{\n      fontSize: icon.size + \'%\',\n      top: icon.top + \'%\',\n      left: icon.left + \'%\',\n      transform: \'rotate(\' + icon.rotate + \'deg)\'\n    }"\n    class="pd-icon"\n  >\n    {{ icon.emoji }}â€\n  </div>\n</div>\n<div class="desc" *ngIf="data">\n  {{ data.desc }}\n  <ul class="footnotes" *ngIf="data.footnotes">\n    <li class="footnote" *ngFor="let footnote of data.footnotes; let i = index">\n      <a\n        [title]="footnote.title"\n        [href]="footnote.url"\n        rel="noopener noreferrer"\n        target="_blank"\n        >[{{ i + 1 }}]</a\n      >\n    </li>\n  </ul>\n</div>\n'},305:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=":host {\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  padding-left: 4em;\n  font-family: sans-serif;\n  pointer-events: all;\n  min-height: 6em;\n}\n\n.plop-selected {\n  box-shadow: 0 0 0px 0.2em #64a4d6;\n}\n\n.menu-bubble {\n  position: absolute;\n  display: flex;\n  z-index: 20;\n  background: #000;\n  border-radius: 0.1em;\n  background-clip: padding-box;\n  padding: 0.3rem;\n  margin-bottom: 0.5rem;\n  transform: translateX(-50%);\n  visibility: hidden;\n  opacity: 0;\n  transition: opacity 0.2s, visibility 0.2s;\n}\n\n.menu-bubble-active {\n  opacity: 1;\n  visibility: visible;\n}\n\n.menu-button {\n  display: inline-flex;\n  background: transparent;\n  border: 0;\n  color: #fff;\n  padding: 0.2rem 0.5rem;\n  margin-right: 0.2rem;\n  border-radius: 3px;\n  cursor: pointer;\n}\n\n.menu-button:last-child {\n  margin-right: 0;\n}\n\n.menu-button:hover {\n  background-color: rgba(255, 255, 255, 0.1);\n}\n\n.menu-button-active {\n  background-color: rgba(255, 255, 255, 0.2);\n}\n\n.desc {\n  color: #111;\n  font-size: 1.2em;\n  background: #ddd;\n  border: 0.4em solid currentColor;\n  margin: 0;\n  padding: 0.5em 1em 0.5em 2em;\n  border-radius: 1em;\n}\n\n.footnotes,\n.footnote {\n  list-style: none;\n  display: inline;\n}\n\n.pd-icons {\n  color: #111;\n  background-clip: padding-box;\n  position: absolute;\n  top: 0;\n  left: 0;\n  font-size: 3em;\n  background: #eee;\n  border-radius: 50%;\n  text-align: center;\n  width: 2em;\n  height: 2em;\n  overflow: hidden;\n  border: 0.15em solid currentColor;\n  box-sizing: border-box;\n}\n\n.pd-icon {\n  font-family: monospace;\n  -webkit-font-kerning: none;\n  font-kerning: none;\n  top: 50%;\n  left: 50%;\n  position: absolute;\n  line-height: 1em;\n  width: 1em;\n  height: 1em;\n  margin-left: -0.5em;\n  margin-top: -0.45em;\n  text-align: center;\n}"},306:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<svg\n  class="shape"\n  preserveAspectRatio="none"\n  *ngIf="data"\n  [title]="data.title.text"\n  [style.top.%]="data.top"\n  [style.left.%]="data.left"\n  [attr.width]="data.width + \'%\'"\n  [attr.height]="data.height + \'%\'"\n  [attr.viewBox]="data.viewBox"\n>\n  <g\n    *ngFor="let element of data.elements"\n    [ngSwitch]="element.element"\n    [style.opacity]="element.opacity"\n    [style.stroke]="element.stroke?.color"\n    [style.strokeOpacity]="element.stroke?.opacity"\n    [style.strokeWidth.%]="element.stroke?.width"\n    [style.strokeLinecap]="element.stroke?.linecap"\n    [style.strokeLinejoin]="element.stroke?.linejoin"\n    [attr.stroke-dasharray]="element.stroke?.dasharray"\n    [attr.stroke-dashoffset]="element.stroke?.dashoffset"\n    [style.fill]="element.fill?.color"\n    [style.fillOpacity]="element.fill?.opacity"\n    [style.fillRule]="element.fill?.rule"\n    [style.transform]="element.transform"\n    [style.transformOrigin]="element.transformOrigin"\n  >\n    <ellipse\n      *ngSwitchCase="\'ellipse\'"\n      [attr.cx]="element[\'cx\']"\n      [attr.cy]="element[\'cy\']"\n      [attr.rx]="element[\'rx\']"\n      [attr.ry]="element[\'ry\']"\n    ></ellipse>\n    <rect\n      *ngSwitchCase="\'rect\'"\n      [attr.x]="element[\'x\']"\n      [attr.y]="element[\'y\']"\n      [attr.width]="element[\'width\']"\n      [attr.height]="element[\'height\']"\n      [attr.rx]="element[\'rx\']"\n      [attr.ry]="element[\'ry\']"\n    ></rect>\n    <path *ngSwitchCase="\'path\'" [attr.d]="element[\'d\']"></path>\n    <polygon\n      *ngSwitchCase="\'polygon\'"\n      [attr.points]="element[\'points\']"\n    ></polygon>\n    <polyline\n      *ngSwitchCase="\'polyline\'"\n      [attr.points]="element[\'points\']"\n    ></polyline>\n  </g>\n</svg>\n'},307:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=".shape {\n  position: absolute;\n  top: 0;\n  left: 0;\n}"},548:function(module,exports){function webpackEmptyAsyncContext(req){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}))}webpackEmptyAsyncContext.keys=function(){return[]},webpackEmptyAsyncContext.resolve=webpackEmptyAsyncContext,module.exports=webpackEmptyAsyncContext,webpackEmptyAsyncContext.id=548},656:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return LoggerService}));var _a,_b,tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_logger_model__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(148),_logger_module__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(145),_logger_config__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(102),_angular_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1);let LoggerService=class LoggerService{constructor(config,injector){this.injector=injector,this.providers=config.providers.map(provider=>this.injector.get(provider)),this.devMode?this.info("Logger started in dev mode."):this.info("Logger started in prod mode.")}debug(message,...optionalParams){this.providers.forEach(provider=>{provider.debug(message,...optionalParams)})}log(message,...optionalParams){this.providers.forEach(provider=>{provider.log(message,...optionalParams)})}error(message,...optionalParams){this.providers.forEach(provider=>{provider.error(message,...optionalParams)})}info(message,...optionalParams){this.providers.forEach(provider=>{provider.info(message,...optionalParams)})}warn(message,...optionalParams){this.providers.forEach(provider=>{provider.warn(message,...optionalParams)})}};LoggerService=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__.Injectable)({providedIn:_logger_module__WEBPACK_IMPORTED_MODULE_2__.a}),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.e)(0,Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__.Inject)(_logger_config__WEBPACK_IMPORTED_MODULE_3__.a)),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)("design:paramtypes",["function"==typeof(_a=void 0!==_logger_model__WEBPACK_IMPORTED_MODULE_1__.LoggerConfig&&_logger_model__WEBPACK_IMPORTED_MODULE_1__.LoggerConfig)?_a:Object,"function"==typeof(_b=void 0!==_angular_core__WEBPACK_IMPORTED_MODULE_4__.Injector&&_angular_core__WEBPACK_IMPORTED_MODULE_4__.Injector)?_b:Object])],LoggerService)},657:function(module,exports){},658:function(module,__webpack_exports__,__webpack_require__){"use strict";var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),_logger_module__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(145),_logger_config__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(102);let LogConsoleService=class LogConsoleService{constructor(config){this.isDevMode=Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.isDevMode)(),this.css=`color: ${config.color}; font-weight: bold;`,this.appName=`%c[${config.appName}]`}debug(message,...optionalParams){this.isDevMode&&console.debug(`${this.appName}`,this.css,message,...optionalParams)}log(message,...optionalParams){this.isDevMode&&console.log(this.appName,this.css,message,...optionalParams)}error(message,...optionalParams){console.error(this.appName,this.css,message,...optionalParams)}info(message,...optionalParams){console.info(this.appName,this.css,message,...optionalParams)}warn(message,...optionalParams){console.warn(this.appName,this.css,message,...optionalParams)}};LogConsoleService=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable)({providedIn:_logger_module__WEBPACK_IMPORTED_MODULE_2__.a}),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.e)(0,Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject)(_logger_config__WEBPACK_IMPORTED_MODULE_3__.a)),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)("design:paramtypes",[Object])],LogConsoleService)},659:function(module,__webpack_exports__,__webpack_require__){"use strict";var _a,tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_logger_model__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(148),_angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),_logger_module__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(145),rxjs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(19),rxjs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(15),rxjs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(45),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(234),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(35),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(146),_logger_config__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(102);let LogStorageService=class LogStorageService{constructor(config){this.config=config,this.appendLog$=new rxjs__WEBPACK_IMPORTED_MODULE_4__.a,this.subs=new rxjs__WEBPACK_IMPORTED_MODULE_5__.a;const appendedLogsSub=this.appendLog$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.a)(log=>{const logRow=[(new Date).toISOString(),log[0],log[1],...log[2]];return this.getLogs().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.a)(logs=>(logs.unshift(logRow),logs.slice(0,100))),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.a)(logs=>this.setLogs(logs)))})).subscribe({error:err=>console.error(err)});this.subs.add(appendedLogsSub)}ngOnDestroy(){this.subs.unsubscribe()}debug(...messages){const logData=this.stringify(messages);this.appendLogs("DEBUG",logData)}log(...messages){const logData=this.stringify(messages);this.appendLogs("LOG",logData)}error(...messages){const logData=this.stringify(messages);this.appendLogs("ERROR",logData)}info(...messages){const logData=this.stringify(messages);this.appendLogs("INFO",logData)}warn(...messages){const logData=this.stringify(messages);this.appendLogs("WARN",logData)}stringify(messages){return messages.map(message=>{if(message instanceof Error){const error=Object.getOwnPropertyNames(message).reduce((memo,errorKey)=>(memo[errorKey]=message[errorKey],memo),{});return JSON.stringify(error)}return message instanceof Date?JSON.stringify(message.toISOString()):JSON.stringify(message)})}getLogs(){return Object(rxjs__WEBPACK_IMPORTED_MODULE_6__.a)(browser.storage.local.get("LOGGER")).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.a)(keys=>keys.LOGGER||[]))}setLogs(logs){return Object(rxjs__WEBPACK_IMPORTED_MODULE_6__.a)(browser.storage.local.set({LOGGER:logs}))}appendLogs(level,logs){const source=this.config.appName;this.appendLog$.next([source,level,logs])}};LogStorageService=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__.Injectable)({providedIn:_logger_module__WEBPACK_IMPORTED_MODULE_3__.a}),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.e)(0,Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__.Inject)(_logger_config__WEBPACK_IMPORTED_MODULE_10__.a)),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)("design:paramtypes",["function"==typeof(_a=void 0!==_logger_model__WEBPACK_IMPORTED_MODULE_1__.LoggerConfig&&_logger_model__WEBPACK_IMPORTED_MODULE_1__.LoggerConfig)?_a:Object])],LogStorageService)},674:function(module,exports,__webpack_require__){__webpack_require__(675),__webpack_require__(817),module.exports=__webpack_require__(818)},737:function(module,exports){},818:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_angular__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(168),_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(165),_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(69);__webpack_require__(1690);Object(_storybook_angular__WEBPACK_IMPORTED_MODULE_0__.addDecorator)(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__.withKnobs),Object(_storybook_angular__WEBPACK_IMPORTED_MODULE_0__.addParameters)({docs:{container:_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_1__.DocsContainer,page:_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_1__.DocsPage}}),Object(_storybook_angular__WEBPACK_IMPORTED_MODULE_0__.configure)(__webpack_require__(1646),module)}.call(this,__webpack_require__(819)(module))}},[[674,1,2]]]);
//# sourceMappingURL=main.2ef7b36226ffc09e4c92.bundle.js.map