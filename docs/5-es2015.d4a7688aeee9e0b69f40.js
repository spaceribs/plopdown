(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"+IR+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,i.default)(e);var t=e.split("/");return 2===t.length&&!!o.test(t[1])&&!(t[1].length>1&&t[1].startsWith("0"))&&(0,r.default)(t[0],4)&&t[1]<=32&&t[1]>=0};var i=s(n("6k7E")),r=s(n("mWng"));function s(e){return e&&e.__esModule?e:{default:e}}var o=/^\d{1,2}$/;e.exports=t.default,e.exports.default=t.default},"+KhQ":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,i.default)((0,r.default)(e,t),t)};var i=s(n("RTjj")),r=s(n("KFgP"));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default,e.exports.default=t.default},"+kin":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";if((0,r.default)(e),t in s.alphanumeric)return s.alphanumeric[t].test(e);throw new Error("Invalid locale '".concat(t,"'"))},t.locales=void 0;var i,r=(i=n("6k7E"))&&i.__esModule?i:{default:i},s=n("6P0E"),o=Object.keys(s.alphanumeric);t.locales=o},"/64y":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,r.default)(e),t in s)return s[t](e);if("any"===t){for(var n in s)if(s.hasOwnProperty(n)&&(0,s[n])(e))return!0;return!1}throw new Error("Invalid locale '".concat(t,"'"))};var i,r=(i=n("6k7E"))&&i.__esModule?i:{default:i},s={ES:function(e){(0,r.default)(e);var t={X:0,Y:1,Z:2},n=e.trim().toUpperCase();if(!/^[0-9X-Z][0-9]{7}[TRWAGMYFPDXBNJZSQVHLCKE]$/.test(n))return!1;var i=n.slice(0,-1).replace(/[X,Y,Z]/g,(function(e){return t[e]}));return n.endsWith(["T","R","W","A","G","M","Y","F","P","D","X","B","N","J","Z","S","Q","V","H","L","C","K","E"][i%23])},"he-IL":function(e){var t=e.trim();if(!/^\d{9}$/.test(t))return!1;for(var n,i=t,r=0,s=0;s<i.length;s++)r+=(n=Number(i[s])*(s%2+1))>9?n-9:n;return r%10==0},"zh-TW":function(e){var t={A:10,B:11,C:12,D:13,E:14,F:15,G:16,H:17,I:34,J:18,K:19,L:20,M:21,N:22,O:35,P:23,Q:24,R:25,S:26,T:27,U:28,V:29,W:32,X:30,Y:31,Z:33},n=e.trim().toUpperCase();return!!/^[A-Z][0-9]{9}$/.test(n)&&Array.from(n).reduce((function(e,n,i){if(0===i){var r=t[n];return r%10*9+Math.floor(r/10)}return 9===i?(10-e%10-Number(n))%10==0:e+Number(n)*(9-i)}),0)}};e.exports=t.default,e.exports.default=t.default},"1iRs":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),["true","false","1","0"].indexOf(e)>=0};var i,r=(i=n("6k7E"))&&i.__esModule?i:{default:i};e.exports=t.default,e.exports.default=t.default},"2PAF":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(e);var t=e.split(",");if(t.length<2)return!1;var n=t.shift().trim().split(";"),i=n.shift();if("data:"!==i.substr(0,5))return!1;var l=i.substr(5);if(""!==l&&!s.test(l))return!1;for(var c=0;c<n.length;c++)if(c===n.length-1&&"base64"===n[c].toLowerCase());else if(!o.test(n[c]))return!1;for(var u=0;u<t.length;u++)if(!a.test(t[u]))return!1;return!0};var i,r=(i=n("6k7E"))&&i.__esModule?i:{default:i},s=/^[a-z]+\/[a-z0-9\-\+]+$/i,o=/^[a-z\-]+=[a-z0-9\-]+$/i,a=/^[a-z0-9!\$&'\(\)\*\+,;=\-\._~:@\/\?%\s]*$/i;e.exports=t.default,e.exports.default=t.default},"2Z+7":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(e);var n=(t=t||{}).hasOwnProperty("allow_leading_zeroes")&&!t.allow_leading_zeroes?s:o,i=!t.hasOwnProperty("min")||e>=t.min,a=!t.hasOwnProperty("max")||e<=t.max,l=!t.hasOwnProperty("lt")||e<t.lt,c=!t.hasOwnProperty("gt")||e>t.gt;return n.test(e)&&i&&a&&l&&c};var i,r=(i=n("6k7E"))&&i.__esModule?i:{default:i},s=/^(?:[-+]?(?:0|[1-9][0-9]*))$/,o=/^[-+]?[0-9]+$/;e.exports=t.default,e.exports.default=t.default},"2uJw":function(e,t){var n,i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/,s=/^\./,o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,l=/^\[object .+?Constructor\]$/,c="object"==typeof global&&global&&global.Object===Object&&global,u="object"==typeof self&&self&&self.Object===Object&&self,d=c||u||Function("return this")(),h=Array.prototype,p=Function.prototype,f=Object.prototype,m=d["__core-js_shared__"],g=(n=/[^.]+$/.exec(m&&m.keys&&m.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",y=p.toString,b=f.hasOwnProperty,v=f.toString,_=RegExp("^"+y.call(b).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),E=d.Symbol,w=h.splice,O=I(d,"Map"),P=I(Object,"create"),A=E?E.prototype:void 0,T=A?A.toString:void 0;function C(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function k(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function x(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function S(e,t){for(var n,i,r=e.length;r--;)if((n=e[r][0])===(i=t)||n!=n&&i!=i)return r;return-1}function M(e,t){var n,i,r=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map}function I(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!L(e)||(t=e,g&&g in t))&&(function(e){var t=L(e)?v.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}(e)?_:l).test(function(e){if(null!=e){try{return y.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e));var t}(n)?n:void 0}C.prototype.clear=function(){this.__data__=P?P(null):{}},C.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},C.prototype.get=function(e){var t=this.__data__;if(P){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return b.call(t,e)?t[e]:void 0},C.prototype.has=function(e){var t=this.__data__;return P?void 0!==t[e]:b.call(t,e)},C.prototype.set=function(e,t){return this.__data__[e]=P&&void 0===t?"__lodash_hash_undefined__":t,this},k.prototype.clear=function(){this.__data__=[]},k.prototype.delete=function(e){var t=this.__data__,n=S(t,e);return!(n<0||(n==t.length-1?t.pop():w.call(t,n,1),0))},k.prototype.get=function(e){var t=this.__data__,n=S(t,e);return n<0?void 0:t[n][1]},k.prototype.has=function(e){return S(this.__data__,e)>-1},k.prototype.set=function(e,t){var n=this.__data__,i=S(n,e);return i<0?n.push([e,t]):n[i][1]=t,this},x.prototype.clear=function(){this.__data__={hash:new C,map:new(O||k),string:new C}},x.prototype.delete=function(e){return M(this,e).delete(e)},x.prototype.get=function(e){return M(this,e).get(e)},x.prototype.has=function(e){return M(this,e).has(e)},x.prototype.set=function(e,t){return M(this,e).set(e,t),this};var j=N((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(D(e))return T?T.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(t);var n=[];return s.test(e)&&n.push(""),e.replace(o,(function(e,t,i,r){n.push(i?r.replace(a,"$1"):t||e)})),n}));function R(e){if("string"==typeof e||D(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function N(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],s=n.cache;if(s.has(r))return s.get(r);var o=e.apply(this,i);return n.cache=s.set(r,o),o};return n.cache=new(N.Cache||x),n}N.Cache=x;var V=Array.isArray;function L(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function D(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==v.call(e)}e.exports=function(e,t,n){var s=null==e?void 0:function(e,t){for(var n,s=0,o=(t=function(e,t){if(V(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!D(e))||r.test(e)||!i.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:V(n=t)?n:j(n)).length;null!=e&&s<o;)e=e[R(t[s++])];return s&&s==o?e:void 0}(e,t);return void 0===s?n:s}},"37Pz":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,r.default)(e),t in l)return l[t].test(e);if("any"===t){for(var n in l)if(l.hasOwnProperty(n)&&l[n].test(e))return!0;return!1}throw new Error("Invalid locale '".concat(t,"'"))},t.locales=void 0;var i,r=(i=n("6k7E"))&&i.__esModule?i:{default:i},s=/^\d{4}$/,o=/^\d{5}$/,a=/^\d{6}$/,l={AD:/^AD\d{3}$/,AT:s,AU:s,BE:s,BG:s,BR:/^\d{5}-\d{3}$/,CA:/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJ-NPRSTV-Z][\s\-]?\d[ABCEGHJ-NPRSTV-Z]\d$/i,CH:s,CZ:/^\d{3}\s?\d{2}$/,DE:o,DK:s,DZ:o,EE:o,ES:o,FI:o,FR:/^\d{2}\s?\d{3}$/,GB:/^(gir\s?0aa|[a-z]{1,2}\d[\da-z]?\s?(\d[a-z]{2})?)$/i,GR:/^\d{3}\s?\d{2}$/,HR:/^([1-5]\d{4}$)/,HU:s,ID:o,IL:o,IN:a,IS:/^\d{3}$/,IT:o,JP:/^\d{3}\-\d{4}$/,KE:o,LI:/^(948[5-9]|949[0-7])$/,LT:/^LT\-\d{5}$/,LU:s,LV:/^LV\-\d{4}$/,MX:o,MT:/^[A-Za-z]{3}\s{0,1}\d{4}$/,NL:/^\d{4}\s?[a-z]{2}$/i,NO:s,NZ:s,PL:/^\d{2}\-\d{3}$/,PR:/^00[679]\d{2}([ -]\d{4})?$/,PT:/^\d{4}\-\d{3}?$/,RO:a,RU:a,SA:o,SE:/^\d{3}\s?\d{2}$/,SI:s,SK:/^\d{3}\s?\d{2}$/,TN:s,TW:/^\d{3}(\d{2})?$/,UA:o,US:/^\d{5}(-\d{4})?$/,ZA:s,ZM:o},c=Object.keys(l);t.locales=c},"4xeo":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,r.default)(e),t&&t.no_colons?o.test(e):s.test(e)};var i,r=(i=n("6k7E"))&&i.__esModule?i:{default:i},s=/^([0-9a-fA-F][0-9a-fA-F]:){5}([0-9a-fA-F][0-9a-fA-F])$/,o=/^([0-9a-fA-F]){12}$/;e.exports=t.default,e.exports.default=t.default},"4zpw":function(e,t,n){"use strict";var i=n("wuXC"),r=n("mhZG"),s=n("7FU5"),o=n("OIxy"),a=n("HOZy");function l(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function c(e,t){if("object"==typeof e&&null!==e){if(!t)return e;if(e.id&&(e.id===t||"#"===e.id[0]&&e.id.substring(1)===t))return e;var n,i;if(Array.isArray(e)){for(n=e.length;n--;)if(i=c(e[n],t))return i}else{var r=Object.keys(e);for(n=r.length;n--;){var s=r[n];if(0!==s.indexOf("__$")&&(i=c(e[s],t)))return i}}}}t.cacheSchemaByUri=function(e,t){var n=l(e);n&&(this.cache[n]=t)},t.removeFromCacheByUri=function(e){var t=l(e);t&&delete this.cache[t]},t.checkCacheForUri=function(e){var t=l(e);return!!t&&null!=this.cache[t]},t.getSchema=function(e,n){return"object"==typeof n&&(n=t.getSchemaByReference.call(this,e,n)),"string"==typeof n&&(n=t.getSchemaByUri.call(this,e,n)),n},t.getSchemaByReference=function(e,t){for(var n=this.referenceCache.length;n--;)if(i(this.referenceCache[n][0],t))return this.referenceCache[n][1];var r=a.cloneDeep(t);return this.referenceCache.push([t,r]),r},t.getSchemaByUri=function(e,t,n){var i=l(t),a=function(e){var t=e.indexOf("#");return-1===t?void 0:e.slice(t+1)}(t),u=i?this.cache[i]:n;if(u&&i&&u!==n){var d;e.path.push(i);var h=e.getAncestor(u.id);if(h)d=h;else if(d=new r(e),s.compileSchema.call(this,d,u)){var p=this.options;try{this.options=u.__$validationOptions||this.options,o.validateSchema.call(this,d,u)}finally{this.options=p}}var f=d.isValid();if(f||e.addError("REMOTE_NOT_VALID",[t],d),e.path.pop(),!f)return}if(u&&a)for(var m=a.split("/"),g=0,y=m.length;u&&g<y;g++){var b=decodeURIComponent(m[g]).replace(/~[0-1]/g,(function(e){return"~1"===e?"/":"~"}));u=0===g?c(u,b):u[b]}return u},t.getRemotePath=l},"5Cbq":function(e,t,n){"use strict";e.exports={INVALID_TYPE:"Expected type {0} but found type {1}",INVALID_FORMAT:"Object didn't pass validation for format {0}: {1}",ENUM_MISMATCH:"No enum match for: {0}",ENUM_CASE_MISMATCH:"Enum does not match case for: {0}",ANY_OF_MISSING:"Data does not match any schemas from 'anyOf'",ONE_OF_MISSING:"Data does not match any schemas from 'oneOf'",ONE_OF_MULTIPLE:"Data is valid against more than one schema from 'oneOf'",NOT_PASSED:"Data matches schema from 'not'",ARRAY_LENGTH_SHORT:"Array is too short ({0}), minimum {1}",ARRAY_LENGTH_LONG:"Array is too long ({0}), maximum {1}",ARRAY_UNIQUE:"Array items are not unique (indexes {0} and {1})",ARRAY_ADDITIONAL_ITEMS:"Additional items not allowed",MULTIPLE_OF:"Value {0} is not a multiple of {1}",MINIMUM:"Value {0} is less than minimum {1}",MINIMUM_EXCLUSIVE:"Value {0} is equal or less than exclusive minimum {1}",MAXIMUM:"Value {0} is greater than maximum {1}",MAXIMUM_EXCLUSIVE:"Value {0} is equal or greater than exclusive maximum {1}",OBJECT_PROPERTIES_MINIMUM:"Too few properties defined ({0}), minimum {1}",OBJECT_PROPERTIES_MAXIMUM:"Too many properties defined ({0}), maximum {1}",OBJECT_MISSING_REQUIRED_PROPERTY:"Missing required property: {0}",OBJECT_ADDITIONAL_PROPERTIES:"Additional properties not allowed: {0}",OBJECT_DEPENDENCY_KEY:"Dependency failed - key must exist: {0} (due to key: {1})",MIN_LENGTH:"String is too short ({0} chars), minimum {1}",MAX_LENGTH:"String is too long ({0} chars), maximum {1}",PATTERN:"String does not match pattern {0}: {1}",KEYWORD_TYPE_EXPECTED:"Keyword '{0}' is expected to be of type '{1}'",KEYWORD_UNDEFINED_STRICT:"Keyword '{0}' must be defined in strict mode",KEYWORD_UNEXPECTED:"Keyword '{0}' is not expected to appear in the schema",KEYWORD_MUST_BE:"Keyword '{0}' must be {1}",KEYWORD_DEPENDENCY:"Keyword '{0}' requires keyword '{1}'",KEYWORD_PATTERN:"Keyword '{0}' is not a valid RegExp pattern: {1}",KEYWORD_VALUE_TYPE:"Each element of keyword '{0}' array must be a '{1}'",UNKNOWN_FORMAT:"There is no validation function for format '{0}'",CUSTOM_MODE_FORCE_PROPERTIES:"{0} must define at least one property if present",REF_UNRESOLVED:"Reference has not been resolved during compilation: {0}",UNRESOLVABLE_REFERENCE:"Reference could not be resolved: {0}",SCHEMA_NOT_REACHABLE:"Validator was not able to read schema with uri: {0}",SCHEMA_TYPE_EXPECTED:"Schema is expected to be of type 'object'",SCHEMA_NOT_AN_OBJECT:"Schema is not an object: {0}",ASYNC_TIMEOUT:"{0} asynchronous task(s) have timed out after {1} ms",PARENT_SCHEMA_VALIDATION_FAILED:"Schema failed to validate against its parent schema, see inner errors for details.",REMOTE_NOT_VALID:"Remote reference didn't compile successfully: {0}"}},"6P0E":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.commaDecimal=t.dotDecimal=t.arabicLocales=t.englishLocales=t.decimal=t.alphanumeric=t.alpha=void 0;var i={"en-US":/^[A-Z]+$/i,"bg-BG":/^[\u0410-\u042f]+$/i,"cs-CZ":/^[A-Z\xc1\u010c\u010e\xc9\u011a\xcd\u0147\xd3\u0158\u0160\u0164\xda\u016e\xdd\u017d]+$/i,"da-DK":/^[A-Z\xc6\xd8\xc5]+$/i,"de-DE":/^[A-Z\xc4\xd6\xdc\xdf]+$/i,"el-GR":/^[\u0391-\u03c9]+$/i,"es-ES":/^[A-Z\xc1\xc9\xcd\xd1\xd3\xda\xdc]+$/i,"fr-FR":/^[A-Z\xc0\xc2\xc6\xc7\xc9\xc8\xca\xcb\xcf\xce\xd4\u0152\xd9\xdb\xdc\u0178]+$/i,"it-IT":/^[A-Z\xc0\xc9\xc8\xcc\xce\xd3\xd2\xd9]+$/i,"nb-NO":/^[A-Z\xc6\xd8\xc5]+$/i,"nl-NL":/^[A-Z\xc1\xc9\xcb\xcf\xd3\xd6\xdc\xda]+$/i,"nn-NO":/^[A-Z\xc6\xd8\xc5]+$/i,"hu-HU":/^[A-Z\xc1\xc9\xcd\xd3\xd6\u0150\xda\xdc\u0170]+$/i,"pl-PL":/^[A-Z\u0104\u0106\u0118\u015a\u0141\u0143\xd3\u017b\u0179]+$/i,"pt-PT":/^[A-Z\xc3\xc1\xc0\xc2\xc7\xc9\xca\xcd\xd5\xd3\xd4\xda\xdc]+$/i,"ru-RU":/^[\u0410-\u042f\u0401]+$/i,"sl-SI":/^[A-Z\u010c\u0106\u0110\u0160\u017d]+$/i,"sk-SK":/^[A-Z\xc1\u010c\u010e\xc9\xcd\u0147\xd3\u0160\u0164\xda\xdd\u017d\u0139\u0154\u013d\xc4\xd4]+$/i,"sr-RS@latin":/^[A-Z\u010c\u0106\u017d\u0160\u0110]+$/i,"sr-RS":/^[\u0410-\u042f\u0402\u0408\u0409\u040a\u040b\u040f]+$/i,"sv-SE":/^[A-Z\xc5\xc4\xd6]+$/i,"tr-TR":/^[A-Z\xc7\u011e\u0130\u0131\xd6\u015e\xdc]+$/i,"uk-UA":/^[\u0410-\u0429\u042c\u042e\u042f\u0404I\u0407\u0490\u0456]+$/i,"ku-IQ":/^[\u0626\u0627\u0628\u067e\u062a\u062c\u0686\u062d\u062e\u062f\u0631\u0695\u0632\u0698\u0633\u0634\u0639\u063a\u0641\u06a4\u0642\u06a9\u06af\u0644\u06b5\u0645\u0646\u0648\u06c6\u06be\u06d5\u06cc\u06ce\u064a\u0637\u0624\u062b\u0622\u0625\u0623\u0643\u0636\u0635\u0629\u0638\u0630]+$/i,ar:/^[\u0621\u0622\u0623\u0624\u0625\u0626\u0627\u0628\u0629\u062a\u062b\u062c\u062d\u062e\u062f\u0630\u0631\u0632\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063a\u0641\u0642\u0643\u0644\u0645\u0646\u0647\u0648\u0649\u064a\u064b\u064c\u064d\u064e\u064f\u0650\u0651\u0652\u0670]+$/};t.alpha=i;var r={"en-US":/^[0-9A-Z]+$/i,"bg-BG":/^[0-9\u0410-\u042f]+$/i,"cs-CZ":/^[0-9A-Z\xc1\u010c\u010e\xc9\u011a\xcd\u0147\xd3\u0158\u0160\u0164\xda\u016e\xdd\u017d]+$/i,"da-DK":/^[0-9A-Z\xc6\xd8\xc5]+$/i,"de-DE":/^[0-9A-Z\xc4\xd6\xdc\xdf]+$/i,"el-GR":/^[0-9\u0391-\u03c9]+$/i,"es-ES":/^[0-9A-Z\xc1\xc9\xcd\xd1\xd3\xda\xdc]+$/i,"fr-FR":/^[0-9A-Z\xc0\xc2\xc6\xc7\xc9\xc8\xca\xcb\xcf\xce\xd4\u0152\xd9\xdb\xdc\u0178]+$/i,"it-IT":/^[0-9A-Z\xc0\xc9\xc8\xcc\xce\xd3\xd2\xd9]+$/i,"hu-HU":/^[0-9A-Z\xc1\xc9\xcd\xd3\xd6\u0150\xda\xdc\u0170]+$/i,"nb-NO":/^[0-9A-Z\xc6\xd8\xc5]+$/i,"nl-NL":/^[0-9A-Z\xc1\xc9\xcb\xcf\xd3\xd6\xdc\xda]+$/i,"nn-NO":/^[0-9A-Z\xc6\xd8\xc5]+$/i,"pl-PL":/^[0-9A-Z\u0104\u0106\u0118\u015a\u0141\u0143\xd3\u017b\u0179]+$/i,"pt-PT":/^[0-9A-Z\xc3\xc1\xc0\xc2\xc7\xc9\xca\xcd\xd5\xd3\xd4\xda\xdc]+$/i,"ru-RU":/^[0-9\u0410-\u042f\u0401]+$/i,"sl-SI":/^[0-9A-Z\u010c\u0106\u0110\u0160\u017d]+$/i,"sk-SK":/^[0-9A-Z\xc1\u010c\u010e\xc9\xcd\u0147\xd3\u0160\u0164\xda\xdd\u017d\u0139\u0154\u013d\xc4\xd4]+$/i,"sr-RS@latin":/^[0-9A-Z\u010c\u0106\u017d\u0160\u0110]+$/i,"sr-RS":/^[0-9\u0410-\u042f\u0402\u0408\u0409\u040a\u040b\u040f]+$/i,"sv-SE":/^[0-9A-Z\xc5\xc4\xd6]+$/i,"tr-TR":/^[0-9A-Z\xc7\u011e\u0130\u0131\xd6\u015e\xdc]+$/i,"uk-UA":/^[0-9\u0410-\u0429\u042c\u042e\u042f\u0404I\u0407\u0490\u0456]+$/i,"ku-IQ":/^[\u0660\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u06690-9\u0626\u0627\u0628\u067e\u062a\u062c\u0686\u062d\u062e\u062f\u0631\u0695\u0632\u0698\u0633\u0634\u0639\u063a\u0641\u06a4\u0642\u06a9\u06af\u0644\u06b5\u0645\u0646\u0648\u06c6\u06be\u06d5\u06cc\u06ce\u064a\u0637\u0624\u062b\u0622\u0625\u0623\u0643\u0636\u0635\u0629\u0638\u0630]+$/i,ar:/^[\u0660\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u06690-9\u0621\u0622\u0623\u0624\u0625\u0626\u0627\u0628\u0629\u062a\u062b\u062c\u062d\u062e\u062f\u0630\u0631\u0632\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063a\u0641\u0642\u0643\u0644\u0645\u0646\u0647\u0648\u0649\u064a\u064b\u064c\u064d\u064e\u064f\u0650\u0651\u0652\u0670]+$/};t.alphanumeric=r;var s={"en-US":".",ar:"\u066b"};t.decimal=s;var o=["AU","GB","HK","IN","NZ","ZA","ZM"];t.englishLocales=o;for(var a,l=0;l<o.length;l++)i[a="en-".concat(o[l])]=i["en-US"],r[a]=r["en-US"],s[a]=s["en-US"];var c=["AE","BH","DZ","EG","IQ","JO","KW","LB","LY","MA","QM","QA","SA","SD","SY","TN","YE"];t.arabicLocales=c;for(var u,d=0;d<c.length;d++)i[u="ar-".concat(c[d])]=i.ar,r[u]=r.ar,s[u]=s.ar;var h=["ar-EG","ar-LB","ar-LY"];t.dotDecimal=h;var p=["bg-BG","cs-CZ","da-DK","de-DE","el-GR","en-ZM","es-ES","fr-FR","it-IT","ku-IQ","hu-HU","nb-NO","nn-NO","nl-NL","pl-PL","pt-PT","ru-RU","sl-SI","sr-RS@latin","sr-RS","sv-SE","tr-TR","uk-UA"];t.commaDecimal=p;for(var f=0;f<h.length;f++)s[h[f]]=s["en-US"];for(var m=0;m<p.length;m++)s[p[m]]=",";i["pt-BR"]=i["pt-PT"],r["pt-BR"]=r["pt-PT"],s["pt-BR"]=s["pt-PT"],i["pl-Pl"]=i["pl-PL"],r["pl-Pl"]=r["pl-PL"],s["pl-Pl"]=s["pl-PL"]},"6Wgl":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,i.default)(e),!e||e.length>=2083||/[\s<>]/.test(e))return!1;if(0===e.indexOf("mailto:"))return!1;var n,a,d,h,p,f,m,g;if(t=(0,o.default)(t,l),m=e.split("#"),e=m.shift(),m=e.split("?"),e=m.shift(),(m=e.split("://")).length>1){if(n=m.shift().toLowerCase(),t.require_valid_protocol&&-1===t.protocols.indexOf(n))return!1}else{if(t.require_protocol)return!1;if("//"===e.substr(0,2)){if(!t.allow_protocol_relative_urls)return!1;m[0]=e.substr(2)}}if(""===(e=m.join("://")))return!1;if(m=e.split("/"),""===(e=m.shift())&&!t.require_host)return!0;if((m=e.split("@")).length>1){if(t.disallow_auth)return!1;if((a=m.shift()).indexOf(":")>=0&&a.split(":").length>2)return!1}f=null,g=null;var y=(h=m.join("@")).match(c);return y?(d="",g=y[1],f=y[2]||null):(d=(m=h.split(":")).shift(),m.length&&(f=m.join(":"))),!(null!==f&&(p=parseInt(f,10),!/^[0-9]+$/.test(f)||p<=0||p>65535)||!((0,s.default)(d)||(0,r.default)(d,t)||g&&(0,s.default)(g,6))||(d=d||g,t.host_whitelist&&!u(d,t.host_whitelist)||t.host_blacklist&&u(d,t.host_blacklist)))};var i=a(n("6k7E")),r=a(n("TNgN")),s=a(n("mWng")),o=a(n("9fID"));function a(e){return e&&e.__esModule?e:{default:e}}var l={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_host:!0,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1},c=/^\[([^\]]+)\](?::([0-9]+))?$/;function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];if(e===i||"[object RegExp]"===Object.prototype.toString.call(i)&&i.test(e))return!0}return!1}e.exports=t.default,e.exports.default=t.default},"6k7E":function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;if(!("string"==typeof e||e instanceof String))throw t=null===e?"null":"object"===(t=i(e))&&e.constructor&&e.constructor.hasOwnProperty("name")?e.constructor.name:"a ".concat(t),new TypeError("Expected string but received ".concat(t,"."))},e.exports=t.default,e.exports.default=t.default},"7FU5":function(e,t,n){"use strict";var i=n("mhZG"),r=n("4zpw"),s=n("HOZy");function o(e,t){if(s.isAbsoluteUri(t))return t;var n,i=e.join(""),r=s.isAbsoluteUri(i),o=s.isRelativeUri(i),a=s.isRelativeUri(t);return r&&a?(n=i.match(/\/[^\/]*$/))&&(i=i.slice(0,n.index+1)):o&&a?i="":(n=i.match(/[^#/]+$/))&&(i=i.slice(0,n.index)),(i+t).replace(/##/,"#")}function a(e,t,n,i){if(t=t||[],n=n||[],i=i||[],"object"!=typeof e||null===e)return t;var r;if("string"==typeof e.id&&n.push(e.id),"string"==typeof e.$ref&&void 0===e.__$refResolved&&t.push({ref:o(n,e.$ref),key:"$ref",obj:e,path:i.slice(0)}),"string"==typeof e.$schema&&void 0===e.__$schemaResolved&&t.push({ref:o(n,e.$schema),key:"$schema",obj:e,path:i.slice(0)}),Array.isArray(e))for(r=e.length;r--;)i.push(r.toString()),a(e[r],t,n,i),i.pop();else{var s=Object.keys(e);for(r=s.length;r--;)0!==s[r].indexOf("__$")&&(i.push(s[r]),a(e[s[r]],t,n,i),i.pop())}return"string"==typeof e.id&&n.pop(),t}var l=function(e,n){for(var r=n.length,s=0;r--;){var o=new i(e);t.compileSchema.call(this,o,n[r])&&s++,e.errors=e.errors.concat(o.errors)}return s};function c(e,t){for(var n=e.length;n--;)if(e[n].id===t)return e[n];return null}var u=function(e,t){var n,i=0;do{for(var r=e.errors.length;r--;)"UNRESOLVABLE_REFERENCE"===e.errors[r].code&&e.errors.splice(r,1);for(n=i,i=l.call(this,e,t),r=t.length;r--;){var s=t[r];if(s.__$missingReferences){for(var o=s.__$missingReferences.length;o--;){var a=s.__$missingReferences[o],u=c(t,a.ref);u&&(a.obj["__"+a.key+"Resolved"]=u,s.__$missingReferences.splice(o,1))}0===s.__$missingReferences.length&&delete s.__$missingReferences}}}while(i!==t.length&&i!==n);return e.isValid()};t.compileSchema=function(e,n){if(e.commonErrorMessage="SCHEMA_COMPILATION_FAILED","string"==typeof n){var o=r.getSchemaByUri.call(this,e,n);if(!o)return e.addError("SCHEMA_NOT_REACHABLE",[n]),!1;n=o}if(Array.isArray(n))return u.call(this,e,n);if(n.__$compiled&&n.id&&!1===r.checkCacheForUri.call(this,n.id)&&(n.__$compiled=void 0),n.__$compiled)return!0;n.id&&"string"==typeof n.id&&r.cacheSchemaByUri.call(this,n.id,n);var l=!1;e.rootSchema||(e.rootSchema=n,l=!0);var c=e.isValid();delete n.__$missingReferences;for(var d=a.call(this,n),h=d.length;h--;){var p=d[h],f=r.getSchemaByUri.call(this,e,p.ref,n);if(!f){var m=this.getSchemaReader();if(m){var g=m(p.ref);if(g){g.id=p.ref;var y=new i(e);t.compileSchema.call(this,y,g)?f=r.getSchemaByUri.call(this,e,p.ref,n):e.errors=e.errors.concat(y.errors)}}}if(!f){var b=e.hasError("REMOTE_NOT_VALID",[p.ref]),v=s.isAbsoluteUri(p.ref),_=!1,E=!0===this.options.ignoreUnresolvableReferences;v&&(_=r.checkCacheForUri.call(this,p.ref)),b||E&&v||_||(Array.prototype.push.apply(e.path,p.path),e.addError("UNRESOLVABLE_REFERENCE",[p.ref]),e.path=e.path.slice(0,-p.path.length),c&&(n.__$missingReferences=n.__$missingReferences||[],n.__$missingReferences.push(p)))}p.obj["__"+p.key+"Resolved"]=f}var w=e.isValid();return w?n.__$compiled=!0:n.id&&"string"==typeof n.id&&r.removeFromCacheByUri.call(this,n.id),l&&(e.rootSchema=void 0),w}},"7T3L":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,r.default)(e),t&&t.no_symbols?o.test(e):s.test(e)};var i,r=(i=n("6k7E"))&&i.__esModule?i:{default:i},s=/^[+-]?([0-9]*[.])?[0-9]+$/,o=/^[0-9]+$/;e.exports=t.default,e.exports.default=t.default},"7u43":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if((0,r.default)(e),n&&n.strictMode&&!e.startsWith("+"))return!1;if(Array.isArray(t))return t.some((function(t){return!(!s.hasOwnProperty(t)||!s[t].test(e))}));if(t in s)return s[t].test(e);if(!t||"any"===t){for(var i in s)if(s.hasOwnProperty(i)&&s[i].test(e))return!0;return!1}throw new Error("Invalid locale '".concat(t,"'"))},t.locales=void 0;var i,r=(i=n("6k7E"))&&i.__esModule?i:{default:i},s={"ar-AE":/^((\+?971)|0)?5[024568]\d{7}$/,"ar-BH":/^(\+?973)?(3|6)\d{7}$/,"ar-DZ":/^(\+?213|0)(5|6|7)\d{8}$/,"ar-EG":/^((\+?20)|0)?1[0125]\d{8}$/,"ar-IQ":/^(\+?964|0)?7[0-9]\d{8}$/,"ar-JO":/^(\+?962|0)?7[789]\d{7}$/,"ar-KW":/^(\+?965)[569]\d{7}$/,"ar-SA":/^(!?(\+?966)|0)?5\d{8}$/,"ar-SY":/^(!?(\+?963)|0)?9\d{8}$/,"ar-TN":/^(\+?216)?[2459]\d{7}$/,"be-BY":/^(\+?375)?(24|25|29|33|44)\d{7}$/,"bg-BG":/^(\+?359|0)?8[789]\d{7}$/,"bn-BD":/^(\+?880|0)1[1356789][0-9]{8}$/,"cs-CZ":/^(\+?420)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"da-DK":/^(\+?45)?\s?\d{2}\s?\d{2}\s?\d{2}\s?\d{2}$/,"de-DE":/^(\+49)?0?1(5[0-25-9]\d|6([23]|0\d?)|7([0-57-9]|6\d))\d{7}$/,"el-GR":/^(\+?30|0)?(69\d{8})$/,"en-AU":/^(\+?61|0)4\d{8}$/,"en-GB":/^(\+?44|0)7\d{9}$/,"en-GH":/^(\+233|0)(20|50|24|54|27|57|26|56|23|28)\d{7}$/,"en-HK":/^(\+?852\-?)?[456789]\d{3}\-?\d{4}$/,"en-IE":/^(\+?353|0)8[356789]\d{7}$/,"en-IN":/^(\+?91|0)?[6789]\d{9}$/,"en-KE":/^(\+?254|0)(7|1)\d{8}$/,"en-MT":/^(\+?356|0)?(99|79|77|21|27|22|25)[0-9]{6}$/,"en-MU":/^(\+?230|0)?\d{8}$/,"en-NG":/^(\+?234|0)?[789]\d{9}$/,"en-NZ":/^(\+?64|0)[28]\d{7,9}$/,"en-PK":/^((\+92)|(0092))-{0,1}\d{3}-{0,1}\d{7}$|^\d{11}$|^\d{4}-\d{7}$/,"en-RW":/^(\+?250|0)?[7]\d{8}$/,"en-SG":/^(\+65)?[89]\d{7}$/,"en-TZ":/^(\+?255|0)?[67]\d{8}$/,"en-UG":/^(\+?256|0)?[7]\d{8}$/,"en-US":/^((\+1|1)?( |-)?)?(\([2-9][0-9]{2}\)|[2-9][0-9]{2})( |-)?([2-9][0-9]{2}( |-)?[0-9]{4})$/,"en-ZA":/^(\+?27|0)\d{9}$/,"en-ZM":/^(\+?26)?09[567]\d{7}$/,"es-CL":/^(\+?56|0)[2-9]\d{1}\d{7}$/,"es-ES":/^(\+?34)?(6\d{1}|7[1234])\d{7}$/,"es-MX":/^(\+?52)?(1|01)?\d{10,11}$/,"es-PY":/^(\+?595|0)9[9876]\d{7}$/,"es-UY":/^(\+598|0)9[1-9][\d]{6}$/,"et-EE":/^(\+?372)?\s?(5|8[1-4])\s?([0-9]\s?){6,7}$/,"fa-IR":/^(\+?98[\-\s]?|0)9[0-39]\d[\-\s]?\d{3}[\-\s]?\d{4}$/,"fi-FI":/^(\+?358|0)\s?(4(0|1|2|4|5|6)?|50)\s?(\d\s?){4,8}\d$/,"fj-FJ":/^(\+?679)?\s?\d{3}\s?\d{4}$/,"fo-FO":/^(\+?298)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"fr-FR":/^(\+?33|0)[67]\d{8}$/,"he-IL":/^(\+972|0)([23489]|5[012345689]|77)[1-9]\d{6}$/,"hu-HU":/^(\+?36)(20|30|70)\d{7}$/,"id-ID":/^(\+?62|0)8(1[123456789]|2[1238]|3[1238]|5[12356789]|7[78]|9[56789]|8[123456789])([\s?|\d]{5,11})$/,"it-IT":/^(\+?39)?\s?3\d{2} ?\d{6,7}$/,"ja-JP":/^(\+?81|0)[789]0[ \-]?[1-9]\d{2}[ \-]?\d{5}$/,"kk-KZ":/^(\+?7|8)?7\d{9}$/,"kl-GL":/^(\+?299)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"ko-KR":/^((\+?82)[ \-]?)?0?1([0|1|6|7|8|9]{1})[ \-]?\d{3,4}[ \-]?\d{4}$/,"lt-LT":/^(\+370|8)\d{8}$/,"ms-MY":/^(\+?6?01){1}(([0145]{1}(\-|\s)?\d{7,8})|([236789]{1}(\s|\-)?\d{7}))$/,"nb-NO":/^(\+?47)?[49]\d{7}$/,"nl-BE":/^(\+?32|0)4?\d{8}$/,"nl-NL":/^(\+?31|0)6?\d{8}$/,"nn-NO":/^(\+?47)?[49]\d{7}$/,"pl-PL":/^(\+?48)? ?[5-8]\d ?\d{3} ?\d{2} ?\d{2}$/,"pt-BR":/(?=^(\+?5{2}\-?|0)[1-9]{2}\-?\d{4}\-?\d{4}$)(^(\+?5{2}\-?|0)[1-9]{2}\-?[6-9]{1}\d{3}\-?\d{4}$)|(^(\+?5{2}\-?|0)[1-9]{2}\-?9[6-9]{1}\d{3}\-?\d{4}$)/,"pt-PT":/^(\+?351)?9[1236]\d{7}$/,"ro-RO":/^(\+?4?0)\s?7\d{2}(\/|\s|\.|\-)?\d{3}(\s|\.|\-)?\d{3}$/,"ru-RU":/^(\+?7|8)?9\d{9}$/,"sl-SI":/^(\+386\s?|0)(\d{1}\s?\d{3}\s?\d{2}\s?\d{2}|\d{2}\s?\d{3}\s?\d{3})$/,"sk-SK":/^(\+?421)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"sr-RS":/^(\+3816|06)[- \d]{5,9}$/,"sv-SE":/^(\+?46|0)[\s\-]?7[\s\-]?[02369]([\s\-]?\d){7}$/,"th-TH":/^(\+66|66|0)\d{9}$/,"tr-TR":/^(\+?90|0)?5\d{9}$/,"uk-UA":/^(\+?38|8)?0\d{9}$/,"vi-VN":/^(\+?84|0)((3([2-9]))|(5([2689]))|(7([0|6-9]))|(8([1-6|89]))|(9([0-9])))([0-9]{7})$/,"zh-CN":/^((\+|00)86)?1([358][0-9]|4[579]|6[67]|7[0135678]|9[189])[0-9]{8}$/,"zh-TW":/^(\+?886\-?|0)?9\d{8}$/};s["en-CA"]=s["en-US"],s["fr-BE"]=s["nl-BE"],s["zh-HK"]=s["en-HK"];var o=Object.keys(s);t.locales=o},"8sLn":function(e,t,n){const i=n("fPql"),r=n("nh+k").elements;class s{constructor(){this.expr=this.expr.bind(this),this._grammar=Object.assign({},r),this._lexer=null,this._transforms={}}addBinaryOp(e,t,n){this._addGrammarElement(e,{type:"binaryOp",precedence:t,eval:n})}addUnaryOp(e,t){this._addGrammarElement(e,{type:"unaryOp",weight:1/0,eval:t})}addTransform(e,t){this._transforms[e]=t}addTransforms(e){for(let t in e)e.hasOwnProperty(t)&&(this._transforms[t]=e[t])}compile(e){return this.createExpression(e).compile()}createExpression(e){const t=this._getLang();return new i(t,e)}getTransform(e){return this._transforms[e]}eval(e,t={}){return this.createExpression(e).eval(t)}evalSync(e,t={}){return this.createExpression(e).evalSync(t)}expr(e,...t){const n=e.reduce((e,n,i)=>e+(n+(i<t.length?t[i]:"")),"");return this.createExpression(n)}removeOp(e){!this._grammar[e]||"binaryOp"!==this._grammar[e].type&&"unaryOp"!==this._grammar[e].type||delete this._grammar[e]}_addGrammarElement(e,t){this._grammar[e]=t}_getLang(){return{grammar:this._grammar,transforms:this._transforms}}}e.exports=new s,e.exports.Jexl=s},"8tmx":function(e,t){t.argVal=function(e){this._cursor.args.push(e)},t.arrayStart=function(){this._placeAtCursor({type:"ArrayLiteral",value:[]})},t.arrayVal=function(e){e&&this._cursor.value.push(e)},t.binaryOp=function(e){const t=this._grammar[e.value].precedence||0;let n=this._cursor._parent;for(;n&&n.operator&&this._grammar[n.operator].precedence>=t;)this._cursor=n,n=n._parent;const i={type:"BinaryExpression",operator:e.value,left:this._cursor};this._setParent(this._cursor,i),this._cursor=n,this._placeAtCursor(i)},t.dot=function(){this._nextIdentEncapsulate=this._cursor&&"UnaryExpression"!==this._cursor.type&&("BinaryExpression"!==this._cursor.type||"BinaryExpression"===this._cursor.type&&this._cursor.right),this._nextIdentRelative=!this._cursor||this._cursor&&!this._nextIdentEncapsulate,this._nextIdentRelative&&(this._relative=!0)},t.filter=function(e){this._placeBeforeCursor({type:"FilterExpression",expr:e,relative:this._subParser.isRelative(),subject:this._cursor})},t.identifier=function(e){const t={type:"Identifier",value:e.value};this._nextIdentEncapsulate?(t.from=this._cursor,this._placeBeforeCursor(t),this._nextIdentEncapsulate=!1):(this._nextIdentRelative&&(t.relative=!0,this._nextIdentRelative=!1),this._placeAtCursor(t))},t.literal=function(e){this._placeAtCursor({type:"Literal",value:e.value})},t.objKey=function(e){this._curObjKey=e.value},t.objStart=function(){this._placeAtCursor({type:"ObjectLiteral",value:{}})},t.objVal=function(e){this._cursor.value[this._curObjKey]=e},t.subExpression=function(e){this._placeAtCursor(e)},t.ternaryEnd=function(e){this._cursor.alternate=e},t.ternaryMid=function(e){this._cursor.consequent=e},t.ternaryStart=function(){this._tree={type:"ConditionalExpression",test:this._tree},this._cursor=this._tree},t.transform=function(e){this._placeBeforeCursor({type:"Transform",name:e.value,args:[],subject:this._cursor})},t.unaryOp=function(e){this._placeAtCursor({type:"UnaryExpression",operator:e.value})}},"91Cx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),e=Date.parse(e),isNaN(e)?null:new Date(e)};var i,r=(i=n("6k7E"))&&i.__esModule?i:{default:i};e.exports=t.default,e.exports.default=t.default},"9fID":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;for(var n in t)void 0===e[n]&&(e[n]=t[n]);return e},e.exports=t.default,e.exports.default=t.default},"A8/z":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n,i;(0,r.default)(e),"object"===s(t)?(n=t.min||0,i=t.max):(n=arguments[1],i=arguments[2]);var o=encodeURI(e).split(/%..|./).length-1;return o>=n&&(void 0===i||o<=i)};var i,r=(i=n("6k7E"))&&i.__esModule?i:{default:i};function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=t.default,e.exports.default=t.default},AmVq:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),parseFloat(e)};var i,r=(i=n("6k7E"))&&i.__esModule?i:{default:i};e.exports=t.default,e.exports.default=t.default},BDe8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(e);var n=s.test(e);return t&&n&&t.strict?function(e){var t=e.match(/^(\d{4})-?(\d{3})([ T]{1}\.*|$)/);if(t){var n=Number(t[1]),i=Number(t[2]);return n%4==0&&n%100!=0||n%400==0?i<=366:i<=365}var r=e.match(/(\d{4})-?(\d{0,2})-?(\d*)/).map(Number),s=r[1],o=r[2],a=r[3],l=o?"0".concat(o).slice(-2):o,c=a?"0".concat(a).slice(-2):a,u=new Date("".concat(s,"-").concat(l||"01","-").concat(c||"01"));return!o||!a||u.getUTCFullYear()===s&&u.getUTCMonth()+1===o&&u.getUTCDate()===a}(e):n};var i,r=(i=n("6k7E"))&&i.__esModule?i:{default:i},s=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/;e.exports=t.default,e.exports.default=t.default},Bfp2:function(e,t,n){const i=n("rmRn");class r{constructor(e,t,n,i,r=Promise){this._grammar=e,this._transforms=t||{},this._context=n||{},this._relContext=i||this._context,this.Promise=r}eval(e){return this.Promise.resolve().then(()=>i[e.type].call(this,e))}evalArray(e){return this.Promise.all(e.map(e=>this.eval(e)))}evalMap(e){const t=Object.keys(e),n={},i=t.map(t=>this.eval(e[t]));return this.Promise.all(i).then(e=>(e.forEach((e,i)=>{n[t[i]]=e}),n))}_filterRelative(e,t){const n=[];return Array.isArray(e)||(e=void 0===e?[]:[e]),e.forEach(e=>{const i=new r(this._grammar,this._transforms,this._context,e,this.Promise);n.push(i.eval(t))}),this.Promise.all(n).then(t=>{const n=[];return t.forEach((t,i)=>{t&&n.push(e[i])}),n})}_filterStatic(e,t){return this.eval(t).then(t=>"boolean"==typeof t?t?e:void 0:e[t])}}e.exports=r},DDtE:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n;if((0,i.default)(e),"[object Array]"===Object.prototype.toString.call(t)){var s=[];for(n in t)({}).hasOwnProperty.call(t,n)&&(s[n]=(0,r.default)(t[n]));return s.indexOf(e)>=0}return"object"===("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)?t.hasOwnProperty(e):!(!t||"function"!=typeof t.indexOf)&&t.indexOf(e)>=0};var i=s(n("6k7E")),r=s(n("dOpu"));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default,e.exports.default=t.default},"E+Yo":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),s.test(e)},t.halfWidth=void 0;var i,r=(i=n("6k7E"))&&i.__esModule?i:{default:i},s=/[\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/;t.halfWidth=s},E1ES:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),e===e.toUpperCase()};var i,r=(i=n("6k7E"))&&i.__esModule?i:{default:i};e.exports=t.default,e.exports.default=t.default},GAtg:function(e,t){class n{constructor(e){e(this._resolve.bind(this),this._reject.bind(this))}catch(e){if(this.error)try{this._resolve(e(this.error))}catch(t){this._reject(t)}return this}then(e,t){if(!this.error)try{this._resolve(e(this.value))}catch(n){this._reject(n)}return t&&this.catch(t),this}_reject(e){this.value=void 0,this.error=e}_resolve(e){e instanceof n?e.error?this._reject(e.error):this._resolve(e.value):(this.value=e,this.error=void 0)}}n.all=e=>new n(t=>{t(e.map(e=>{for(;e instanceof n;){if(e.error)throw Error(e.error);e=e.value}return e}))}),n.resolve=e=>new n(t=>t(e)),n.reject=e=>new n((t,n)=>n(e)),e.exports=n},HOZy:function(e,t,n){"use strict";t.jsonSymbol=Symbol.for("z-schema/json"),t.schemaSymbol=Symbol.for("z-schema/schema");var i=t.sortedKeys=function(e){return Object.keys(e).sort()};t.isAbsoluteUri=function(e){return/^https?:\/\//.test(e)},t.isRelativeUri=function(e){return/.+#/.test(e)},t.whatIs=function(e){var t=typeof e;return"object"===t?null===e?"null":Array.isArray(e)?"array":"object":"number"===t?Number.isFinite(e)?e%1==0?"integer":"number":Number.isNaN(e)?"not-a-number":"unknown-number":t},t.areEqual=function e(n,r,s){var o,a,l=(s=s||{}).caseInsensitiveComparison||!1;if(n===r)return!0;if(!0===l&&"string"==typeof n&&"string"==typeof r&&n.toUpperCase()===r.toUpperCase())return!0;if(Array.isArray(n)&&Array.isArray(r)){if(n.length!==r.length)return!1;for(a=n.length,o=0;o<a;o++)if(!e(n[o],r[o],{caseInsensitiveComparison:l}))return!1;return!0}if("object"===t.whatIs(n)&&"object"===t.whatIs(r)){var c=i(n);if(!e(c,i(r),{caseInsensitiveComparison:l}))return!1;for(a=c.length,o=0;o<a;o++)if(!e(n[c[o]],r[c[o]],{caseInsensitiveComparison:l}))return!1;return!0}return!1},t.isUniqueArray=function(e,n){var i,r,s=e.length;for(i=0;i<s;i++)for(r=i+1;r<s;r++)if(t.areEqual(e[i],e[r]))return n&&n.push(i,r),!1;return!0},t.difference=function(e,t){for(var n=[],i=e.length;i--;)-1===t.indexOf(e[i])&&n.push(e[i]);return n},t.clone=function(e){if(void 0!==e){if("object"!=typeof e||null===e)return e;var t,n;if(Array.isArray(e))for(t=[],n=e.length;n--;)t[n]=e[n];else{t={};var i=Object.keys(e);for(n=i.length;n--;){var r=i[n];t[r]=e[r]}}return t}},t.cloneDeep=function(e){var t=0,n=new Map,i=[];return function e(r){if("object"!=typeof r||null===r)return r;var s,o,a;if(void 0!==(a=n.get(r)))return i[a];if(n.set(r,t++),Array.isArray(r))for(i.push(s=[]),o=r.length;o--;)s[o]=e(r[o]);else{i.push(s={});var l=Object.keys(r);for(o=l.length;o--;){var c=l[o];s[c]=e(r[c])}}return s}(e)},t.ucs2decode=function(e){for(var t,n,i=[],r=0,s=e.length;r<s;)(t=e.charCodeAt(r++))>=55296&&t<=56319&&r<s?56320==(64512&(n=e.charCodeAt(r++)))?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),r--):i.push(t);return i}},Hqo8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),s.test(e)};var i,r=(i=n("6k7E"))&&i.__esModule?i:{default:i},s=/^[A-Z]{2}[0-9A-Z]{3}\d{2}\d{5}$/;e.exports=t.default,e.exports.default=t.default},I1cS:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";(0,r.default)(e);var n=s[t];return n&&n.test(e)};var i,r=(i=n("6k7E"))&&i.__esModule?i:{default:i},s={3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i};e.exports=t.default,e.exports.default=t.default},I2W1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(e);var t=e.length;if(!t||t%4!=0||s.test(e))return!1;var n=e.indexOf("=");return-1===n||n===t-1||n===t-2&&"="===e[t-1]};var i,r=(i=n("6k7E"))&&i.__esModule?i:{default:i},s=/[^A-Z0-9+\/=]/i;e.exports=t.default,e.exports.default=t.default},IyjT:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,i.default)(e),(0,r.default)(e,t?"\\x00-\\x09\\x0B\\x0C\\x0E-\\x1F\\x7F":"\\x00-\\x1F\\x7F")};var i=s(n("6k7E")),r=s(n("fqiI"));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default,e.exports.default=t.default},JBzt:function(e,t,n){const i=n("8tmx"),r=n("mFlp").states;class s{constructor(e,t,n){this._grammar=e,this._state="expectOperand",this._tree=null,this._exprStr=t||"",this._relative=!1,this._stopMap=n||{}}addToken(e){if("complete"===this._state)throw new Error("Cannot add a new token to a completed Parser");const t=r[this._state],n=this._exprStr;if(this._exprStr+=e.raw,t.subHandler){this._subParser||this._startSubExpression(n);const t=this._subParser.addToken(e);if(t){if(this._endSubExpression(),this._parentStop)return t;this._state=t}}else{if(!t.tokenTypes[e.type]){if(this._stopMap[e.type])return this._stopMap[e.type];throw new Error(`Token ${e.raw} (${e.type}) unexpected in expression: ${this._exprStr}`)}{const n=t.tokenTypes[e.type];let r=i[e.type];n.handler&&(r=n.handler),r&&r.call(this,e),n.toState&&(this._state=n.toState)}}return!1}addTokens(e){e.forEach(this.addToken,this)}complete(){if(this._cursor&&!r[this._state].completable)throw new Error(`Unexpected end of expression: ${this._exprStr}`);return this._subParser&&this._endSubExpression(),this._state="complete",this._cursor?this._tree:null}isRelative(){return this._relative}_endSubExpression(){r[this._state].subHandler.call(this,this._subParser.complete()),this._subParser=null}_placeAtCursor(e){this._cursor?(this._cursor.right=e,this._setParent(e,this._cursor)):this._tree=e,this._cursor=e}_placeBeforeCursor(e){this._cursor=this._cursor._parent,this._placeAtCursor(e)}_setParent(e,t){Object.defineProperty(e,"_parent",{value:t,writable:!0})}_startSubExpression(e){let t=r[this._state].endStates;t||(this._parentStop=!0,t=this._stopMap),this._subParser=new s(this._grammar,e,t)}}e.exports=s},Jaw9:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),(0,r.default)(o,e.toUpperCase())};var i=s(n("6k7E")),r=s(n("YQBb"));function s(e){return e&&e.__esModule?e:{default:e}}var o=["AFG","ALA","ALB","DZA","ASM","AND","AGO","AIA","ATA","ATG","ARG","ARM","ABW","AUS","AUT","AZE","BHS","BHR","BGD","BRB","BLR","BEL","BLZ","BEN","BMU","BTN","BOL","BES","BIH","BWA","BVT","BRA","IOT","BRN","BGR","BFA","BDI","KHM","CMR","CAN","CPV","CYM","CAF","TCD","CHL","CHN","CXR","CCK","COL","COM","COG","COD","COK","CRI","CIV","HRV","CUB","CUW","CYP","CZE","DNK","DJI","DMA","DOM","ECU","EGY","SLV","GNQ","ERI","EST","ETH","FLK","FRO","FJI","FIN","FRA","GUF","PYF","ATF","GAB","GMB","GEO","DEU","GHA","GIB","GRC","GRL","GRD","GLP","GUM","GTM","GGY","GIN","GNB","GUY","HTI","HMD","VAT","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","IMN","ISR","ITA","JAM","JPN","JEY","JOR","KAZ","KEN","KIR","PRK","KOR","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LBY","LIE","LTU","LUX","MAC","MKD","MDG","MWI","MYS","MDV","MLI","MLT","MHL","MTQ","MRT","MUS","MYT","MEX","FSM","MDA","MCO","MNG","MNE","MSR","MAR","MOZ","MMR","NAM","NRU","NPL","NLD","NCL","NZL","NIC","NER","NGA","NIU","NFK","MNP","NOR","OMN","PAK","PLW","PSE","PAN","PNG","PRY","PER","PHL","PCN","POL","PRT","PRI","QAT","REU","ROU","RUS","RWA","BLM","SHN","KNA","LCA","MAF","SPM","VCT","WSM","SMR","STP","SAU","SEN","SRB","SYC","SLE","SGP","SXM","SVK","SVN","SLB","SOM","ZAF","SGS","SSD","ESP","LKA","SDN","SUR","SJM","SWZ","SWE","CHE","SYR","TWN","TJK","TZA","THA","TLS","TGO","TKL","TON","TTO","TUN","TUR","TKM","TCA","TUV","UGA","UKR","ARE","GBR","USA","UMI","URY","UZB","VUT","VEN","VNM","VGB","VIR","WLF","ESH","YEM","ZMB","ZWE"];e.exports=t.default,e.exports.default=t.default},KFgP:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(e);var n=t?new RegExp("^[".concat(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"]+"),"g"):/^\s+/g;return e.replace(n,"")};var i,r=(i=n("6k7E"))&&i.__esModule?i:{default:i};e.exports=t.default,e.exports.default=t.default},KNG5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),s.test(e)},t.fullWidth=void 0;var i,r=(i=n("6k7E"))&&i.__esModule?i:{default:i},s=/[^\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/;t.fullWidth=s},KmH8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),h.test(e)};var i,r=(i=n("6k7E"))&&i.__esModule?i:{default:i},s=/([01][0-9]|2[0-3])/,o=/[0-5][0-9]/,a=new RegExp("[-+]".concat(s.source,":").concat(o.source)),l=new RegExp("([zZ]|".concat(a.source,")")),c=new RegExp("".concat(s.source,":").concat(o.source,":").concat(/([0-5][0-9]|60)/.source).concat(/(\.[0-9]+)?/.source)),u=new RegExp("".concat(/[0-9]{4}/.source,"-").concat(/(0[1-9]|1[0-2])/.source,"-").concat(/([12]\d|0[1-9]|3[01])/.source)),d=new RegExp("".concat(c.source).concat(l.source)),h=new RegExp("".concat(u.source,"[ tT]").concat(d.source));e.exports=t.default,e.exports.default=t.default},"KwG+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,r.default)(e),t?"1"===e||"true"===e:"0"!==e&&"false"!==e&&""!==e};var i,r=(i=n("6k7E"))&&i.__esModule?i:{default:i};e.exports=t.default,e.exports.default=t.default},LIdP:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){t=(0,r.default)(t,s);var n=e.split("@"),i=n.pop(),d=[n.join("@"),i];if(d[1]=d[1].toLowerCase(),"gmail.com"===d[1]||"googlemail.com"===d[1]){if(t.gmail_remove_subaddress&&(d[0]=d[0].split("+")[0]),t.gmail_remove_dots&&(d[0]=d[0].replace(/\.+/g,u)),!d[0].length)return!1;(t.all_lowercase||t.gmail_lowercase)&&(d[0]=d[0].toLowerCase()),d[1]=t.gmail_convert_googlemaildotcom?"gmail.com":d[1]}else if(o.indexOf(d[1])>=0){if(t.icloud_remove_subaddress&&(d[0]=d[0].split("+")[0]),!d[0].length)return!1;(t.all_lowercase||t.icloud_lowercase)&&(d[0]=d[0].toLowerCase())}else if(a.indexOf(d[1])>=0){if(t.outlookdotcom_remove_subaddress&&(d[0]=d[0].split("+")[0]),!d[0].length)return!1;(t.all_lowercase||t.outlookdotcom_lowercase)&&(d[0]=d[0].toLowerCase())}else if(l.indexOf(d[1])>=0){if(t.yahoo_remove_subaddress){var h=d[0].split("-");d[0]=h.length>1?h.slice(0,-1).join("-"):h[0]}if(!d[0].length)return!1;(t.all_lowercase||t.yahoo_lowercase)&&(d[0]=d[0].toLowerCase())}else c.indexOf(d[1])>=0?((t.all_lowercase||t.yandex_lowercase)&&(d[0]=d[0].toLowerCase()),d[1]="yandex.ru"):t.all_lowercase&&(d[0]=d[0].toLowerCase());return d.join("@")};var i,r=(i=n("9fID"))&&i.__esModule?i:{default:i},s={all_lowercase:!0,gmail_lowercase:!0,gmail_remove_dots:!0,gmail_remove_subaddress:!0,gmail_convert_googlemaildotcom:!0,outlookdotcom_lowercase:!0,outlookdotcom_remove_subaddress:!0,yahoo_lowercase:!0,yahoo_remove_subaddress:!0,yandex_lowercase:!0,icloud_lowercase:!0,icloud_remove_subaddress:!0},o=["icloud.com","me.com"],a=["hotmail.at","hotmail.be","hotmail.ca","hotmail.cl","hotmail.co.il","hotmail.co.nz","hotmail.co.th","hotmail.co.uk","hotmail.com","hotmail.com.ar","hotmail.com.au","hotmail.com.br","hotmail.com.gr","hotmail.com.mx","hotmail.com.pe","hotmail.com.tr","hotmail.com.vn","hotmail.cz","hotmail.de","hotmail.dk","hotmail.es","hotmail.fr","hotmail.hu","hotmail.id","hotmail.ie","hotmail.in","hotmail.it","hotmail.jp","hotmail.kr","hotmail.lv","hotmail.my","hotmail.ph","hotmail.pt","hotmail.sa","hotmail.sg","hotmail.sk","live.be","live.co.uk","live.com","live.com.ar","live.com.mx","live.de","live.es","live.eu","live.fr","live.it","live.nl","msn.com","outlook.at","outlook.be","outlook.cl","outlook.co.il","outlook.co.nz","outlook.co.th","outlook.com","outlook.com.ar","outlook.com.au","outlook.com.br","outlook.com.gr","outlook.com.pe","outlook.com.tr","outlook.com.vn","outlook.cz","outlook.de","outlook.dk","outlook.es","outlook.fr","outlook.hu","outlook.id","outlook.ie","outlook.in","outlook.it","outlook.jp","outlook.kr","outlook.lv","outlook.my","outlook.ph","outlook.pt","outlook.sa","outlook.sg","outlook.sk","passport.com"],l=["rocketmail.com","yahoo.ca","yahoo.co.uk","yahoo.com","yahoo.de","yahoo.fr","yahoo.in","yahoo.it","ymail.com"],c=["yandex.ru","yandex.ua","yandex.kz","yandex.com","yandex.by","ya.ru"];function u(e){return e.length>1?e:""}e.exports=t.default,e.exports.default=t.default},LPAd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(e);var t=e.length;return!!(t>0&&t%8==0&&s.test(e))};var i,r=(i=n("6k7E"))&&i.__esModule?i:{default:i},s=/^[A-Z2-7]+=*$/;e.exports=t.default,e.exports.default=t.default},NThF:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),s.test(e)};var i,r=(i=n("6k7E"))&&i.__esModule?i:{default:i},s=/^[\x00-\x7F]+$/;e.exports=t.default,e.exports.default=t.default},OIxy:function(e,t,n){"use strict";var i=n("sBnQ"),r=n("PZp4"),s=n("mhZG"),o=n("HOZy"),a={$ref:function(e,t){"string"!=typeof t.$ref&&e.addError("KEYWORD_TYPE_EXPECTED",["$ref","string"])},$schema:function(e,t){"string"!=typeof t.$schema&&e.addError("KEYWORD_TYPE_EXPECTED",["$schema","string"])},multipleOf:function(e,t){"number"!=typeof t.multipleOf?e.addError("KEYWORD_TYPE_EXPECTED",["multipleOf","number"]):t.multipleOf<=0&&e.addError("KEYWORD_MUST_BE",["multipleOf","strictly greater than 0"])},maximum:function(e,t){"number"!=typeof t.maximum&&e.addError("KEYWORD_TYPE_EXPECTED",["maximum","number"])},exclusiveMaximum:function(e,t){"boolean"!=typeof t.exclusiveMaximum?e.addError("KEYWORD_TYPE_EXPECTED",["exclusiveMaximum","boolean"]):void 0===t.maximum&&e.addError("KEYWORD_DEPENDENCY",["exclusiveMaximum","maximum"])},minimum:function(e,t){"number"!=typeof t.minimum&&e.addError("KEYWORD_TYPE_EXPECTED",["minimum","number"])},exclusiveMinimum:function(e,t){"boolean"!=typeof t.exclusiveMinimum?e.addError("KEYWORD_TYPE_EXPECTED",["exclusiveMinimum","boolean"]):void 0===t.minimum&&e.addError("KEYWORD_DEPENDENCY",["exclusiveMinimum","minimum"])},maxLength:function(e,t){"integer"!==o.whatIs(t.maxLength)?e.addError("KEYWORD_TYPE_EXPECTED",["maxLength","integer"]):t.maxLength<0&&e.addError("KEYWORD_MUST_BE",["maxLength","greater than, or equal to 0"])},minLength:function(e,t){"integer"!==o.whatIs(t.minLength)?e.addError("KEYWORD_TYPE_EXPECTED",["minLength","integer"]):t.minLength<0&&e.addError("KEYWORD_MUST_BE",["minLength","greater than, or equal to 0"])},pattern:function(e,t){if("string"!=typeof t.pattern)e.addError("KEYWORD_TYPE_EXPECTED",["pattern","string"]);else try{RegExp(t.pattern)}catch(n){e.addError("KEYWORD_PATTERN",["pattern",t.pattern])}},additionalItems:function(e,n){var i=o.whatIs(n.additionalItems);"boolean"!==i&&"object"!==i?e.addError("KEYWORD_TYPE_EXPECTED",["additionalItems",["boolean","object"]]):"object"===i&&(e.path.push("additionalItems"),t.validateSchema.call(this,e,n.additionalItems),e.path.pop())},items:function(e,n){var i=o.whatIs(n.items);if("object"===i)e.path.push("items"),t.validateSchema.call(this,e,n.items),e.path.pop();else if("array"===i)for(var r=n.items.length;r--;)e.path.push("items"),e.path.push(r.toString()),t.validateSchema.call(this,e,n.items[r]),e.path.pop(),e.path.pop();else e.addError("KEYWORD_TYPE_EXPECTED",["items",["array","object"]]);!0===this.options.forceAdditional&&void 0===n.additionalItems&&Array.isArray(n.items)&&e.addError("KEYWORD_UNDEFINED_STRICT",["additionalItems"]),this.options.assumeAdditional&&void 0===n.additionalItems&&Array.isArray(n.items)&&(n.additionalItems=!1)},maxItems:function(e,t){"number"!=typeof t.maxItems?e.addError("KEYWORD_TYPE_EXPECTED",["maxItems","integer"]):t.maxItems<0&&e.addError("KEYWORD_MUST_BE",["maxItems","greater than, or equal to 0"])},minItems:function(e,t){"integer"!==o.whatIs(t.minItems)?e.addError("KEYWORD_TYPE_EXPECTED",["minItems","integer"]):t.minItems<0&&e.addError("KEYWORD_MUST_BE",["minItems","greater than, or equal to 0"])},uniqueItems:function(e,t){"boolean"!=typeof t.uniqueItems&&e.addError("KEYWORD_TYPE_EXPECTED",["uniqueItems","boolean"])},maxProperties:function(e,t){"integer"!==o.whatIs(t.maxProperties)?e.addError("KEYWORD_TYPE_EXPECTED",["maxProperties","integer"]):t.maxProperties<0&&e.addError("KEYWORD_MUST_BE",["maxProperties","greater than, or equal to 0"])},minProperties:function(e,t){"integer"!==o.whatIs(t.minProperties)?e.addError("KEYWORD_TYPE_EXPECTED",["minProperties","integer"]):t.minProperties<0&&e.addError("KEYWORD_MUST_BE",["minProperties","greater than, or equal to 0"])},required:function(e,t){if("array"!==o.whatIs(t.required))e.addError("KEYWORD_TYPE_EXPECTED",["required","array"]);else if(0===t.required.length)e.addError("KEYWORD_MUST_BE",["required","an array with at least one element"]);else{for(var n=t.required.length;n--;)"string"!=typeof t.required[n]&&e.addError("KEYWORD_VALUE_TYPE",["required","string"]);!1===o.isUniqueArray(t.required)&&e.addError("KEYWORD_MUST_BE",["required","an array with unique items"])}},additionalProperties:function(e,n){var i=o.whatIs(n.additionalProperties);"boolean"!==i&&"object"!==i?e.addError("KEYWORD_TYPE_EXPECTED",["additionalProperties",["boolean","object"]]):"object"===i&&(e.path.push("additionalProperties"),t.validateSchema.call(this,e,n.additionalProperties),e.path.pop())},properties:function(e,n){if("object"===o.whatIs(n.properties)){for(var i=Object.keys(n.properties),r=i.length;r--;){var s=i[r],a=n.properties[s];e.path.push("properties"),e.path.push(s),t.validateSchema.call(this,e,a),e.path.pop(),e.path.pop()}!0===this.options.forceAdditional&&void 0===n.additionalProperties&&e.addError("KEYWORD_UNDEFINED_STRICT",["additionalProperties"]),this.options.assumeAdditional&&void 0===n.additionalProperties&&(n.additionalProperties=!1),!0===this.options.forceProperties&&0===i.length&&e.addError("CUSTOM_MODE_FORCE_PROPERTIES",["properties"])}else e.addError("KEYWORD_TYPE_EXPECTED",["properties","object"])},patternProperties:function(e,n){if("object"===o.whatIs(n.patternProperties)){for(var i=Object.keys(n.patternProperties),r=i.length;r--;){var s=i[r],a=n.patternProperties[s];try{RegExp(s)}catch(l){e.addError("KEYWORD_PATTERN",["patternProperties",s])}e.path.push("patternProperties"),e.path.push(s.toString()),t.validateSchema.call(this,e,a),e.path.pop(),e.path.pop()}!0===this.options.forceProperties&&0===i.length&&e.addError("CUSTOM_MODE_FORCE_PROPERTIES",["patternProperties"])}else e.addError("KEYWORD_TYPE_EXPECTED",["patternProperties","object"])},dependencies:function(e,n){if("object"!==o.whatIs(n.dependencies))e.addError("KEYWORD_TYPE_EXPECTED",["dependencies","object"]);else for(var i=Object.keys(n.dependencies),r=i.length;r--;){var s=i[r],a=n.dependencies[s],l=o.whatIs(a);if("object"===l)e.path.push("dependencies"),e.path.push(s),t.validateSchema.call(this,e,a),e.path.pop(),e.path.pop();else if("array"===l){var c=a.length;for(0===c&&e.addError("KEYWORD_MUST_BE",["dependencies","not empty array"]);c--;)"string"!=typeof a[c]&&e.addError("KEYWORD_VALUE_TYPE",["dependensices","string"]);!1===o.isUniqueArray(a)&&e.addError("KEYWORD_MUST_BE",["dependencies","an array with unique items"])}else e.addError("KEYWORD_VALUE_TYPE",["dependencies","object or array"])}},enum:function(e,t){!1===Array.isArray(t.enum)?e.addError("KEYWORD_TYPE_EXPECTED",["enum","array"]):0===t.enum.length?e.addError("KEYWORD_MUST_BE",["enum","an array with at least one element"]):!1===o.isUniqueArray(t.enum)&&e.addError("KEYWORD_MUST_BE",["enum","an array with unique elements"])},type:function(e,t){var n=["array","boolean","integer","number","null","object","string"],i=n.join(","),r=Array.isArray(t.type);if(r){for(var s=t.type.length;s--;)-1===n.indexOf(t.type[s])&&e.addError("KEYWORD_TYPE_EXPECTED",["type",i]);!1===o.isUniqueArray(t.type)&&e.addError("KEYWORD_MUST_BE",["type","an object with unique properties"])}else"string"==typeof t.type?-1===n.indexOf(t.type)&&e.addError("KEYWORD_TYPE_EXPECTED",["type",i]):e.addError("KEYWORD_TYPE_EXPECTED",["type",["string","array"]]);!0===this.options.noEmptyStrings&&("string"===t.type||r&&-1!==t.type.indexOf("string"))&&void 0===t.minLength&&void 0===t.enum&&void 0===t.format&&(t.minLength=1),!0===this.options.noEmptyArrays&&("array"===t.type||r&&-1!==t.type.indexOf("array"))&&void 0===t.minItems&&(t.minItems=1),!0===this.options.forceProperties&&("object"===t.type||r&&-1!==t.type.indexOf("object"))&&void 0===t.properties&&void 0===t.patternProperties&&e.addError("KEYWORD_UNDEFINED_STRICT",["properties"]),!0===this.options.forceItems&&("array"===t.type||r&&-1!==t.type.indexOf("array"))&&void 0===t.items&&e.addError("KEYWORD_UNDEFINED_STRICT",["items"]),!0===this.options.forceMinItems&&("array"===t.type||r&&-1!==t.type.indexOf("array"))&&void 0===t.minItems&&e.addError("KEYWORD_UNDEFINED_STRICT",["minItems"]),!0===this.options.forceMaxItems&&("array"===t.type||r&&-1!==t.type.indexOf("array"))&&void 0===t.maxItems&&e.addError("KEYWORD_UNDEFINED_STRICT",["maxItems"]),!0===this.options.forceMinLength&&("string"===t.type||r&&-1!==t.type.indexOf("string"))&&void 0===t.minLength&&void 0===t.format&&void 0===t.enum&&void 0===t.pattern&&e.addError("KEYWORD_UNDEFINED_STRICT",["minLength"]),!0===this.options.forceMaxLength&&("string"===t.type||r&&-1!==t.type.indexOf("string"))&&void 0===t.maxLength&&void 0===t.format&&void 0===t.enum&&void 0===t.pattern&&e.addError("KEYWORD_UNDEFINED_STRICT",["maxLength"])},allOf:function(e,n){if(!1===Array.isArray(n.allOf))e.addError("KEYWORD_TYPE_EXPECTED",["allOf","array"]);else if(0===n.allOf.length)e.addError("KEYWORD_MUST_BE",["allOf","an array with at least one element"]);else for(var i=n.allOf.length;i--;)e.path.push("allOf"),e.path.push(i.toString()),t.validateSchema.call(this,e,n.allOf[i]),e.path.pop(),e.path.pop()},anyOf:function(e,n){if(!1===Array.isArray(n.anyOf))e.addError("KEYWORD_TYPE_EXPECTED",["anyOf","array"]);else if(0===n.anyOf.length)e.addError("KEYWORD_MUST_BE",["anyOf","an array with at least one element"]);else for(var i=n.anyOf.length;i--;)e.path.push("anyOf"),e.path.push(i.toString()),t.validateSchema.call(this,e,n.anyOf[i]),e.path.pop(),e.path.pop()},oneOf:function(e,n){if(!1===Array.isArray(n.oneOf))e.addError("KEYWORD_TYPE_EXPECTED",["oneOf","array"]);else if(0===n.oneOf.length)e.addError("KEYWORD_MUST_BE",["oneOf","an array with at least one element"]);else for(var i=n.oneOf.length;i--;)e.path.push("oneOf"),e.path.push(i.toString()),t.validateSchema.call(this,e,n.oneOf[i]),e.path.pop(),e.path.pop()},not:function(e,n){"object"!==o.whatIs(n.not)?e.addError("KEYWORD_TYPE_EXPECTED",["not","object"]):(e.path.push("not"),t.validateSchema.call(this,e,n.not),e.path.pop())},definitions:function(e,n){if("object"!==o.whatIs(n.definitions))e.addError("KEYWORD_TYPE_EXPECTED",["definitions","object"]);else for(var i=Object.keys(n.definitions),r=i.length;r--;){var s=i[r],a=n.definitions[s];e.path.push("definitions"),e.path.push(s),t.validateSchema.call(this,e,a),e.path.pop(),e.path.pop()}},format:function(e,t){"string"!=typeof t.format?e.addError("KEYWORD_TYPE_EXPECTED",["format","string"]):void 0===i[t.format]&&!0!==this.options.ignoreUnknownFormats&&e.addError("UNKNOWN_FORMAT",[t.format])},id:function(e,t){"string"!=typeof t.id&&e.addError("KEYWORD_TYPE_EXPECTED",["id","string"])},title:function(e,t){"string"!=typeof t.title&&e.addError("KEYWORD_TYPE_EXPECTED",["title","string"])},description:function(e,t){"string"!=typeof t.description&&e.addError("KEYWORD_TYPE_EXPECTED",["description","string"])},default:function(){}},l=function(e,n){for(var i=n.length;i--;)t.validateSchema.call(this,e,n[i]);return e.isValid()};t.validateSchema=function(e,t){if(e.commonErrorMessage="SCHEMA_VALIDATION_FAILED",Array.isArray(t))return l.call(this,e,t);if(t.__$validated)return!0;var n=t.$schema&&t.id!==t.$schema;if(n)if(t.__$schemaResolved&&t.__$schemaResolved!==t){var i=new s(e);!1===r.validate.call(this,i,t.__$schemaResolved,t)&&e.addError("PARENT_SCHEMA_VALIDATION_FAILED",null,i)}else!0!==this.options.ignoreUnresolvableReferences&&e.addError("REF_UNRESOLVED",[t.$schema]);if(!0===this.options.noTypeless){if(void 0!==t.type){var c=[];Array.isArray(t.anyOf)&&(c=c.concat(t.anyOf)),Array.isArray(t.oneOf)&&(c=c.concat(t.oneOf)),Array.isArray(t.allOf)&&(c=c.concat(t.allOf)),c.forEach((function(e){e.type||(e.type=t.type)}))}void 0===t.enum&&void 0===t.type&&void 0===t.anyOf&&void 0===t.oneOf&&void 0===t.not&&void 0===t.$ref&&e.addError("KEYWORD_UNDEFINED_STRICT",["type"])}for(var u=Object.keys(t),d=u.length;d--;){var h=u[d];0!==h.indexOf("__")&&(void 0!==a[h]?a[h].call(this,e,t):n||!0===this.options.noExtraKeywords&&e.addError("KEYWORD_UNEXPECTED",[h]))}if(!0===this.options.pedanticCheck){if(t.enum){var p=o.clone(t);for(delete p.enum,delete p.default,e.path.push("enum"),d=t.enum.length;d--;)e.path.push(d.toString()),r.validate.call(this,e,p,t.enum[d]),e.path.pop();e.path.pop()}t.default&&(e.path.push("default"),r.validate.call(this,e,t,t.default),e.path.pop())}var f=e.isValid();return f&&(t.__$validated=!0),f}},OYlt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),e.replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#x2F;/g,"/").replace(/&#x5C;/g,"\\").replace(/&#96;/g,"`")};var i,r=(i=n("6k7E"))&&i.__esModule?i:{default:i};e.exports=t.default,e.exports.default=t.default},PZp4:function(e,t,n){"use strict";var i=n("sBnQ"),r=n("mhZG"),s=n("HOZy"),o=function(e,t){return e&&Array.isArray(e.includeErrors)&&e.includeErrors.length>0&&!t.some((function(t){return e.includeErrors.includes(t)}))},a={multipleOf:function(e,t,n){if(!o(this.validateOptions,["MULTIPLE_OF"])&&"number"==typeof n){var i=String(t.multipleOf),r=Math.pow(10,i.length-i.indexOf(".")-1);"integer"!==s.whatIs(n*r/(t.multipleOf*r))&&e.addError("MULTIPLE_OF",[n,t.multipleOf],null,t)}},maximum:function(e,t,n){o(this.validateOptions,["MAXIMUM","MAXIMUM_EXCLUSIVE"])||"number"==typeof n&&(!0!==t.exclusiveMaximum?n>t.maximum&&e.addError("MAXIMUM",[n,t.maximum],null,t):n>=t.maximum&&e.addError("MAXIMUM_EXCLUSIVE",[n,t.maximum],null,t))},exclusiveMaximum:function(){},minimum:function(e,t,n){o(this.validateOptions,["MINIMUM","MINIMUM_EXCLUSIVE"])||"number"==typeof n&&(!0!==t.exclusiveMinimum?n<t.minimum&&e.addError("MINIMUM",[n,t.minimum],null,t):n<=t.minimum&&e.addError("MINIMUM_EXCLUSIVE",[n,t.minimum],null,t))},exclusiveMinimum:function(){},maxLength:function(e,t,n){o(this.validateOptions,["MAX_LENGTH"])||"string"==typeof n&&s.ucs2decode(n).length>t.maxLength&&e.addError("MAX_LENGTH",[n.length,t.maxLength],null,t)},minLength:function(e,t,n){o(this.validateOptions,["MIN_LENGTH"])||"string"==typeof n&&s.ucs2decode(n).length<t.minLength&&e.addError("MIN_LENGTH",[n.length,t.minLength],null,t)},pattern:function(e,t,n){o(this.validateOptions,["PATTERN"])||"string"==typeof n&&!1===RegExp(t.pattern).test(n)&&e.addError("PATTERN",[t.pattern,n],null,t)},additionalItems:function(e,t,n){o(this.validateOptions,["ARRAY_ADDITIONAL_ITEMS"])||Array.isArray(n)&&!1===t.additionalItems&&Array.isArray(t.items)&&n.length>t.items.length&&e.addError("ARRAY_ADDITIONAL_ITEMS",null,null,t)},items:function(){},maxItems:function(e,t,n){o(this.validateOptions,["ARRAY_LENGTH_LONG"])||Array.isArray(n)&&n.length>t.maxItems&&e.addError("ARRAY_LENGTH_LONG",[n.length,t.maxItems],null,t)},minItems:function(e,t,n){o(this.validateOptions,["ARRAY_LENGTH_SHORT"])||Array.isArray(n)&&n.length<t.minItems&&e.addError("ARRAY_LENGTH_SHORT",[n.length,t.minItems],null,t)},uniqueItems:function(e,t,n){if(!o(this.validateOptions,["ARRAY_UNIQUE"])&&Array.isArray(n)&&!0===t.uniqueItems){var i=[];!1===s.isUniqueArray(n,i)&&e.addError("ARRAY_UNIQUE",i,null,t)}},maxProperties:function(e,t,n){if(!o(this.validateOptions,["OBJECT_PROPERTIES_MAXIMUM"])&&"object"===s.whatIs(n)){var i=Object.keys(n).length;i>t.maxProperties&&e.addError("OBJECT_PROPERTIES_MAXIMUM",[i,t.maxProperties],null,t)}},minProperties:function(e,t,n){if(!o(this.validateOptions,["OBJECT_PROPERTIES_MINIMUM"])&&"object"===s.whatIs(n)){var i=Object.keys(n).length;i<t.minProperties&&e.addError("OBJECT_PROPERTIES_MINIMUM",[i,t.minProperties],null,t)}},required:function(e,t,n){if(!o(this.validateOptions,["OBJECT_MISSING_REQUIRED_PROPERTY"])&&"object"===s.whatIs(n))for(var i=t.required.length;i--;){var r=t.required[i];void 0===n[r]&&e.addError("OBJECT_MISSING_REQUIRED_PROPERTY",[r],null,t)}},additionalProperties:function(e,t,n){if(void 0===t.properties&&void 0===t.patternProperties)return a.properties.call(this,e,t,n)},patternProperties:function(e,t,n){if(void 0===t.properties)return a.properties.call(this,e,t,n)},properties:function(e,t,n){if(!o(this.validateOptions,["OBJECT_ADDITIONAL_PROPERTIES"])&&"object"===s.whatIs(n)){var i=void 0!==t.properties?t.properties:{},r=void 0!==t.patternProperties?t.patternProperties:{};if(!1===t.additionalProperties){var a=Object.keys(n),l=Object.keys(i),c=Object.keys(r);a=s.difference(a,l);for(var u=c.length;u--;)for(var d=RegExp(c[u]),h=a.length;h--;)!0===d.test(a[h])&&a.splice(h,1);if(a.length>0){var p=this.options.assumeAdditional.length;if(p)for(;p--;){var f=a.indexOf(this.options.assumeAdditional[p]);-1!==f&&a.splice(f,1)}var m=a.length;if(m)for(;m--;)e.addError("OBJECT_ADDITIONAL_PROPERTIES",[a[m]],null,t)}}}},dependencies:function(e,n,i){if(!o(this.validateOptions,["OBJECT_DEPENDENCY_KEY"])&&"object"===s.whatIs(i))for(var r=Object.keys(n.dependencies),a=r.length;a--;){var l=r[a];if(i[l]){var c=n.dependencies[l];if("object"===s.whatIs(c))t.validate.call(this,e,c,i);else for(var u=c.length;u--;){var d=c[u];void 0===i[d]&&e.addError("OBJECT_DEPENDENCY_KEY",[d,l],null,n)}}}},enum:function(e,t,n){if(!o(this.validateOptions,["ENUM_CASE_MISMATCH","ENUM_MISMATCH"])){for(var i=!1,r=!1,a=t.enum.length;a--;){if(s.areEqual(n,t.enum[a])){i=!0;break}s.areEqual(n,t.enum[a]),r=!0}!1===i&&e.addError(r&&this.options.enumCaseInsensitiveComparison?"ENUM_CASE_MISMATCH":"ENUM_MISMATCH",[n],null,t)}},type:function(e,t,n){if(!o(this.validateOptions,["INVALID_TYPE"])){var i=s.whatIs(n);"string"==typeof t.type?i===t.type||"integer"===i&&"number"===t.type||e.addError("INVALID_TYPE",[t.type,i],null,t):-1!==t.type.indexOf(i)||"integer"===i&&-1!==t.type.indexOf("number")||e.addError("INVALID_TYPE",[t.type,i],null,t)}},allOf:function(e,n,i){for(var r=n.allOf.length;r--;){var s=t.validate.call(this,e,n.allOf[r],i);if(this.options.breakOnFirstError&&!1===s)break}},anyOf:function(e,n,i){for(var s=[],o=!1,a=n.anyOf.length;a--&&!1===o;){var l=new r(e);s.push(l),o=t.validate.call(this,l,n.anyOf[a],i)}!1===o&&e.addError("ANY_OF_MISSING",void 0,s,n)},oneOf:function(e,n,i){for(var s=0,o=[],a=n.oneOf.length;a--;){var l=new r(e,{maxErrors:1});o.push(l),!0===t.validate.call(this,l,n.oneOf[a],i)&&s++}0===s?e.addError("ONE_OF_MISSING",void 0,o,n):s>1&&e.addError("ONE_OF_MULTIPLE",null,null,n)},not:function(e,n,i){var s=new r(e);!0===t.validate.call(this,s,n.not,i)&&e.addError("NOT_PASSED",null,null,n)},definitions:function(){},format:function(e,t,n){var r=i[t.format];if("function"==typeof r){if(o(this.validateOptions,["INVALID_FORMAT"]))return;if(2===r.length){var a=s.clone(e.path);e.addAsyncTask(r,[n],(function(i){if(!0!==i){var r=e.path;e.path=a,e.addError("INVALID_FORMAT",[t.format,n],null,t),e.path=r}}))}else!0!==r.call(this,n)&&e.addError("INVALID_FORMAT",[t.format,n],null,t)}else!0!==this.options.ignoreUnknownFormats&&e.addError("UNKNOWN_FORMAT",[t.format],null,t)}},l=function(e,n,i){var r=i.length;if(Array.isArray(n.items))for(;r--;)r<n.items.length?(e.path.push(r),t.validate.call(this,e,n.items[r],i[r]),e.path.pop()):"object"==typeof n.additionalItems&&(e.path.push(r),t.validate.call(this,e,n.additionalItems,i[r]),e.path.pop());else if("object"==typeof n.items)for(;r--;)e.path.push(r),t.validate.call(this,e,n.items,i[r]),e.path.pop()},c=function(e,n,i){var r=n.additionalProperties;!0!==r&&void 0!==r||(r={});for(var s=n.properties?Object.keys(n.properties):[],o=n.patternProperties?Object.keys(n.patternProperties):[],a=Object.keys(i),l=a.length;l--;){var c=a[l],u=i[c],d=[];-1!==s.indexOf(c)&&d.push(n.properties[c]);for(var h=o.length;h--;){var p=o[h];!0===RegExp(p).test(c)&&d.push(n.patternProperties[p])}for(0===d.length&&!1!==r&&d.push(r),h=d.length;h--;)e.path.push(c),t.validate.call(this,e,d[h],u),e.path.pop()}};t.JsonValidators=a,t.validate=function(e,t,n){e.commonErrorMessage="JSON_OBJECT_VALIDATION_FAILED";var i=s.whatIs(t);if("object"!==i)return e.addError("SCHEMA_NOT_AN_OBJECT",[i],null,t),!1;var r=Object.keys(t);if(0===r.length)return!0;var o=!1;if(e.rootSchema||(e.rootSchema=t,o=!0),void 0!==t.$ref){for(var u=99;t.$ref&&u>0;){if(!t.__$refResolved){e.addError("REF_UNRESOLVED",[t.$ref],null,t);break}if(t.__$refResolved===t)break;t=t.__$refResolved,r=Object.keys(t),u--}if(0===u)throw new Error("Circular dependency by $ref references!")}var d=s.whatIs(n);if(t.type&&(r.splice(r.indexOf("type"),1),a.type.call(this,e,t,n),e.errors.length&&this.options.breakOnFirstError))return!1;for(var h=r.length;h--&&!(a[r[h]]&&(a[r[h]].call(this,e,t,n),e.errors.length&&this.options.breakOnFirstError)););return 0!==e.errors.length&&!1!==this.options.breakOnFirstError||("array"===d?l.call(this,e,t,n):"object"===d&&c.call(this,e,t,n)),"function"==typeof this.options.customValidator&&this.options.customValidator.call(this,e,t,n),o&&(e.rootSchema=void 0),0===e.errors.length}},RTjj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(e);var n=t?new RegExp("[".concat(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"]+$"),"g"):/\s+$/g;return e.replace(n,"")};var i,r=(i=n("6k7E"))&&i.__esModule?i:{default:i};e.exports=t.default,e.exports.default=t.default},TNgN:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(e),(t=(0,r.default)(t,o)).allow_trailing_dot&&"."===e[e.length-1]&&(e=e.substring(0,e.length-1));for(var n=e.split("."),s=0;s<n.length;s++)if(n[s].length>63)return!1;if(t.require_tld){var a=n.pop();if(!n.length||!/^([a-z\u00a1-\uffff]{2,}|xn[a-z0-9-]{2,})$/i.test(a))return!1;if(/[\s\u2002-\u200B\u202F\u205F\u3000\uFEFF\uDB40\uDC20]/.test(a))return!1}for(var l,c=0;c<n.length;c++){if(l=n[c],t.allow_underscores&&(l=l.replace(/_/g,"")),!/^[a-z\u00a1-\uffff0-9-]+$/i.test(l))return!1;if(/[\uff01-\uff5e]/.test(l))return!1;if("-"===l[0]||"-"===l[l.length-1])return!1}return!0};var i=s(n("6k7E")),r=s(n("9fID"));function s(e){return e&&e.__esModule?e:{default:e}}var o={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1};e.exports=t.default,e.exports.default=t.default},U43O:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),s.test(e)};var i,r=(i=n("6k7E"))&&i.__esModule?i:{default:i},s=/[\uD800-\uDBFF][\uDC00-\uDFFF]/;e.exports=t.default,e.exports.default=t.default},"UGe+":function(e,t){"function"!=typeof Number.isFinite&&(Number.isFinite=function(e){return"number"==typeof e&&e==e&&e!==1/0&&e!==-1/0})},UJsr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),(0,r.default)(e)&&24===e.length};var i=s(n("6k7E")),r=s(n("dhkV"));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default,e.exports.default=t.default},UP3S:function(e,t,n){"use strict";n("UGe+");var i=n("2uJw"),r=n("mhZG"),s=n("sBnQ"),o=n("PZp4"),a=n("4zpw"),l=n("7FU5"),c=n("OIxy"),u=n("HOZy"),d=n("d5S/"),h=n("v+k6"),p={asyncTimeout:2e3,forceAdditional:!1,assumeAdditional:!1,enumCaseInsensitiveComparison:!1,forceItems:!1,forceMinItems:!1,forceMaxItems:!1,forceMinLength:!1,forceMaxLength:!1,forceProperties:!1,ignoreUnresolvableReferences:!1,noExtraKeywords:!1,noTypeless:!1,noEmptyStrings:!1,noEmptyArrays:!1,strictUris:!1,strictMode:!1,reportPathAsArray:!1,breakOnFirstError:!0,pedanticCheck:!1,ignoreUnknownFormats:!1,customValidator:null};function f(e){var t;if("object"==typeof e){for(var n,i=Object.keys(e),r=i.length;r--;)if(void 0===p[n=i[r]])throw new Error("Unexpected option passed to constructor: "+n);for(r=(i=Object.keys(p)).length;r--;)void 0===e[n=i[r]]&&(e[n]=u.clone(p[n]));t=e}else t=u.clone(p);return!0===t.strictMode&&(t.forceAdditional=!0,t.forceItems=!0,t.forceMaxLength=!0,t.forceProperties=!0,t.noExtraKeywords=!0,t.noTypeless=!0,t.noEmptyStrings=!0,t.noEmptyArrays=!0),t}function m(e){this.cache={},this.referenceCache=[],this.validateOptions={},this.options=f(e);var t=f({});this.setRemoteReference("http://json-schema.org/draft-04/schema",d,t),this.setRemoteReference("http://json-schema.org/draft-04/hyper-schema",h,t)}m.prototype.compileSchema=function(e){var t=new r(this.options);return e=a.getSchema.call(this,t,e),l.compileSchema.call(this,t,e),this.lastReport=t,t.isValid()},m.prototype.validateSchema=function(e){if(Array.isArray(e)&&0===e.length)throw new Error(".validateSchema was called with an empty array");var t=new r(this.options);return e=a.getSchema.call(this,t,e),l.compileSchema.call(this,t,e)&&c.validateSchema.call(this,t,e),this.lastReport=t,t.isValid()},m.prototype.validate=function(e,t,n,s){"function"===u.whatIs(n)&&(s=n,n={}),n||(n={}),this.validateOptions=n;var d=u.whatIs(t);if("string"!==d&&"object"!==d){var h=new Error("Invalid .validate call - schema must be an string or object but "+d+" was passed!");if(s)return void process.nextTick((function(){s(h,!1)}));throw h}var p=!1,f=new r(this.options);if(f.json=e,"string"==typeof t){var m=t;if(!(t=a.getSchema.call(this,f,m)))throw new Error("Schema with id '"+m+"' wasn't found in the validator cache!")}else t=a.getSchema.call(this,f,t);var g=!1;p||(g=l.compileSchema.call(this,f,t)),g||(this.lastReport=f,p=!0);var y=!1;if(p||(y=c.validateSchema.call(this,f,t)),y||(this.lastReport=f,p=!0),n.schemaPath&&(f.rootSchema=t,!(t=i(t,n.schemaPath))))throw new Error("Schema path '"+n.schemaPath+"' wasn't found in the schema!");if(p||o.validate.call(this,f,t,e),!s){if(f.asyncTasks.length>0)throw new Error("This validation has async tasks and cannot be done in sync mode, please provide callback argument.");return this.lastReport=f,f.isValid()}f.processAsyncTasks(this.options.asyncTimeout,s)},m.prototype.getLastError=function(){if(0===this.lastReport.errors.length)return null;var e=new Error;return e.name="z-schema validation error",e.message=this.lastReport.commonErrorMessage,e.details=this.lastReport.errors,e},m.prototype.getLastErrors=function(){return this.lastReport&&this.lastReport.errors.length>0?this.lastReport.errors:void 0},m.prototype.getMissingReferences=function(e){for(var t=[],n=(e=e||this.lastReport.errors).length;n--;){var i=e[n];if("UNRESOLVABLE_REFERENCE"===i.code){var r=i.params[0];-1===t.indexOf(r)&&t.push(r)}i.inner&&(t=t.concat(this.getMissingReferences(i.inner)))}return t},m.prototype.getMissingRemoteReferences=function(){for(var e=this.getMissingReferences(),t=[],n=e.length;n--;){var i=a.getRemotePath(e[n]);i&&-1===t.indexOf(i)&&t.push(i)}return t},m.prototype.setRemoteReference=function(e,t,n){t="string"==typeof t?JSON.parse(t):u.cloneDeep(t),n&&(t.__$validationOptions=f(n)),a.cacheSchemaByUri.call(this,e,t)},m.prototype.getResolvedSchema=function(e){var t=new r(this.options);e=a.getSchema.call(this,t,e),e=u.cloneDeep(e);var n=[],i=function(e){var t,r=u.whatIs(e);if(("object"===r||"array"===r)&&!e.___$visited){if(e.___$visited=!0,n.push(e),e.$ref&&e.__$refResolved){var s=e.__$refResolved,o=e;for(t in delete e.$ref,delete e.__$refResolved,s)s.hasOwnProperty(t)&&(o[t]=s[t])}for(t in e)e.hasOwnProperty(t)&&(0===t.indexOf("__$")?delete e[t]:i(e[t]))}};if(i(e),n.forEach((function(e){delete e.___$visited})),this.lastReport=t,t.isValid())return e;throw this.getLastError()},m.prototype.setSchemaReader=function(e){return m.setSchemaReader(e)},m.prototype.getSchemaReader=function(){return m.schemaReader},m.schemaReader=void 0,m.setSchemaReader=function(e){m.schemaReader=e},m.registerFormat=function(e,t){s[e]=t},m.unregisterFormat=function(e){delete s[e]},m.getRegisteredFormats=function(){return Object.keys(s)},m.getDefaultOptions=function(){return u.cloneDeep(p)},m.schemaSymbol=u.schemaSymbol,m.jsonSymbol=u.jsonSymbol,e.exports=m},Uf5G:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,r.default)(e),function(e){var t="\\d{".concat(e.digits_after_decimal[0],"}");e.digits_after_decimal.forEach((function(e,n){0!==n&&(t="".concat(t,"|\\d{").concat(e,"}"))}));var n="(\\".concat(e.symbol.replace(/\./g,"\\."),")").concat(e.require_symbol?"":"?"),i="[1-9]\\d{0,2}(\\".concat(e.thousands_separator,"\\d{3})*"),r="(".concat(["0","[1-9]\\d*",i].join("|"),")?"),s="(\\".concat(e.decimal_separator,"(").concat(t,"))").concat(e.require_decimal?"":"?"),o=r+(e.allow_decimal||e.require_decimal?s:"");return e.allow_negatives&&!e.parens_for_negatives&&(e.negative_sign_after_digits?o+="-?":e.negative_sign_before_digits&&(o="-?"+o)),e.allow_negative_sign_placeholder?o="( (?!\\-))?".concat(o):e.allow_space_after_symbol?o=" ?".concat(o):e.allow_space_after_digits&&(o+="( (?!$))?"),e.symbol_after_digits?o+=n:o=n+o,e.allow_negatives&&(e.parens_for_negatives?o="(\\(".concat(o,"\\)|").concat(o,")"):e.negative_sign_before_digits||e.negative_sign_after_digits||(o="-?"+o)),new RegExp("^(?!-? )(?=.*\\d)".concat(o,"$"))}(t=(0,i.default)(t,o)).test(e)};var i=s(n("9fID")),r=s(n("6k7E"));function s(e){return e&&e.__esModule?e:{default:e}}var o={symbol:"$",require_symbol:!1,allow_space_after_symbol:!1,symbol_after_digits:!1,allow_negatives:!0,parens_for_negatives:!1,negative_sign_before_digits:!1,negative_sign_after_digits:!1,allow_negative_sign_placeholder:!1,thousands_separator:",",decimal_separator:".",allow_decimal:!0,require_decimal:!1,digits_after_decimal:[2],allow_space_after_digits:!1};e.exports=t.default,e.exports.default=t.default},UxTY:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=Oe(n("91Cx")),r=Oe(n("AmVq")),s=Oe(n("tdUM")),o=Oe(n("KwG+")),a=Oe(n("m7Il")),l=Oe(n("iHOU")),c=Oe(n("WJcH")),u=Oe(n("lS25")),d=Oe(n("6Wgl")),h=Oe(n("4xeo")),p=Oe(n("mWng")),f=Oe(n("+IR+")),m=Oe(n("TNgN")),g=Oe(n("1iRs")),y=we(n("rSS0")),b=we(n("+kin")),v=Oe(n("7T3L")),_=Oe(n("w2nx")),E=Oe(n("s0YK")),w=Oe(n("E1ES")),O=Oe(n("NThF")),P=Oe(n("KNG5")),A=Oe(n("E+Yo")),T=Oe(n("vPLp")),C=Oe(n("lIY5")),k=Oe(n("U43O")),x=Oe(n("2Z+7")),S=we(n("hari")),M=Oe(n("l9Q+")),I=Oe(n("dhkV")),j=Oe(n("dl52")),R=Oe(n("Vpm1")),N=Oe(n("Hqo8")),V=Oe(n("g/Ok")),L=Oe(n("eOgP")),D=Oe(n("yowR")),$=Oe(n("n6hF")),F=Oe(n("dPjt")),U=Oe(n("cS0L")),B=Oe(n("A8/z")),H=Oe(n("I1cS")),K=Oe(n("UJsr")),W=Oe(n("dVO0")),q=Oe(n("g02r")),Y=Oe(n("DDtE")),z=Oe(n("iP7v")),G=Oe(n("/64y")),Z=Oe(n("iHBP")),Q=Oe(n("tH+H")),X=Oe(n("WAem")),J=we(n("7u43")),ee=Oe(n("Uf5G")),te=Oe(n("BDe8")),ne=Oe(n("KmH8")),ie=Oe(n("VcmV")),re=Oe(n("Jaw9")),se=Oe(n("LPAd")),oe=Oe(n("I2W1")),ae=Oe(n("2PAF")),le=Oe(n("d6hw")),ce=Oe(n("qp7u")),ue=Oe(n("rPmM")),de=we(n("37Pz")),he=Oe(n("KFgP")),pe=Oe(n("RTjj")),fe=Oe(n("+KhQ")),me=Oe(n("pPNo")),ge=Oe(n("OYlt")),ye=Oe(n("IyjT")),be=Oe(n("gEfZ")),ve=Oe(n("fqiI")),_e=Oe(n("hjc3")),Ee=Oe(n("LIdP"));function we(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}return t.default=e,t}function Oe(e){return e&&e.__esModule?e:{default:e}}var Pe={version:"11.1.0",toDate:i.default,toFloat:r.default,toInt:s.default,toBoolean:o.default,equals:a.default,contains:l.default,matches:c.default,isEmail:u.default,isURL:d.default,isMACAddress:h.default,isIP:p.default,isIPRange:f.default,isFQDN:m.default,isBoolean:g.default,isAlpha:y.default,isAlphaLocales:y.locales,isAlphanumeric:b.default,isAlphanumericLocales:b.locales,isNumeric:v.default,isPort:_.default,isLowercase:E.default,isUppercase:w.default,isAscii:O.default,isFullWidth:P.default,isHalfWidth:A.default,isVariableWidth:T.default,isMultibyte:C.default,isSurrogatePair:k.default,isInt:x.default,isFloat:S.default,isFloatLocales:S.locales,isDecimal:M.default,isHexadecimal:I.default,isDivisibleBy:j.default,isHexColor:R.default,isISRC:N.default,isMD5:V.default,isHash:L.default,isJWT:D.default,isJSON:$.default,isEmpty:F.default,isLength:U.default,isByteLength:B.default,isUUID:H.default,isMongoId:K.default,isAfter:W.default,isBefore:q.default,isIn:Y.default,isCreditCard:z.default,isIdentityCard:G.default,isISIN:Z.default,isISBN:Q.default,isISSN:X.default,isMobilePhone:J.default,isMobilePhoneLocales:J.locales,isPostalCode:de.default,isPostalCodeLocales:de.locales,isCurrency:ee.default,isISO8601:te.default,isRFC3339:ne.default,isISO31661Alpha2:ie.default,isISO31661Alpha3:re.default,isBase32:se.default,isBase64:oe.default,isDataURI:ae.default,isMagnetURI:le.default,isMimeType:ce.default,isLatLong:ue.default,ltrim:he.default,rtrim:pe.default,trim:fe.default,escape:me.default,unescape:ge.default,stripLow:ye.default,whitelist:be.default,blacklist:ve.default,isWhitelisted:_e.default,normalizeEmail:Ee.default,toString};t.default=Pe,e.exports=t.default,e.exports.default=t.default},VcmV:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),(0,r.default)(o,e.toUpperCase())};var i=s(n("6k7E")),r=s(n("YQBb"));function s(e){return e&&e.__esModule?e:{default:e}}var o=["AD","AE","AF","AG","AI","AL","AM","AO","AQ","AR","AS","AT","AU","AW","AX","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BL","BM","BN","BO","BQ","BR","BS","BT","BV","BW","BY","BZ","CA","CC","CD","CF","CG","CH","CI","CK","CL","CM","CN","CO","CR","CU","CV","CW","CX","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EE","EG","EH","ER","ES","ET","FI","FJ","FK","FM","FO","FR","GA","GB","GD","GE","GF","GG","GH","GI","GL","GM","GN","GP","GQ","GR","GS","GT","GU","GW","GY","HK","HM","HN","HR","HT","HU","ID","IE","IL","IM","IN","IO","IQ","IR","IS","IT","JE","JM","JO","JP","KE","KG","KH","KI","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MF","MG","MH","MK","ML","MM","MN","MO","MP","MQ","MR","MS","MT","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NF","NG","NI","NL","NO","NP","NR","NU","NZ","OM","PA","PE","PF","PG","PH","PK","PL","PM","PN","PR","PS","PT","PW","PY","QA","RE","RO","RS","RU","RW","SA","SB","SC","SD","SE","SG","SH","SI","SJ","SK","SL","SM","SN","SO","SR","SS","ST","SV","SX","SY","SZ","TC","TD","TF","TG","TH","TJ","TK","TL","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","UM","US","UY","UZ","VA","VC","VE","VG","VI","VN","VU","WF","WS","YE","YT","ZA","ZM","ZW"];e.exports=t.default,e.exports.default=t.default},Vpm1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),s.test(e)};var i,r=(i=n("6k7E"))&&i.__esModule?i:{default:i},s=/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i;e.exports=t.default,e.exports.default=t.default},WAem:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r.default)(e);var n=s;if(n=t.require_hyphen?n.replace("?",""):n,!(n=t.case_sensitive?new RegExp(n):new RegExp(n,"i")).test(e))return!1;for(var i=e.replace("-","").toUpperCase(),o=0,a=0;a<i.length;a++){var l=i[a];o+=("X"===l?10:+l)*(8-a)}return o%11==0};var i,r=(i=n("6k7E"))&&i.__esModule?i:{default:i},s="^\\d{4}-?\\d{3}[\\dX]$";e.exports=t.default,e.exports.default=t.default},WJcH:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){return(0,r.default)(e),"[object RegExp]"!==Object.prototype.toString.call(t)&&(t=new RegExp(t,n)),t.test(e)};var i,r=(i=n("6k7E"))&&i.__esModule?i:{default:i};e.exports=t.default,e.exports.default=t.default},YQBb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=function(e,t){return e.some((function(e){return t===e}))},e.exports=t.default,e.exports.default=t.default},Yv8S:function(e){e.exports=JSON.parse('{"id":"plopdown-file","$schema":"http://json-schema.org/draft-04/schema#","title":"Plopdown File v1","type":"object","additionalProperties":false,"required":["headers","cues"],"definitions":{"percentage":{"title":"Percentage","type":"number","minimum":-100,"maximum":200},"milliseconds":{"title":"Milliseconds","type":"integer"},"degree":{"title":"Degree","type":"number","minimum":-360,"maximum":360},"footnote":{"title":"Footnote","type":"object","additionalProperties":false,"properties":{"title":{"type":"string"},"url":{"type":"string","format":"uri"}}},"icon":{"title":"Icon","type":"object","additionalProperties":false,"properties":{"top":{"$ref":"#/default/definitions/percentage"},"left":{"$ref":"#/default/definitions/percentage"},"size":{"type":"number","minimum":0,"maximum":500},"rotate":{"$ref":"#/default/definitions/degree"},"emoji":{"type":"string"}}},"info":{"$schema":"http://json-schema.org/draft-04/schema#","title":"Plopdown Info Schema","type":"object","additionalProperties":false,"description":"Information card displayed on the top left, usually at the beginning of a video.","required":["type","title","authors"],"properties":{"type":{"type":"string","const":"INFO","widget":"hidden"},"title":{"description":"Title","type":"string"},"url":{"description":"Website","type":"string","format":"uri"},"authors":{"description":"Authors","type":"array","items":{"type":"string"}}}},"audio":{"$schema":"http://json-schema.org/draft-04/schema#","title":"Plopdown Audio Schema","type":"object","additionalProperties":false,"description":"Audio overlay on top of video track","required":["type","top","left","title","url"],"properties":{"type":{"type":"string","const":"AUDIO"},"top":{"$ref":"#/default/definitions/percentage"},"left":{"$ref":"#/default/definitions/percentage"},"title":{"description":"Audio Title","type":"string"},"url":{"description":"URL to the audio file","type":"string","format":"uri"},"edits":{"description":"Transformations to apply between the audio and the video.","type":"array","items":{"oneOf":[{"type":"object","description":"Skip a section of the audio","properties":{"type":{"type":"string","const":"SKIP"},"startTime":{"$ref":"#/default/definitions/milliseconds"},"endTime":{"$ref":"#/default/definitions/milliseconds"}}},{"type":"object","description":"Pause the video but continue playing audio","properties":{"type":{"type":"string","const":"STILL"},"startTime":{"$ref":"#/default/definitions/milliseconds"},"duration":{"$ref":"#/default/definitions/milliseconds"}}},{"type":"object","description":"Pause the audio but continue playing video","properties":{"type":{"type":"string","const":"PAUSE"},"startTime":{"$ref":"#/default/definitions/milliseconds"},"duration":{"$ref":"#/default/definitions/milliseconds"}}},{"type":"object","description":"Adjust the volume of the video or the audio","properties":{"type":{"type":"string","const":"VOLUME"},"video":{"$ref":"#/default/definitions/percentage"},"audio":{"$ref":"#/default/definitions/percentage"}}}]}}}},"plop":{"title":"plopdown_plop_schema","type":"object","description":"A simple styled annotation with an icon and some text.","additionalProperties":false,"required":["type","top","left","width","desc","icons"],"properties":{"type":{"type":"string","const":"PLOP"},"top":{"$ref":"#/default/definitions/percentage"},"left":{"$ref":"#/default/definitions/percentage"},"width":{"$ref":"#/default/definitions/percentage"},"desc":{"type":"string"},"footnotes":{"type":"array","items":{"$ref":"#/default/definitions/footnote"}},"icons":{"type":"array","items":{"$ref":"#/default/definitions/icon"}}}}},"properties":{"headers":{"type":"object","required":["type","title","for","created"],"additionalProperties":false,"properties":{"type":{"type":"string","const":"plopdown_v1","description":"The filetype and version number."},"title":{"type":"string","description":"The human readable file title."},"for":{"description":"The title of the video this track is for.","type":"string"},"url":{"description":"The URL of the platform.","type":"string","format":"uri"},"license":{"description":"The license terms for this track.","type":"string"},"authors":{"description":"The author or authors of this file.","type":"string"},"created":{"description":"The datetime the file was first created.","type":"string","format":"date-time"},"updated":{"description":"The datetime the file was last updated.","type":"string","format":"date-time"},"thumbnail":{"description":"An image associated with this track.","type":"string"},"origin":{"description":"The location of the video to combine this file with.","type":"string","format":"uri"},"path":{"description":"The absolute path to the associated video.","type":"string","format":"uri"},"search":{"description":"The search query of the video this track is associated with.","type":"string","format":"uri"},"xpath":{"description":"The XPath of the video this track is associated with.","type":"string"}}},"cues":{"description":"The cues to annotate the video with.","type":"array","items":{"type":"object","required":["startTime","endTime","data"],"properties":{"id":{"type":"string"},"startTime":{"$ref":"#/default/definitions/milliseconds"},"endTime":{"$ref":"#/default/definitions/milliseconds"},"data":{"oneOf":[{"$ref":"#/default/definitions/info"},{"$ref":"#/default/definitions/plop"}]}}}}}}')},Zv2g:function(e,t){const n=/^-?(?:(?:[0-9]*\.[0-9]+)|[0-9]+)$/,i=/^[a-zA-Z_$][a-zA-Z0-9_$]*$/,r=/\\\\/,s=/^\s*$/,o=["'(?:(?:\\\\')|[^'])*'",'"(?:(?:\\\\")|[^"])*"',"\\s+","\\btrue\\b","\\bfalse\\b"],a=["[a-zA-Z_\\$][a-zA-Z0-9_\\$]*","(?:(?:[0-9]*\\.[0-9]+)|[0-9]+)"],l=["binaryOp","unaryOp","openParen","openBracket","question","colon"];e.exports=class{constructor(e){this._grammar=e}getElements(e){const t=this._getSplitRegex();return e.split(t).filter(e=>e)}getTokens(e){const t=[];let n=!1;for(let i=0;i<e.length;i++)this._isWhitespace(e[i])?t.length&&(t[t.length-1].raw+=e[i]):"-"===e[i]&&this._isNegative(t)?n=!0:(n&&(e[i]="-"+e[i],n=!1),t.push(this._createToken(e[i])));return n&&t.push(this._createToken("-")),t}tokenize(e){const t=this.getElements(e);return this.getTokens(t)}_createToken(e){const t={type:"literal",value:e,raw:e};if('"'===e[0]||"'"===e[0])t.value=this._unquote(e);else if(e.match(n))t.value=parseFloat(e);else if("true"===e||"false"===e)t.value="true"===e;else if(this._grammar[e])t.type=this._grammar[e].type;else{if(!e.match(i))throw new Error(`Invalid expression token: ${e}`);t.type="identifier"}return t}_escapeRegExp(e){return(e=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).match(i)&&(e="\\b"+e+"\\b"),e}_getSplitRegex(){if(!this._splitRegex){const e=Object.keys(this._grammar).sort((e,t)=>t.length-e.length).map(e=>this._escapeRegExp(e),this);this._splitRegex=new RegExp("("+[o.join("|"),e.join("|"),a.join("|")].join("|")+")")}return this._splitRegex}_isNegative(e){return!e.length||l.some(t=>t===e[e.length-1].type)}_isWhitespace(e){return!!e.match(s)}_unquote(e){const t=e[0],n=new RegExp("\\\\"+t,"g");return e.substr(1,e.length-2).replace(n,t).replace(r,"\\")}}},aYSr:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},"c/iL":function(e,t,n){"object"==typeof navigator&&(e.exports=function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],i=!0,r=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(i=(o=a.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,s=e}finally{try{i||null==a.return||a.return()}finally{if(r)throw s}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var l={addCSS:!0,thumbWidth:15,watch:!0};function c(e,t){return(function(){return Array.from(document.querySelectorAll(t)).includes(this)}).call(e,t)}var u,d,h,p=function(e){return null!=e?e.constructor:null},f=function(e,t){return Boolean(e&&t&&e instanceof t)},m=function(e){return p(e)===String},g=function(e){return Array.isArray(e)},y=function(e){return f(e,NodeList)},b=m,v=g,_=y,E=function(e){return f(e,Element)},w=function(e){return f(e,Event)},O=function(e){return function(e){return null==e}(e)||(m(e)||g(e)||y(e))&&!e.length||function(e){return p(e)===Object}(e)&&!Object.keys(e).length},P=function(){function t(n,i){e(this,t),E(n)?this.element=n:b(n)&&(this.element=document.querySelector(n)),E(this.element)&&O(this.element.rangeTouch)&&(this.config=Object.assign({},l,i),this.init())}return n(t,[{key:"init",value:function(){t.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){t.enabled&&(this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(e){var t=this,n=e?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach((function(e){t.element[n](e,(function(e){return t.set(e)}),!1)}))}},{key:"get",value:function(e){if(!t.enabled||!w(e))return null;var n,i=e.target,r=e.changedTouches[0],s=parseFloat(i.getAttribute("min"))||0,o=parseFloat(i.getAttribute("max"))||100,a=parseFloat(i.getAttribute("step"))||1,l=o-s,c=i.getBoundingClientRect(),u=100/c.width*(this.config.thumbWidth/2)/100;return(n=100/c.width*(r.clientX-c.left))<0?n=0:n>100&&(n=100),n<50?n-=(100-2*n)*u:n>50&&(n+=2*(n-50)*u),s+function(e,t){if(t<1){var n=(i="".concat(t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/))?Math.max(0,(i[1]?i[1].length:0)-(i[2]?+i[2]:0)):0;return parseFloat(e.toFixed(n))}var i;return Math.round(e/t)*t}(l*(n/100),a)}},{key:"set",value:function(e){t.enabled&&w(e)&&!e.target.disabled&&(e.preventDefault(),e.target.value=this.get(e),function(e,t){if(e&&t){var n=new Event(t);e.dispatchEvent(n)}}(e.target,"touchend"===e.type?"change":"input"))}}],[{key:"setup",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=null;if(O(e)||b(e)?i=Array.from(document.querySelectorAll(b(e)?e:'input[type="range"]')):E(e)?i=[e]:_(e)?i=Array.from(e):v(e)&&(i=e.filter(E)),O(i))return null;var r=Object.assign({},l,n);if(b(e)&&r.watch){var s=new MutationObserver((function(n){Array.from(n).forEach((function(n){Array.from(n.addedNodes).forEach((function(n){E(n)&&c(n,e)&&new t(n,r)}))}))}));s.observe(document.body,{childList:!0,subtree:!0})}return i.map((function(e){return new t(e,n)}))}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}]),t}(),A=function(e){return null!=e?e.constructor:null},T=function(e,t){return Boolean(e&&t&&e instanceof t)},C=function(e){return null==e},k=function(e){return A(e)===Object},x=function(e){return A(e)===String},S=function(e){return Array.isArray(e)},M=function(e){return T(e,NodeList)},I=function(e){return C(e)||(x(e)||S(e)||M(e))&&!e.length||k(e)&&!Object.keys(e).length},j=C,R=k,N=function(e){return A(e)===Number&&!Number.isNaN(e)},V=x,L=function(e){return A(e)===Boolean},D=function(e){return A(e)===Function},$=S,F=M,U=function(e){return T(e,Element)},B=function(e){return T(e,Event)},H=function(e){return T(e,KeyboardEvent)},K=function(e){return T(e,TextTrack)||!C(e)&&x(e.kind)},W=function(e){if(T(e,window.URL))return!0;if(!x(e))return!1;var t=e;e.startsWith("http://")&&e.startsWith("https://")||(t="http://".concat(e));try{return!I(new URL(t).hostname)}catch(e){return!1}},q=I,Y=(u=document.createElement("span"),d={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},h=Object.keys(d).find((function(e){return void 0!==u.style[e]})),!!V(h)&&d[h]);function z(e,t){setTimeout((function(){try{e.hidden=!0,e.hidden=!1}catch(e){}}),t)}var G={isIE:!!document.documentMode,isEdge:window.navigator.userAgent.includes("Edge"),isWebkit:"WebkitAppearance"in document.documentElement.style&&!/Edge/.test(navigator.userAgent),isIPhone:/(iPhone|iPod)/gi.test(navigator.platform),isIos:/(iPad|iPhone|iPod)/gi.test(navigator.platform)};function Z(e,t){return t.split(".").reduce((function(e,t){return e&&e[t]}),e)}function Q(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(!n.length)return e;var s=n.shift();return R(s)?(Object.keys(s).forEach((function(t){R(s[t])?(Object.keys(e).includes(t)||Object.assign(e,i({},t,{})),Q(e[t],s[t])):Object.assign(e,i({},t,s[t]))})),Q.apply(void 0,[e].concat(n))):e}function X(e,t){Array.from(e.length?e:[e]).reverse().forEach((function(e,n){var i=n>0?t.cloneNode(!0):t,r=e.parentNode,s=e.nextSibling;i.appendChild(e),s?r.insertBefore(i,s):r.appendChild(i)}))}function J(e,t){U(e)&&!q(t)&&Object.entries(t).filter((function(e){var t=o(e,2)[1];return!j(t)})).forEach((function(t){var n=o(t,2);return e.setAttribute(n[0],n[1])}))}function ee(e,t,n){var i=document.createElement(e);return R(t)&&J(i,t),V(n)&&(i.innerText=n),i}function te(e,t,n,i){U(t)&&t.appendChild(ee(e,n,i))}function ne(e){F(e)||$(e)?Array.from(e).forEach(ne):U(e)&&U(e.parentNode)&&e.parentNode.removeChild(e)}function ie(e){if(U(e))for(var t=e.childNodes.length;t>0;)e.removeChild(e.lastChild),t-=1}function re(e,t){return U(t)&&U(t.parentNode)&&U(e)?(t.parentNode.replaceChild(e,t),e):null}function se(e,t){if(!V(e)||q(e))return{};var n={},i=Q({},t);return e.split(",").forEach((function(e){var t=e.trim(),r=t.replace(".",""),s=t.replace(/[[\]]/g,"").split("="),a=o(s,1)[0],l=s.length>1?s[1].replace(/["']/g,""):"";switch(t.charAt(0)){case".":n.class=V(i.class)?"".concat(i.class," ").concat(r):r;break;case"#":n.id=t.replace("#","");break;case"[":n[a]=l}})),Q(i,n)}function oe(e,t){if(U(e)){var n=t;L(n)||(n=!e.hidden),e.hidden=n}}function ae(e,t,n){if(F(e))return Array.from(e).map((function(e){return ae(e,t,n)}));if(U(e)){var i="toggle";return void 0!==n&&(i=n?"add":"remove"),e.classList[i](t),e.classList.contains(t)}return!1}function le(e,t){return U(e)&&e.classList.contains(t)}function ce(e,t){return(function(){return Array.from(document.querySelectorAll(t)).includes(this)}).call(e,t)}function ue(e){return this.elements.container.querySelectorAll(e)}function de(e){return this.elements.container.querySelector(e)}function he(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];U(e)&&(e.focus({preventScroll:!0}),t&&ae(e,this.config.classNames.tabFocus))}var pe,fe={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},me={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check:function(e,t,n){var i=me[e]||"html5"!==t;return{api:i,ui:i&&me.rangeInput&&("video"!==e||!G.isIPhone||G.isIPhone&&n&&me.playsinline)}},pip:!(G.isIPhone||!D(ee("video").webkitSetPresentationMode)&&(!document.pictureInPictureEnabled||ee("video").disablePictureInPicture)),airplay:D(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime:function(e){if(q(e))return!1;var t=o(e.split("/"),1)[0],n=e;if(!this.isHTML5||t!==this.type)return!1;Object.keys(fe).includes(n)&&(n+='; codecs="'.concat(fe[e],'"'));try{return Boolean(n&&this.media.canPlayType(n).replace(/no/,""))}catch(e){return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:(pe=document.createElement("input"),pe.type="range","range"===pe.type),touch:"ontouchstart"in document.documentElement,transitions:!1!==Y,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},ge=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){return e=!0,null}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(e){}return e}();function ye(e,t,n){var i=this,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(e&&"addEventListener"in e&&!q(t)&&D(n)){var a=t.split(" "),l=o;ge&&(l={passive:s,capture:o}),a.forEach((function(t){i&&i.eventListeners&&r&&i.eventListeners.push({element:e,type:t,callback:n,options:l}),e[r?"addEventListener":"removeEventListener"](t,n,l)}))}}function be(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];ye.call(this,e,t,n,!0,i,r)}function ve(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];ye.call(this,e,t,n,!1,i,r)}function _e(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=function o(){ve(e,n,o,r,s);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];i.apply(t,l)};ye.call(this,e,n,o,!0,r,s)}function Ee(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(U(e)&&!q(t)){var r=new CustomEvent(t,{bubbles:n,detail:s({},i,{plyr:this})});e.dispatchEvent(r)}}function we(){this&&this.eventListeners&&(this.eventListeners.forEach((function(e){e.element.removeEventListener(e.type,e.callback,e.options)})),this.eventListeners=[])}function Oe(){var e=this;return new Promise((function(t){return e.ready?setTimeout(t,0):be.call(e,e.elements.container,"ready",t)})).then((function(){}))}function Pe(e){return!!($(e)||V(e)&&e.includes(":"))&&($(e)?e:e.split(":")).map(Number).every(N)}function Ae(e){if(!$(e)||!e.every(N))return null;var t=o(e,2),n=t[0],i=t[1],r=function e(t,n){return 0===n?t:e(n,t%n)}(n,i);return[n/r,i/r]}function Te(e){var t=function(e){return Pe(e)?e.split(":").map(Number):null},n=t(e);if(null===n&&(n=t(this.config.ratio)),null===n&&!q(this.embed)&&$(this.embed.ratio)&&(n=this.embed.ratio),null===n&&this.isHTML5){var i=this.media;n=Ae([i.videoWidth,i.videoHeight])}return n}function Ce(e){if(!this.isVideo)return{};var t=this.elements.wrapper,n=Te.call(this,e),i=o($(n)?n:[0,0],2),r=100/i[0]*i[1];return t.style.paddingBottom="".concat(r,"%"),this.isVimeo&&this.supported.ui?this.media.style.transform="translateY(-".concat((240-r)/4.8,"%)"):this.isHTML5&&t.classList.toggle(this.config.classNames.videoFixedRatio,null!==n),{padding:r,ratio:n}}var ke={getSources:function(){var e=this;return this.isHTML5?Array.from(this.media.querySelectorAll("source")).filter((function(t){var n=t.getAttribute("type");return!!q(n)||me.mime.call(e,n)})):[]},getQualityOptions:function(){return this.config.quality.forced?this.config.quality.options:ke.getSources.call(this).map((function(e){return Number(e.getAttribute("size"))})).filter(Boolean)},setup:function(){if(this.isHTML5){var e=this;e.options.speed=e.config.speed.options,q(this.config.ratio)||Ce.call(e),Object.defineProperty(e.media,"quality",{get:function(){var t=ke.getSources.call(e).find((function(t){return t.getAttribute("src")===e.source}));return t&&Number(t.getAttribute("size"))},set:function(t){if(e.quality!==t){if(e.config.quality.forced&&D(e.config.quality.onChange))e.config.quality.onChange(t);else{var n=ke.getSources.call(e).find((function(e){return Number(e.getAttribute("size"))===t}));if(!n)return;var i=e.media,r=i.currentTime,s=i.paused,o=i.preload,a=i.readyState,l=i.playbackRate;e.media.src=n.getAttribute("src"),("none"!==o||a)&&(e.once("loadedmetadata",(function(){e.speed=l,e.currentTime=r,s||e.play()})),e.media.load())}Ee.call(e,e.media,"qualitychange",!1,{quality:t})}}})}},cancelRequests:function(){this.isHTML5&&(ne(ke.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}};function xe(e){return $(e)?e.filter((function(t,n){return e.indexOf(t)===n})):e}function Se(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return q(e)?e:e.toString().replace(/{(\d+)}/g,(function(e,t){return n[t].toString()}))}function Me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e.replace(new RegExp(t.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),n.toString())}function Ie(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.toString().replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))}function je(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.toString();return t=Me(t,"-"," "),t=Me(t,"_"," "),Me(t=Ie(t)," ","")}function Re(e){var t=document.createElement("div");return t.appendChild(e),t.innerHTML}var Ne={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},Ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(q(e)||q(t))return"";var n=Z(t.i18n,e);if(q(n))return Object.keys(Ne).includes(e)?Ne[e]:"";var i={"{seektime}":t.seekTime,"{title}":t.title};return Object.entries(i).forEach((function(e){var t=o(e,2);n=Me(n,t[0],t[1])})),n},Le=function(){function t(n){e(this,t),this.enabled=n.config.storage.enabled,this.key=n.config.storage.key}return n(t,[{key:"get",value:function(e){if(!t.supported||!this.enabled)return null;var n=window.localStorage.getItem(this.key);if(q(n))return null;var i=JSON.parse(n);return V(e)&&e.length?i[e]:i}},{key:"set",value:function(e){if(t.supported&&this.enabled&&R(e)){var n=this.get();q(n)&&(n={}),Q(n,e),window.localStorage.setItem(this.key,JSON.stringify(n))}}}],[{key:"supported",get:function(){try{return"localStorage"in window&&(window.localStorage.setItem("___test","___test"),window.localStorage.removeItem("___test"),!0)}catch(e){return!1}}}]),t}();function De(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";return new Promise((function(n,i){try{var r=new XMLHttpRequest;if(!("withCredentials"in r))return;r.addEventListener("load",(function(){if("text"===t)try{n(JSON.parse(r.responseText))}catch(e){n(r.responseText)}else n(r.response)})),r.addEventListener("error",(function(){throw new Error(r.status)})),r.open("GET",e,!0),r.responseType=t,r.send()}catch(e){i(e)}}))}function $e(e,t){if(V(e)){var n=V(t),i=function(){return null!==document.getElementById(t)},r=function(e,t){e.innerHTML=t,n&&i()||document.body.insertAdjacentElement("afterbegin",e)};if(!n||!i()){var s=Le.supported,o=document.createElement("div");if(o.setAttribute("hidden",""),n&&o.setAttribute("id",t),s){var a=window.localStorage.getItem("".concat("cache","-").concat(t));if(null!==a){var l=JSON.parse(a);r(o,l.content)}}De(e).then((function(e){q(e)||(s&&window.localStorage.setItem("".concat("cache","-").concat(t),JSON.stringify({content:e})),r(o,e))})).catch((function(){}))}}}var Fe=function(e){return Math.trunc(e/60/60%60,10)},Ue=function(e){return Math.trunc(e/60%60,10)},Be=function(e){return Math.trunc(e%60,10)};function He(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!N(e))return He(void 0,t,n);var i=function(e){return"0".concat(e).slice(-2)},r=Fe(e),s=Ue(e),o=Be(e);return r=t||r>0?"".concat(r,":"):"","".concat(n&&e>0?"-":"").concat(r).concat(i(s),":").concat(i(o))}var Ke={getIconUrl:function(){var e=new URL(this.config.iconUrl,window.location).host!==window.location.host||G.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:e}},findElements:function(){try{return this.elements.controls=de.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:ue.call(this,this.config.selectors.buttons.play),pause:de.call(this,this.config.selectors.buttons.pause),restart:de.call(this,this.config.selectors.buttons.restart),rewind:de.call(this,this.config.selectors.buttons.rewind),fastForward:de.call(this,this.config.selectors.buttons.fastForward),mute:de.call(this,this.config.selectors.buttons.mute),pip:de.call(this,this.config.selectors.buttons.pip),airplay:de.call(this,this.config.selectors.buttons.airplay),settings:de.call(this,this.config.selectors.buttons.settings),captions:de.call(this,this.config.selectors.buttons.captions),fullscreen:de.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=de.call(this,this.config.selectors.progress),this.elements.inputs={seek:de.call(this,this.config.selectors.inputs.seek),volume:de.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:de.call(this,this.config.selectors.display.buffer),currentTime:de.call(this,this.config.selectors.display.currentTime),duration:de.call(this,this.config.selectors.display.duration)},U(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(".".concat(this.config.classNames.tooltip))),!0}catch(e){return this.debug.warn("It looks like there is a problem with your custom controls HTML",e),this.toggleNativeControls(!0),!1}},createIcon:function(e,t){var n=Ke.getIconUrl.call(this),i="".concat(n.cors?"":n.url,"#").concat(this.config.iconPrefix),r=document.createElementNS("http://www.w3.org/2000/svg","svg");J(r,Q(t,{role:"presentation",focusable:"false"}));var s=document.createElementNS("http://www.w3.org/2000/svg","use"),o="".concat(i,"-").concat(e);return"href"in s&&s.setAttributeNS("http://www.w3.org/1999/xlink","href",o),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o),r.appendChild(s),r},createLabel:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Ve(e,this.config),i=s({},t,{class:[t.class,this.config.classNames.hidden].filter(Boolean).join(" ")});return ee("span",i,n)},createBadge:function(e){if(q(e))return null;var t=ee("span",{class:this.config.classNames.menu.value});return t.appendChild(ee("span",{class:this.config.classNames.menu.badge},e)),t},createButton:function(e,t){var n=this,i=Q({},t),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.toString();return(t=je(t)).charAt(0).toLowerCase()+t.slice(1)}(e),s={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach((function(e){Object.keys(i).includes(e)&&(s[e]=i[e],delete i[e])})),"button"!==s.element||Object.keys(i).includes("type")||(i.type="button"),Object.keys(i).includes("class")?i.class.split(" ").some((function(e){return e===n.config.classNames.control}))||Q(i,{class:"".concat(i.class," ").concat(this.config.classNames.control)}):i.class=this.config.classNames.control,e){case"play":s.toggle=!0,s.label="play",s.labelPressed="pause",s.icon="play",s.iconPressed="pause";break;case"mute":s.toggle=!0,s.label="mute",s.labelPressed="unmute",s.icon="volume",s.iconPressed="muted";break;case"captions":s.toggle=!0,s.label="enableCaptions",s.labelPressed="disableCaptions",s.icon="captions-off",s.iconPressed="captions-on";break;case"fullscreen":s.toggle=!0,s.label="enterFullscreen",s.labelPressed="exitFullscreen",s.icon="enter-fullscreen",s.iconPressed="exit-fullscreen";break;case"play-large":i.class+=" ".concat(this.config.classNames.control,"--overlaid"),r="play",s.label="play",s.icon="play";break;default:q(s.label)&&(s.label=r),q(s.icon)&&(s.icon=e)}var o=ee(s.element);return s.toggle?(o.appendChild(Ke.createIcon.call(this,s.iconPressed,{class:"icon--pressed"})),o.appendChild(Ke.createIcon.call(this,s.icon,{class:"icon--not-pressed"})),o.appendChild(Ke.createLabel.call(this,s.labelPressed,{class:"label--pressed"})),o.appendChild(Ke.createLabel.call(this,s.label,{class:"label--not-pressed"}))):(o.appendChild(Ke.createIcon.call(this,s.icon)),o.appendChild(Ke.createLabel.call(this,s.label))),Q(i,se(this.config.selectors.buttons[r],i)),J(o,i),"play"===r?($(this.elements.buttons[r])||(this.elements.buttons[r]=[]),this.elements.buttons[r].push(o)):this.elements.buttons[r]=o,o},createRange:function(e,t){var n=ee("input",Q(se(this.config.selectors.inputs[e]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":Ve(e,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},t));return this.elements.inputs[e]=n,Ke.updateRangeFill.call(this,n),P.setup(n),n},createProgress:function(e,t){var n=ee("progress",Q(se(this.config.selectors.display[e]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},t));if("volume"!==e){n.appendChild(ee("span",null,"0"));var i={played:"played",buffer:"buffered"}[e],r=i?Ve(i,this.config):"";n.innerText="% ".concat(r.toLowerCase())}return this.elements.display[e]=n,n},createTime:function(e,t){var n=se(this.config.selectors.display[e],t),i=ee("div",Q(n,{class:"".concat(n.class?n.class:""," ").concat(this.config.classNames.display.time," ").trim(),"aria-label":Ve(e,this.config)}),"00:00");return this.elements.display[e]=i,i},bindMenuItemShortcuts:function(e,t){var n=this;be.call(this,e,"keydown keyup",(function(i){if([32,38,39,40].includes(i.which)&&(i.preventDefault(),i.stopPropagation(),"keydown"!==i.type)){var r,s=ce(e,'[role="menuitemradio"]');!s&&[32,39].includes(i.which)?Ke.showMenuPanel.call(n,t,!0):32!==i.which&&(40===i.which||s&&39===i.which?U(r=e.nextElementSibling)||(r=e.parentNode.firstElementChild):U(r=e.previousElementSibling)||(r=e.parentNode.lastElementChild),he.call(n,r,!0))}}),!1),be.call(this,e,"keyup",(function(e){13===e.which&&Ke.focusFirstMenuItem.call(n,null,!0)}))},createMenuItem:function(e){var t=this,n=e.value,i=e.list,r=e.type,s=e.title,o=e.badge,a=void 0===o?null:o,l=e.checked,c=void 0!==l&&l,u=se(this.config.selectors.inputs[r]),d=ee("button",Q(u,{type:"button",role:"menuitemradio",class:"".concat(this.config.classNames.control," ").concat(u.class?u.class:"").trim(),"aria-checked":c,value:n})),h=ee("span");h.innerHTML=s,U(a)&&h.appendChild(a),d.appendChild(h),Object.defineProperty(d,"checked",{enumerable:!0,get:function(){return"true"===d.getAttribute("aria-checked")},set:function(e){e&&Array.from(d.parentNode.children).filter((function(e){return ce(e,'[role="menuitemradio"]')})).forEach((function(e){return e.setAttribute("aria-checked","false")})),d.setAttribute("aria-checked",e?"true":"false")}}),this.listeners.bind(d,"click keyup",(function(e){if(!H(e)||32===e.which){switch(e.preventDefault(),e.stopPropagation(),d.checked=!0,r){case"language":t.currentTrack=Number(n);break;case"quality":t.quality=n;break;case"speed":t.speed=parseFloat(n)}Ke.showMenuPanel.call(t,"home",H(e))}}),r,!1),Ke.bindMenuItemShortcuts.call(this,d,r),i.appendChild(d)},formatTime:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!N(e))return e;var n=Fe(this.duration)>0;return He(e,n,t)},updateTimeDisplay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];U(e)&&N(t)&&(e.innerText=Ke.formatTime(t,n))},updateVolume:function(){this.supported.ui&&(U(this.elements.inputs.volume)&&Ke.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),U(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||0===this.volume))},setRange:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;U(e)&&(e.value=t,Ke.updateRangeFill.call(this,e))},updateProgress:function(e){var t=this;if(this.supported.ui&&B(e)){var n,i,r=0;if(e)switch(e.type){case"timeupdate":case"seeking":case"seeked":i=this.duration,r=0===(n=this.currentTime)||0===i||Number.isNaN(n)||Number.isNaN(i)?0:(n/i*100).toFixed(2),"timeupdate"===e.type&&Ke.setRange.call(this,this.elements.inputs.seek,r);break;case"playing":case"progress":!function(e,n){var i=N(n)?n:0,r=U(e)?e:t.elements.display.buffer;if(U(r)){r.value=i;var s=r.getElementsByTagName("span")[0];U(s)&&(s.childNodes[0].nodeValue=i)}}(this.elements.display.buffer,100*this.buffered)}}},updateRangeFill:function(e){var t=B(e)?e.target:e;if(U(t)&&"range"===t.getAttribute("type")){if(ce(t,this.config.selectors.inputs.seek)){t.setAttribute("aria-valuenow",this.currentTime);var n=Ke.formatTime(this.currentTime),i=Ke.formatTime(this.duration),r=Ve("seekLabel",this.config);t.setAttribute("aria-valuetext",r.replace("{currentTime}",n).replace("{duration}",i))}else if(ce(t,this.config.selectors.inputs.volume)){var s=100*t.value;t.setAttribute("aria-valuenow",s),t.setAttribute("aria-valuetext","".concat(s.toFixed(1),"%"))}else t.setAttribute("aria-valuenow",t.value);G.isWebkit&&t.style.setProperty("--value","".concat(t.value/t.max*100,"%"))}},updateSeekTooltip:function(e){var t=this;if(this.config.tooltips.seek&&U(this.elements.inputs.seek)&&U(this.elements.display.seekTooltip)&&0!==this.duration){var n="".concat(this.config.classNames.tooltip,"--visible"),i=function(e){return ae(t.elements.display.seekTooltip,n,e)};if(this.touch)i(!1);else{var r=0,s=this.elements.progress.getBoundingClientRect();if(B(e))r=100/s.width*(e.pageX-s.left);else{if(!le(this.elements.display.seekTooltip,n))return;r=parseFloat(this.elements.display.seekTooltip.style.left,10)}r<0?r=0:r>100&&(r=100),Ke.updateTimeDisplay.call(this,this.elements.display.seekTooltip,this.duration/100*r),this.elements.display.seekTooltip.style.left="".concat(r,"%"),B(e)&&["mouseenter","mouseleave"].includes(e.type)&&i("mouseenter"===e.type)}}},timeUpdate:function(e){var t=!U(this.elements.display.duration)&&this.config.invertTime;Ke.updateTimeDisplay.call(this,this.elements.display.currentTime,t?this.duration-this.currentTime:this.currentTime,t),e&&"timeupdate"===e.type&&this.media.seeking||Ke.updateProgress.call(this,e)},durationUpdate:function(){if(this.supported.ui&&(this.config.invertTime||!this.currentTime)){if(this.duration>=Math.pow(2,32))return oe(this.elements.display.currentTime,!0),void oe(this.elements.progress,!0);U(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);var e=U(this.elements.display.duration);!e&&this.config.displayDuration&&this.paused&&Ke.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),e&&Ke.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),Ke.updateSeekTooltip.call(this)}},toggleMenuButton:function(e,t){oe(this.elements.settings.buttons[e],!t)},updateSetting:function(e,t,n){var i=this.elements.settings.panels[e],r=null,s=t;if("captions"===e)r=this.currentTrack;else{if(r=q(n)?this[e]:n,q(r)&&(r=this.config[e].default),!q(this.options[e])&&!this.options[e].includes(r))return void this.debug.warn("Unsupported value of '".concat(r,"' for ").concat(e));if(!this.config[e].options.includes(r))return void this.debug.warn("Disabled value of '".concat(r,"' for ").concat(e))}if(U(s)||(s=i&&i.querySelector('[role="menu"]')),U(s)){this.elements.settings.buttons[e].querySelector(".".concat(this.config.classNames.menu.value)).innerHTML=Ke.getLabel.call(this,e,r);var o=s&&s.querySelector('[value="'.concat(r,'"]'));U(o)&&(o.checked=!0)}},getLabel:function(e,t){switch(e){case"speed":return 1===t?Ve("normal",this.config):"".concat(t,"&times;");case"quality":if(N(t)){var n=Ve("qualityLabel.".concat(t),this.config);return n.length?n:"".concat(t,"p")}return Ie(t);case"captions":return Ye.getLabel.call(this);default:return null}},setQualityMenu:function(e){var t=this;if(U(this.elements.settings.panels.quality)){var n=this.elements.settings.panels.quality.querySelector('[role="menu"]');$(e)&&(this.options.quality=xe(e).filter((function(e){return t.config.quality.options.includes(e)})));var i=!q(this.options.quality)&&this.options.quality.length>1;if(Ke.toggleMenuButton.call(this,"quality",i),ie(n),Ke.checkMenu.call(this),i){var r=function(e){var n=Ve("qualityBadge.".concat(e),t.config);return n.length?Ke.createBadge.call(t,n):null};this.options.quality.sort((function(e,n){var i=t.config.quality.options;return i.indexOf(e)>i.indexOf(n)?1:-1})).forEach((function(e){Ke.createMenuItem.call(t,{value:e,list:n,type:"quality",title:Ke.getLabel.call(t,"quality",e),badge:r(e)})})),Ke.updateSetting.call(this,"quality",n)}}},setCaptionsMenu:function(){var e=this;if(U(this.elements.settings.panels.captions)){var t=this.elements.settings.panels.captions.querySelector('[role="menu"]'),n=Ye.getTracks.call(this),i=Boolean(n.length);if(Ke.toggleMenuButton.call(this,"captions",i),ie(t),Ke.checkMenu.call(this),i){var r=n.map((function(n,i){return{value:i,checked:e.captions.toggled&&e.currentTrack===i,title:Ye.getLabel.call(e,n),badge:n.language&&Ke.createBadge.call(e,n.language.toUpperCase()),list:t,type:"language"}}));r.unshift({value:-1,checked:!this.captions.toggled,title:Ve("disabled",this.config),list:t,type:"language"}),r.forEach(Ke.createMenuItem.bind(this)),Ke.updateSetting.call(this,"captions",t)}}},setSpeedMenu:function(){var e=this;if(U(this.elements.settings.panels.speed)){var t=this.elements.settings.panels.speed.querySelector('[role="menu"]');this.options.speed=this.options.speed.filter((function(t){return t>=e.minimumSpeed&&t<=e.maximumSpeed}));var n=!q(this.options.speed)&&this.options.speed.length>1;Ke.toggleMenuButton.call(this,"speed",n),ie(t),Ke.checkMenu.call(this),n&&(this.options.speed.forEach((function(n){Ke.createMenuItem.call(e,{value:n,list:t,type:"speed",title:Ke.getLabel.call(e,"speed",n)})})),Ke.updateSetting.call(this,"speed",t))}},checkMenu:function(){var e=this.elements.settings.buttons,t=!q(e)&&Object.values(e).some((function(e){return!e.hidden}));oe(this.elements.settings.menu,!t)},focusFirstMenuItem:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.elements.settings.popup.hidden){var n=e;U(n)||(n=Object.values(this.elements.settings.panels).find((function(e){return!e.hidden})));var i=n.querySelector('[role^="menuitem"]');he.call(this,i,t)}},toggleMenu:function(e){var t=this.elements.settings.popup,n=this.elements.buttons.settings;if(U(t)&&U(n)){var i=t.hidden,r=i;if(L(e))r=e;else if(H(e)&&27===e.which)r=!1;else if(B(e)){var s=D(e.composedPath)?e.composedPath()[0]:e.target,o=t.contains(s);if(o||!o&&e.target!==n&&r)return}n.setAttribute("aria-expanded",r),oe(t,!r),ae(this.elements.container,this.config.classNames.menu.open,r),r&&H(e)?Ke.focusFirstMenuItem.call(this,null,!0):r||i||he.call(this,n,H(e))}},getMenuSize:function(e){var t=e.cloneNode(!0);t.style.position="absolute",t.style.opacity=0,t.removeAttribute("hidden"),e.parentNode.appendChild(t);var n=t.scrollWidth,i=t.scrollHeight;return ne(t),{width:n,height:i}},showMenuPanel:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.elements.container.querySelector("#plyr-settings-".concat(this.id,"-").concat(t));if(U(i)){var r=i.parentNode,s=Array.from(r.children).find((function(e){return!e.hidden}));if(me.transitions&&!me.reducedMotion){r.style.width="".concat(s.scrollWidth,"px"),r.style.height="".concat(s.scrollHeight,"px");var o=Ke.getMenuSize.call(this,i),a=function t(n){n.target===r&&["width","height"].includes(n.propertyName)&&(r.style.width="",r.style.height="",ve.call(e,r,Y,t))};be.call(this,r,Y,a),r.style.width="".concat(o.width,"px"),r.style.height="".concat(o.height,"px")}oe(s,!0),oe(i,!1),Ke.focusFirstMenuItem.call(this,i,n)}},setDownloadUrl:function(){var e=this.elements.buttons.download;U(e)&&e.setAttribute("href",this.download)},create:function(e){var t=this,n=Ke.bindMenuItemShortcuts,i=Ke.createButton,r=Ke.createProgress,s=Ke.createRange,o=Ke.createTime,a=Ke.setQualityMenu,l=Ke.setSpeedMenu,c=Ke.showMenuPanel;this.elements.controls=null,this.config.controls.includes("play-large")&&this.elements.container.appendChild(i.call(this,"play-large"));var u=ee("div",se(this.config.selectors.controls.wrapper));this.elements.controls=u;var d={class:"plyr__controls__item"};return xe(this.config.controls).forEach((function(a){if("restart"===a&&u.appendChild(i.call(t,"restart",d)),"rewind"===a&&u.appendChild(i.call(t,"rewind",d)),"play"===a&&u.appendChild(i.call(t,"play",d)),"fast-forward"===a&&u.appendChild(i.call(t,"fast-forward",d)),"progress"===a){var l=ee("div",{class:"".concat(d.class," plyr__progress__container")}),h=ee("div",se(t.config.selectors.progress));if(h.appendChild(s.call(t,"seek",{id:"plyr-seek-".concat(e.id)})),h.appendChild(r.call(t,"buffer")),t.config.tooltips.seek){var p=ee("span",{class:t.config.classNames.tooltip},"00:00");h.appendChild(p),t.elements.display.seekTooltip=p}t.elements.progress=h,l.appendChild(t.elements.progress),u.appendChild(l)}if("current-time"===a&&u.appendChild(o.call(t,"currentTime",d)),"duration"===a&&u.appendChild(o.call(t,"duration",d)),"mute"===a||"volume"===a){var f=t.elements.volume;U(f)&&u.contains(f)||(f=ee("div",Q({},d,{class:"".concat(d.class," plyr__volume").trim()})),t.elements.volume=f,u.appendChild(f)),"mute"===a&&f.appendChild(i.call(t,"mute")),"volume"!==a||G.isIos||f.appendChild(s.call(t,"volume",Q({max:1,step:.05,value:t.config.volume},{id:"plyr-volume-".concat(e.id)})))}if("captions"===a&&u.appendChild(i.call(t,"captions",d)),"settings"===a&&!q(t.config.settings)){var m=ee("div",Q({},d,{class:"".concat(d.class," plyr__menu").trim(),hidden:""}));m.appendChild(i.call(t,"settings",{"aria-haspopup":!0,"aria-controls":"plyr-settings-".concat(e.id),"aria-expanded":!1}));var g=ee("div",{class:"plyr__menu__container",id:"plyr-settings-".concat(e.id),hidden:""}),y=ee("div"),b=ee("div",{id:"plyr-settings-".concat(e.id,"-home")}),v=ee("div",{role:"menu"});b.appendChild(v),y.appendChild(b),t.elements.settings.panels.home=b,t.config.settings.forEach((function(i){var r=ee("button",Q(se(t.config.selectors.buttons.settings),{type:"button",class:"".concat(t.config.classNames.control," ").concat(t.config.classNames.control,"--forward"),role:"menuitem","aria-haspopup":!0,hidden:""}));n.call(t,r,i),be.call(t,r,"click",(function(){c.call(t,i,!1)}));var s=ee("span",null,Ve(i,t.config)),o=ee("span",{class:t.config.classNames.menu.value});o.innerHTML=e[i],s.appendChild(o),r.appendChild(s),v.appendChild(r);var a=ee("div",{id:"plyr-settings-".concat(e.id,"-").concat(i),hidden:""}),l=ee("button",{type:"button",class:"".concat(t.config.classNames.control," ").concat(t.config.classNames.control,"--back")});l.appendChild(ee("span",{"aria-hidden":!0},Ve(i,t.config))),l.appendChild(ee("span",{class:t.config.classNames.hidden},Ve("menuBack",t.config))),be.call(t,a,"keydown",(function(e){37===e.which&&(e.preventDefault(),e.stopPropagation(),c.call(t,"home",!0))}),!1),be.call(t,l,"click",(function(){c.call(t,"home",!1)})),a.appendChild(l),a.appendChild(ee("div",{role:"menu"})),y.appendChild(a),t.elements.settings.buttons[i]=r,t.elements.settings.panels[i]=a})),g.appendChild(y),m.appendChild(g),u.appendChild(m),t.elements.settings.popup=g,t.elements.settings.menu=m}if("pip"===a&&me.pip&&u.appendChild(i.call(t,"pip",d)),"airplay"===a&&me.airplay&&u.appendChild(i.call(t,"airplay",d)),"download"===a){var _=Q({},d,{element:"a",href:t.download,target:"_blank"});t.isHTML5&&(_.download=""),!W(t.config.urls.download)&&t.isEmbed&&Q(_,{icon:"logo-".concat(t.provider),label:t.provider}),u.appendChild(i.call(t,"download",_))}"fullscreen"===a&&u.appendChild(i.call(t,"fullscreen",d))})),this.isHTML5&&a.call(this,ke.getQualityOptions.call(this)),l.call(this),u},inject:function(){var e=this;if(this.config.loadSprite){var t=Ke.getIconUrl.call(this);t.cors&&$e(t.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());var n=null;this.elements.controls=null;var i={id:this.id,seektime:this.config.seekTime,title:this.config.title},r=!0;D(this.config.controls)&&(this.config.controls=this.config.controls.call(this,i)),this.config.controls||(this.config.controls=[]),U(this.config.controls)||V(this.config.controls)?n=this.config.controls:(n=Ke.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:Ye.getLabel.call(this)}),r=!1);var s,a=function(e){var t=e;return Object.entries(i).forEach((function(e){var n=o(e,2),i=n[1];t=Me(t,"{".concat(n[0],"}"),i)})),t};if(r&&(V(this.config.controls)?n=a(n):U(n)&&(n.innerHTML=a(n.innerHTML))),V(this.config.selectors.controls.container)&&(s=document.querySelector(this.config.selectors.controls.container)),U(s)||(s=this.elements.container),s[U(n)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",n),U(this.elements.controls)||Ke.findElements.call(this),!q(this.elements.buttons)){var l=function(t){var n=e.config.classNames.controlPressed;Object.defineProperty(t,"pressed",{enumerable:!0,get:function(){return le(t,n)},set:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];ae(t,n,e)}})};Object.values(this.elements.buttons).filter(Boolean).forEach((function(e){$(e)||F(e)?Array.from(e).filter(Boolean).forEach(l):l(e)}))}if(G.isEdge&&z(s),this.config.tooltips.controls){var c=this.config,u=c.classNames,d=c.selectors,h="".concat(d.controls.wrapper," ").concat(d.labels," .").concat(u.hidden),p=ue.call(this,h);Array.from(p).forEach((function(t){ae(t,e.config.classNames.hidden,!1),ae(t,e.config.classNames.tooltip,!0)}))}}};function We(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e;if(t){var i=document.createElement("a");i.href=n,n=i.href}try{return new URL(n)}catch(e){return null}}function qe(e){var t=new URLSearchParams;return R(e)&&Object.entries(e).forEach((function(e){var n=o(e,2);t.set(n[0],n[1])})),t}var Ye={setup:function(){if(this.supported.ui)if(!this.isVideo||this.isYouTube||this.isHTML5&&!me.textTracks)$(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&Ke.setCaptionsMenu.call(this);else{if(U(this.elements.captions)||(this.elements.captions=ee("div",se(this.config.selectors.captions)),function(e,t){U(e)&&U(t)&&t.parentNode.insertBefore(e,t.nextSibling)}(this.elements.captions,this.elements.wrapper)),G.isIE&&window.URL){var e=this.media.querySelectorAll("track");Array.from(e).forEach((function(e){var t=e.getAttribute("src"),n=We(t);null!==n&&n.hostname!==window.location.href.hostname&&["http:","https:"].includes(n.protocol)&&De(t,"blob").then((function(t){e.setAttribute("src",window.URL.createObjectURL(t))})).catch((function(){ne(e)}))}))}var t=xe((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map((function(e){return e.split("-")[0]}))),n=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();"auto"===n&&(n=o(t,1)[0]);var i=this.storage.get("captions");L(i)||(i=this.config.captions.active),Object.assign(this.captions,{toggled:!1,active:i,language:n,languages:t}),this.isHTML5&&be.call(this,this.media.textTracks,this.config.captions.update?"addtrack removetrack":"removetrack",Ye.update.bind(this)),setTimeout(Ye.update.bind(this),0)}},update:function(){var e=this,t=Ye.getTracks.call(this,!0),n=this.captions,i=n.active,r=n.language,s=n.meta,o=n.currentTrackNode,a=Boolean(t.find((function(e){return e.language===r})));this.isHTML5&&this.isVideo&&t.filter((function(e){return!s.get(e)})).forEach((function(t){e.debug.log("Track added",t),s.set(t,{default:"showing"===t.mode}),t.mode="hidden",be.call(e,t,"cuechange",(function(){return Ye.updateCues.call(e)}))})),(a&&this.language!==r||!t.includes(o))&&(Ye.setLanguage.call(this,r),Ye.toggle.call(this,i&&a)),ae(this.elements.container,this.config.classNames.captions.enabled,!q(t)),(this.config.controls||[]).includes("settings")&&this.config.settings.includes("captions")&&Ke.setCaptionsMenu.call(this)},toggle:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.supported.ui){var n=this.captions.toggled,i=this.config.classNames.captions.active,r=j(e)?!n:e;if(r!==n){if(t||(this.captions.active=r,this.storage.set({captions:r})),!this.language&&r&&!t){var s=Ye.getTracks.call(this),o=Ye.findTrack.call(this,[this.captions.language].concat(a(this.captions.languages)),!0);return this.captions.language=o.language,void Ye.set.call(this,s.indexOf(o))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=r),ae(this.elements.container,i,r),this.captions.toggled=r,Ke.updateSetting.call(this,"captions"),Ee.call(this,this.media,r?"captionsenabled":"captionsdisabled")}}},set:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Ye.getTracks.call(this);if(-1!==e)if(N(e))if(e in n){if(this.captions.currentTrack!==e){this.captions.currentTrack=e;var i=n[e],r=i||{},s=r.language;this.captions.currentTrackNode=i,Ke.updateSetting.call(this,"captions"),t||(this.captions.language=s,this.storage.set({language:s})),this.isVimeo&&this.embed.enableTextTrack(s),Ee.call(this,this.media,"languagechange")}Ye.toggle.call(this,!0,t),this.isHTML5&&this.isVideo&&Ye.updateCues.call(this)}else this.debug.warn("Track not found",e);else this.debug.warn("Invalid caption argument",e);else Ye.toggle.call(this,!1,t)},setLanguage:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(V(e)){var n=e.toLowerCase();this.captions.language=n;var i=Ye.getTracks.call(this),r=Ye.findTrack.call(this,[n]);Ye.set.call(this,i.indexOf(r),t)}else this.debug.warn("Invalid language argument",e)},getTracks:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=Array.from((this.media||{}).textTracks||[]);return n.filter((function(n){return!e.isHTML5||t||e.captions.meta.has(n)})).filter((function(e){return["captions","subtitles"].includes(e.kind)}))},findTrack:function(e){var t,n=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=Ye.getTracks.call(this),s=function(e){return Number((n.captions.meta.get(e)||{}).default)},o=Array.from(r).sort((function(e,t){return s(t)-s(e)}));return e.every((function(e){return!(t=o.find((function(t){return t.language===e})))})),t||(i?o[0]:void 0)},getCurrentTrack:function(){return Ye.getTracks.call(this)[this.currentTrack]},getLabel:function(e){var t=e;return!K(t)&&me.textTracks&&this.captions.toggled&&(t=Ye.getCurrentTrack.call(this)),K(t)?q(t.label)?q(t.language)?Ve("enabled",this.config):e.language.toUpperCase():t.label:Ve("disabled",this.config)},updateCues:function(e){if(this.supported.ui)if(U(this.elements.captions))if(j(e)||Array.isArray(e)){var t=e;if(!t){var n=Ye.getCurrentTrack.call(this);t=Array.from((n||{}).activeCues||[]).map((function(e){return e.getCueAsHTML()})).map(Re)}var i=t.map((function(e){return e.trim()})).join("\n");if(i!==this.elements.captions.innerHTML){ie(this.elements.captions);var r=ee("span",se(this.config.selectors.caption));r.innerHTML=i,this.elements.captions.appendChild(r),Ee.call(this,this.media,"cuechange")}}else this.debug.warn("updateCues: Invalid input",e);else this.debug.warn("No captions element to render to")}},ze={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.5.10/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240],forced:!1,onChange:null},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2,4]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",pip:"PIP",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/v2/video/{0}.json"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption"},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",videoFixedRatio:"plyr__video-wrapper--fixed-ratio",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isIos:"plyr--is-ios",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},tabFocus:"plyr__tab-focus",previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id"}},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:""},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1,sidedock:!1,controls:!1,referrerPolicy:null},youtube:{noCookie:!1,rel:0,showinfo:0,iv_load_policy:3,modestbranding:1}},Ge="picture-in-picture",Ze={html5:"html5",youtube:"youtube",vimeo:"vimeo"},Qe=function(){},Xe=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e(this,t),this.enabled=window.console&&n,this.enabled&&this.log("Debugging enabled")}return n(t,[{key:"log",get:function(){return this.enabled?Function.prototype.bind.call(console.log,console):Qe}},{key:"warn",get:function(){return this.enabled?Function.prototype.bind.call(console.warn,console):Qe}},{key:"error",get:function(){return this.enabled?Function.prototype.bind.call(console.error,console):Qe}}]),t}(),Je=function(){function t(n){var i=this;e(this,t),this.player=n,this.prefix=t.prefix,this.property=t.property,this.scrollPosition={x:0,y:0},this.forceFallback="force"===n.config.fullscreen.fallback,be.call(this.player,document,"ms"===this.prefix?"MSFullscreenChange":"".concat(this.prefix,"fullscreenchange"),(function(){i.onChange()})),be.call(this.player,this.player.elements.container,"dblclick",(function(e){U(i.player.elements.controls)&&i.player.elements.controls.contains(e.target)||i.toggle()})),be.call(this,this.player.elements.container,"keydown",(function(e){return i.trapFocus(e)})),this.update()}return n(t,[{key:"onChange",value:function(){if(this.enabled){var e=this.player.elements.buttons.fullscreen;U(e)&&(e.pressed=this.active),Ee.call(this.player,this.target,this.active?"enterfullscreen":"exitfullscreen",!0)}}},{key:"toggleFallback",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e?this.scrollPosition={x:window.scrollX||0,y:window.scrollY||0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=e?"hidden":"",ae(this.target,this.player.config.classNames.fullscreen.fallback,e),G.isIos){var t=document.head.querySelector('meta[name="viewport"]'),n="viewport-fit=cover";t||(t=document.createElement("meta")).setAttribute("name","viewport");var i=V(t.content)&&t.content.includes(n);e?(this.cleanupViewport=!i,i||(t.content+=",".concat(n))):this.cleanupViewport&&(t.content=t.content.split(",").filter((function(e){return e.trim()!==n})).join(","))}this.onChange()}},{key:"trapFocus",value:function(e){if(!G.isIos&&this.active&&"Tab"===e.key&&9===e.keyCode){var t=document.activeElement,n=ue.call(this.player,"a[href], button:not(:disabled), input:not(:disabled), [tabindex]"),i=o(n,1)[0],r=n[n.length-1];t!==r||e.shiftKey?t===i&&e.shiftKey&&(r.focus(),e.preventDefault()):(i.focus(),e.preventDefault())}}},{key:"update",value:function(){this.player.debug.log(this.enabled?"".concat(this.forceFallback?"Fallback (forced)":t.native?"Native":"Fallback"," fullscreen enabled"):"Fullscreen not supported and fallback disabled"),ae(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.enabled)}},{key:"enter",value:function(){this.enabled&&(G.isIos&&this.player.config.fullscreen.iosNative?this.target.webkitEnterFullscreen():!t.native||this.forceFallback?this.toggleFallback(!0):this.prefix?q(this.prefix)||this.target["".concat(this.prefix,"Request").concat(this.property)]():this.target.requestFullscreen({navigationUI:"hide"}))}},{key:"exit",value:function(){if(this.enabled)if(G.isIos&&this.player.config.fullscreen.iosNative)this.target.webkitExitFullscreen(),this.player.play();else if(!t.native||this.forceFallback)this.toggleFallback(!1);else if(this.prefix){if(!q(this.prefix)){var e="moz"===this.prefix?"Cancel":"Exit";document["".concat(this.prefix).concat(e).concat(this.property)]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document)}},{key:"toggle",value:function(){this.active?this.exit():this.enter()}},{key:"usingNative",get:function(){return t.native&&!this.forceFallback}},{key:"enabled",get:function(){return(t.native||this.player.config.fullscreen.fallback)&&this.player.config.fullscreen.enabled&&this.player.supported.ui&&this.player.isVideo}},{key:"active",get:function(){return!!this.enabled&&(!t.native||this.forceFallback?le(this.target,this.player.config.classNames.fullscreen.fallback):(this.prefix?document["".concat(this.prefix).concat(this.property,"Element")]:document.fullscreenElement)===this.target)}},{key:"target",get:function(){return G.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.container}}],[{key:"native",get:function(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}},{key:"prefix",get:function(){if(D(document.exitFullscreen))return"";var e="";return["webkit","moz","ms"].some((function(t){return!(!D(document["".concat(t,"ExitFullscreen")])&&!D(document["".concat(t,"CancelFullScreen")])||(e=t,0))})),e}},{key:"property",get:function(){return"moz"===this.prefix?"FullScreen":"Fullscreen"}}]),t}();function et(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new Promise((function(n,i){var r=new Image,s=function(){delete r.onload,delete r.onerror,(r.naturalWidth>=t?n:i)(r)};Object.assign(r,{onload:s,onerror:s,src:e})}))}var tt={addStyleHook:function(){ae(this.elements.container,this.config.selectors.container.replace(".",""),!0),ae(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build:function(){var e=this;if(this.listeners.media(),!this.supported.ui)return this.debug.warn("Basic support only for ".concat(this.provider," ").concat(this.type)),void tt.toggleNativeControls.call(this,!0);U(this.elements.controls)||(Ke.inject.call(this),this.listeners.controls()),tt.toggleNativeControls.call(this),this.isHTML5&&Ye.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,Ke.updateVolume.call(this),Ke.timeUpdate.call(this),tt.checkPlaying.call(this),ae(this.elements.container,this.config.classNames.pip.supported,me.pip&&this.isHTML5&&this.isVideo),ae(this.elements.container,this.config.classNames.airplay.supported,me.airplay&&this.isHTML5),ae(this.elements.container,this.config.classNames.isIos,G.isIos),ae(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout((function(){Ee.call(e,e.media,"ready")}),0),tt.setTitle.call(this),this.poster&&tt.setPoster.call(this,this.poster,!1).catch((function(){})),this.config.duration&&Ke.durationUpdate.call(this)},setTitle:function(){var e=Ve("play",this.config);if(V(this.config.title)&&!q(this.config.title)&&(e+=", ".concat(this.config.title)),Array.from(this.elements.buttons.play||[]).forEach((function(t){t.setAttribute("aria-label",e)})),this.isEmbed){var t=de.call(this,"iframe");if(!U(t))return;var n=q(this.config.title)?"video":this.config.title,i=Ve("frameTitle",this.config);t.setAttribute("title",i.replace("{title}",n))}},togglePoster:function(e){ae(this.elements.container,this.config.classNames.posterEnabled,e)},setPoster:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n&&this.poster?Promise.reject(new Error("Poster already set")):(this.media.setAttribute("poster",e),this.isHTML5?Promise.resolve(e):Oe.call(this).then((function(){return et(e)})).catch((function(n){throw e===t.poster&&tt.togglePoster.call(t,!1),n})).then((function(){if(e!==t.poster)throw new Error("setPoster cancelled by later call to setPoster")})).then((function(){return Object.assign(t.elements.poster.style,{backgroundImage:"url('".concat(e,"')"),backgroundSize:""}),tt.togglePoster.call(t,!0),e})))},checkPlaying:function(e){var t=this;ae(this.elements.container,this.config.classNames.playing,this.playing),ae(this.elements.container,this.config.classNames.paused,this.paused),ae(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach((function(e){Object.assign(e,{pressed:t.playing}),e.setAttribute("aria-label",Ve(t.playing?"pause":"play",t.config))})),B(e)&&"timeupdate"===e.type||tt.toggleControls.call(this)},checkLoading:function(e){var t=this;this.loading=["stalled","waiting"].includes(e.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout((function(){ae(t.elements.container,t.config.classNames.loading,t.loading),tt.toggleControls.call(t)}),this.loading?250:0)},toggleControls:function(e){var t=this.elements.controls;if(t&&this.config.hideControls){var n=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(Boolean(e||this.loading||this.paused||t.pressed||t.hover||n))}}},nt=function(){function t(n){e(this,t),this.player=n,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.setTabFocus=this.setTabFocus.bind(this),this.firstTouch=this.firstTouch.bind(this)}return n(t,[{key:"handleKey",value:function(e){var t=this.player,n=t.elements,i=e.keyCode?e.keyCode:e.which,r="keydown"===e.type,s=r&&i===this.lastKey;if(!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)&&N(i))if(r){var o=document.activeElement;if(U(o)){if(o!==n.inputs.seek&&ce(o,t.config.selectors.editable))return;if(32===e.which&&ce(o,'button, [role^="menuitem"]'))return}switch([32,37,38,39,40,48,49,50,51,52,53,54,56,57,67,70,73,75,76,77,79].includes(i)&&(e.preventDefault(),e.stopPropagation()),i){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:s||(t.currentTime=t.duration/10*(i-48));break;case 32:case 75:s||t.togglePlay();break;case 38:t.increaseVolume(.1);break;case 40:t.decreaseVolume(.1);break;case 77:s||(t.muted=!t.muted);break;case 39:t.forward();break;case 37:t.rewind();break;case 70:t.fullscreen.toggle();break;case 67:s||t.toggleCaptions();break;case 76:t.loop=!t.loop}27===i&&!t.fullscreen.usingNative&&t.fullscreen.active&&t.fullscreen.toggle(),this.lastKey=i}else this.lastKey=null}},{key:"toggleMenu",value:function(e){Ke.toggleMenu.call(this.player,e)}},{key:"firstTouch",value:function(){var e=this.player,t=e.elements;e.touch=!0,ae(t.container,e.config.classNames.isTouch,!0)}},{key:"setTabFocus",value:function(e){var t,n=this.player,i=n.elements;clearTimeout(this.focusTimer),("keydown"!==e.type||9===e.which)&&("keydown"===e.type&&(this.lastKeyDown=e.timeStamp),("focus"!==e.type||e.timeStamp-this.lastKeyDown<=20)&&(ae(ue.call(n,".".concat(t=n.config.classNames.tabFocus)),t,!1),this.focusTimer=setTimeout((function(){var e=document.activeElement;i.container.contains(e)&&ae(document.activeElement,n.config.classNames.tabFocus,!0)}),10)))}},{key:"global",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.player;t.config.keyboard.global&&ye.call(t,window,"keydown keyup",this.handleKey,e,!1),ye.call(t,document.body,"click",this.toggleMenu,e),_e.call(t,document.body,"touchstart",this.firstTouch),ye.call(t,document.body,"keydown focus blur",this.setTabFocus,e,!1,!0)}},{key:"container",value:function(){var e=this.player,t=e.config,n=e.elements,i=e.timers;!t.keyboard.global&&t.keyboard.focused&&be.call(e,n.container,"keydown keyup",this.handleKey,!1),be.call(e,n.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",(function(t){var r=n.controls;r&&"enterfullscreen"===t.type&&(r.pressed=!1,r.hover=!1);var s=0;["touchstart","touchmove","mousemove"].includes(t.type)&&(tt.toggleControls.call(e,!0),s=e.touch?3e3:2e3),clearTimeout(i.controls),i.controls=setTimeout((function(){return tt.toggleControls.call(e,!1)}),s)}));var r=function(t){if(!t)return Ce.call(e);var i=n.container.getBoundingClientRect(),r=i.height;return Ce.call(e,"".concat(i.width,":").concat(r))},s=function(){clearTimeout(i.resized),i.resized=setTimeout(r,50)};be.call(e,n.container,"enterfullscreen exitfullscreen",(function(t){var i=e.fullscreen,a=i.usingNative;if(i.target===n.container&&(e.isEmbed||!q(e.config.ratio))){var l="enterfullscreen"===t.type;!function(t,n,i){if(e.isVimeo){var r=e.elements.wrapper.firstChild,s=o(t,2)[1],a=o(Te.call(e),2);r.style.maxWidth=i?"".concat(s/a[1]*a[0],"px"):null,r.style.margin=i?"0 auto":null}}(r(l).ratio,0,l),a||(l?be.call(e,window,"resize",s):ve.call(e,window,"resize",s))}}))}},{key:"media",value:function(){var e=this,t=this.player,n=t.elements;if(be.call(t,t.media,"timeupdate seeking seeked",(function(e){return Ke.timeUpdate.call(t,e)})),be.call(t,t.media,"durationchange loadeddata loadedmetadata",(function(e){return Ke.durationUpdate.call(t,e)})),be.call(t,t.media,"ended",(function(){t.isHTML5&&t.isVideo&&t.config.resetOnEnd&&(t.restart(),t.pause())})),be.call(t,t.media,"progress playing seeking seeked",(function(e){return Ke.updateProgress.call(t,e)})),be.call(t,t.media,"volumechange",(function(e){return Ke.updateVolume.call(t,e)})),be.call(t,t.media,"playing play pause ended emptied timeupdate",(function(e){return tt.checkPlaying.call(t,e)})),be.call(t,t.media,"waiting canplay seeked playing",(function(e){return tt.checkLoading.call(t,e)})),t.supported.ui&&t.config.clickToPlay&&!t.isAudio){var i=de.call(t,".".concat(t.config.classNames.video));if(!U(i))return;be.call(t,n.container,"click",(function(r){([n.container,i].includes(r.target)||i.contains(r.target))&&(t.touch&&t.config.hideControls||(t.ended?(e.proxy(r,t.restart,"restart"),e.proxy(r,t.play,"play")):e.proxy(r,t.togglePlay,"play")))}))}t.supported.ui&&t.config.disableContextMenu&&be.call(t,n.wrapper,"contextmenu",(function(e){e.preventDefault()}),!1),be.call(t,t.media,"volumechange",(function(){t.storage.set({volume:t.volume,muted:t.muted})})),be.call(t,t.media,"ratechange",(function(){Ke.updateSetting.call(t,"speed"),t.storage.set({speed:t.speed})})),be.call(t,t.media,"qualitychange",(function(e){Ke.updateSetting.call(t,"quality",null,e.detail.quality)})),be.call(t,t.media,"ready qualitychange",(function(){Ke.setDownloadUrl.call(t)}));var r=t.config.events.concat(["keyup","keydown"]).join(" ");be.call(t,t.media,r,(function(e){var i=e.detail,r=void 0===i?{}:i;"error"===e.type&&(r=t.media.error),Ee.call(t,n.container,e.type,!0,r)}))}},{key:"proxy",value:function(e,t,n){var i=this.player,r=i.config.listeners[n],s=!0;D(r)&&(s=r.call(i,e)),!1!==s&&D(t)&&t.call(i,e)}},{key:"bind",value:function(e,t,n,i){var r=this,s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=this.player,a=o.config.listeners[i],l=D(a);be.call(o,e,t,(function(e){return r.proxy(e,n,i)}),s&&!l)}},{key:"controls",value:function(){var e=this,t=this.player,n=t.elements,i=G.isIE?"change":"input";if(n.buttons.play&&Array.from(n.buttons.play).forEach((function(n){e.bind(n,"click",t.togglePlay,"play")})),this.bind(n.buttons.restart,"click",t.restart,"restart"),this.bind(n.buttons.rewind,"click",t.rewind,"rewind"),this.bind(n.buttons.fastForward,"click",t.forward,"fastForward"),this.bind(n.buttons.mute,"click",(function(){t.muted=!t.muted}),"mute"),this.bind(n.buttons.captions,"click",(function(){return t.toggleCaptions()})),this.bind(n.buttons.download,"click",(function(){Ee.call(t,t.media,"download")}),"download"),this.bind(n.buttons.fullscreen,"click",(function(){t.fullscreen.toggle()}),"fullscreen"),this.bind(n.buttons.pip,"click",(function(){t.pip="toggle"}),"pip"),this.bind(n.buttons.airplay,"click",t.airplay,"airplay"),this.bind(n.buttons.settings,"click",(function(e){e.stopPropagation(),e.preventDefault(),Ke.toggleMenu.call(t,e)}),null,!1),this.bind(n.buttons.settings,"keyup",(function(e){var n=e.which;[13,32].includes(n)&&(13!==n?(e.preventDefault(),e.stopPropagation(),Ke.toggleMenu.call(t,e)):Ke.focusFirstMenuItem.call(t,null,!0))}),null,!1),this.bind(n.settings.menu,"keydown",(function(e){27===e.which&&Ke.toggleMenu.call(t,e)})),this.bind(n.inputs.seek,"mousedown mousemove",(function(e){var t=n.progress.getBoundingClientRect();e.currentTarget.setAttribute("seek-value",100/t.width*(e.pageX-t.left))})),this.bind(n.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",(function(e){var n=e.currentTarget,i=e.keyCode?e.keyCode:e.which;if(!H(e)||39===i||37===i){t.lastSeekTime=Date.now();var r=n.hasAttribute("play-on-seeked"),s=["mouseup","touchend","keyup"].includes(e.type);r&&s?(n.removeAttribute("play-on-seeked"),t.play()):!s&&t.playing&&(n.setAttribute("play-on-seeked",""),t.pause())}})),G.isIos){var r=ue.call(t,'input[type="range"]');Array.from(r).forEach((function(t){return e.bind(t,i,(function(e){return z(e.target)}))}))}this.bind(n.inputs.seek,i,(function(e){var n=e.currentTarget,i=n.getAttribute("seek-value");q(i)&&(i=n.value),n.removeAttribute("seek-value"),t.currentTime=i/n.max*t.duration}),"seek"),this.bind(n.progress,"mouseenter mouseleave mousemove",(function(e){return Ke.updateSeekTooltip.call(t,e)})),this.bind(n.progress,"mousemove touchmove",(function(e){var n=t.previewThumbnails;n&&n.loaded&&n.startMove(e)})),this.bind(n.progress,"mouseleave touchend click",(function(){var e=t.previewThumbnails;e&&e.loaded&&e.endMove(!1,!0)})),this.bind(n.progress,"mousedown touchstart",(function(e){var n=t.previewThumbnails;n&&n.loaded&&n.startScrubbing(e)})),this.bind(n.progress,"mouseup touchend",(function(e){var n=t.previewThumbnails;n&&n.loaded&&n.endScrubbing(e)})),G.isWebkit&&Array.from(ue.call(t,'input[type="range"]')).forEach((function(n){e.bind(n,"input",(function(e){return Ke.updateRangeFill.call(t,e.target)}))})),t.config.toggleInvert&&!U(n.display.duration)&&this.bind(n.display.currentTime,"click",(function(){0!==t.currentTime&&(t.config.invertTime=!t.config.invertTime,Ke.timeUpdate.call(t))})),this.bind(n.inputs.volume,i,(function(e){t.volume=e.target.value}),"volume"),this.bind(n.controls,"mouseenter mouseleave",(function(e){n.controls.hover=!t.touch&&"mouseenter"===e.type})),this.bind(n.controls,"mousedown mouseup touchstart touchend touchcancel",(function(e){n.controls.pressed=["mousedown","touchstart"].includes(e.type)})),this.bind(n.controls,"focusin",(function(){var i=t.config,r=t.timers;ae(n.controls,i.classNames.noTransition,!0),tt.toggleControls.call(t,!0),setTimeout((function(){ae(n.controls,i.classNames.noTransition,!1)}),0);var s=e.touch?3e3:4e3;clearTimeout(r.controls),r.controls=setTimeout((function(){return tt.toggleControls.call(t,!1)}),s)})),this.bind(n.inputs.volume,"wheel",(function(e){var n=e.webkitDirectionInvertedFromDevice,i=o([e.deltaX,-e.deltaY].map((function(e){return n?-e:e})),2),r=i[0],s=i[1],a=Math.sign(Math.abs(r)>Math.abs(s)?r:s);t.increaseVolume(a/50);var l=t.media.volume;(1===a&&l<1||-1===a&&l>0)&&e.preventDefault()}),"volume",!1)}}]),t}();"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var it=function(e,t){return function(e,t){e.exports=function(){var e=function(){},t={},n={},i={};function r(e,t){if(e){var r=i[e];if(n[e]=t,r)for(;r.length;)r[0](e,t),r.splice(0,1)}}function s(t,n){t.call&&(t={success:t}),n.length?(t.error||e)(n):(t.success||e)(t)}function o(t,n,i,r){var s,a,l=document,c=i.async,u=(i.numRetries||0)+1,d=i.before||e,h=t.replace(/[\?|#].*$/,""),p=t.replace(/^(css|img)!/,"");r=r||0,/(^css!|\.css$)/.test(h)?((a=l.createElement("link")).rel="stylesheet",a.href=p,(s="hideFocus"in a)&&a.relList&&(s=0,a.rel="preload",a.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(h)?(a=l.createElement("img")).src=p:((a=l.createElement("script")).src=t,a.async=void 0===c||c),a.onload=a.onerror=a.onbeforeload=function(e){var l=e.type[0];if(s)try{a.sheet.cssText.length||(l="e")}catch(e){18!=e.code&&(l="e")}if("e"==l){if((r+=1)<u)return o(t,n,i,r)}else if("preload"==a.rel&&"style"==a.as)return a.rel="stylesheet";n(t,l,e.defaultPrevented)},!1!==d(t,a)&&l.head.appendChild(a)}function a(e,n,i){var a,l;if(n&&n.trim&&(a=n),l=(a?i:n)||{},a){if(a in t)throw"LoadJS";t[a]=!0}function c(t,n){!function(e,t,n){var i,r,s=(e=e.push?e:[e]).length,a=s,l=[];for(i=function(e,n,i){if("e"==n&&l.push(e),"b"==n){if(!i)return;l.push(e)}--s||t(l)},r=0;r<a;r++)o(e[r],i,n)}(e,(function(e){s(l,e),t&&s({success:t,error:n},e),r(a,e)}),l)}if(l.returnPromise)return new Promise(c);c()}return a.ready=function(e,t){return function(e,t){var r,s,o,a=[],l=(e=e.push?e:[e]).length,c=l;for(r=function(e,n){n.length&&a.push(e),--c||t(a)};l--;)(o=n[s=e[l]])?r(s,o):(i[s]=i[s]||[]).push(r)}(e,(function(e){s(t,e)})),a},a.done=function(e){r(e,[])},a.reset=function(){t={},n={},i={}},a.isDefined=function(e){return e in t},a}()}(t={exports:{}}),t.exports}();function rt(e){return new Promise((function(t,n){it(e,{success:t,error:n})}))}function st(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,Ee.call(this,this.media,e?"play":"pause"))}var ot={setup:function(){var e=this;ae(e.elements.wrapper,e.config.classNames.embed,!0),e.options.speed=e.config.speed.options,Ce.call(e),R(window.Vimeo)?ot.ready.call(e):rt(e.config.urls.vimeo.sdk).then((function(){ot.ready.call(e)})).catch((function(t){e.debug.warn("Vimeo SDK (player.js) failed to load",t)}))},ready:function(){var e=this,t=this,n=t.config.vimeo,i=qe(Q({},{loop:t.config.loop.active,autoplay:t.autoplay,muted:t.muted,gesture:"media",playsinline:!this.config.fullscreen.iosNative},n)),r=t.media.getAttribute("src");q(r)&&(r=t.media.getAttribute(t.config.attributes.embed.id));var s,a=q(s=r)?null:N(Number(s))?s:s.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:s,l=ee("iframe"),c=Se(t.config.urls.vimeo.iframe,a,i);l.setAttribute("src",c),l.setAttribute("allowfullscreen",""),l.setAttribute("allowtransparency",""),l.setAttribute("allow","autoplay"),q(n.referrerPolicy)||l.setAttribute("referrerPolicy",n.referrerPolicy);var u=ee("div",{poster:t.poster,class:t.config.classNames.embedContainer});u.appendChild(l),t.media=re(u,t.media),De(Se(t.config.urls.vimeo.api,a),"json").then((function(e){if(!q(e)){var n=new URL(e[0].thumbnail_large);n.pathname="".concat(n.pathname.split("_")[0],".jpg"),tt.setPoster.call(t,n.href).catch((function(){}))}})),t.embed=new window.Vimeo.Player(l,{autopause:t.config.autopause,muted:t.muted}),t.media.paused=!0,t.media.currentTime=0,t.supported.ui&&t.embed.disableTextTrack(),t.media.play=function(){return st.call(t,!0),t.embed.play()},t.media.pause=function(){return st.call(t,!1),t.embed.pause()},t.media.stop=function(){t.pause(),t.currentTime=0};var d=t.media.currentTime;Object.defineProperty(t.media,"currentTime",{get:function(){return d},set:function(e){var n=t.embed,i=t.media,r=t.volume,s=t.paused&&!n.hasPlayed;i.seeking=!0,Ee.call(t,i,"seeking"),Promise.resolve(s&&n.setVolume(0)).then((function(){return n.setCurrentTime(e)})).then((function(){return s&&n.pause()})).then((function(){return s&&n.setVolume(r)})).catch((function(){}))}});var h=t.config.speed.selected;Object.defineProperty(t.media,"playbackRate",{get:function(){return h},set:function(e){t.embed.setPlaybackRate(e).then((function(){h=e,Ee.call(t,t.media,"ratechange")}))}});var p=t.config.volume;Object.defineProperty(t.media,"volume",{get:function(){return p},set:function(e){t.embed.setVolume(e).then((function(){p=e,Ee.call(t,t.media,"volumechange")}))}});var f=t.config.muted;Object.defineProperty(t.media,"muted",{get:function(){return f},set:function(e){var n=!!L(e)&&e;t.embed.setVolume(n?0:t.config.volume).then((function(){f=n,Ee.call(t,t.media,"volumechange")}))}});var m,g=t.config.loop;Object.defineProperty(t.media,"loop",{get:function(){return g},set:function(e){var n=L(e)?e:t.config.loop.active;t.embed.setLoop(n).then((function(){g=n}))}}),t.embed.getVideoUrl().then((function(e){m=e,Ke.setDownloadUrl.call(t)})).catch((function(t){e.debug.warn(t)})),Object.defineProperty(t.media,"currentSrc",{get:function(){return m}}),Object.defineProperty(t.media,"ended",{get:function(){return t.currentTime===t.duration}}),Promise.all([t.embed.getVideoWidth(),t.embed.getVideoHeight()]).then((function(n){var i=o(n,2);t.embed.ratio=[i[0],i[1]],Ce.call(e)})),t.embed.setAutopause(t.config.autopause).then((function(e){t.config.autopause=e})),t.embed.getVideoTitle().then((function(n){t.config.title=n,tt.setTitle.call(e)})),t.embed.getCurrentTime().then((function(e){d=e,Ee.call(t,t.media,"timeupdate")})),t.embed.getDuration().then((function(e){t.media.duration=e,Ee.call(t,t.media,"durationchange")})),t.embed.getTextTracks().then((function(e){t.media.textTracks=e,Ye.setup.call(t)})),t.embed.on("cuechange",(function(e){var n=e.cues,i=(void 0===n?[]:n).map((function(e){return function(e){var t=document.createDocumentFragment(),n=document.createElement("div");return t.appendChild(n),n.innerHTML=e,t.firstChild.innerText}(e.text)}));Ye.updateCues.call(t,i)})),t.embed.on("loaded",(function(){t.embed.getPaused().then((function(e){st.call(t,!e),e||Ee.call(t,t.media,"playing")})),U(t.embed.element)&&t.supported.ui&&t.embed.element.setAttribute("tabindex",-1)})),t.embed.on("bufferstart",(function(){Ee.call(t,t.media,"waiting")})),t.embed.on("bufferend",(function(){Ee.call(t,t.media,"playing")})),t.embed.on("play",(function(){st.call(t,!0),Ee.call(t,t.media,"playing")})),t.embed.on("pause",(function(){st.call(t,!1)})),t.embed.on("timeupdate",(function(e){t.media.seeking=!1,d=e.seconds,Ee.call(t,t.media,"timeupdate")})),t.embed.on("progress",(function(e){t.media.buffered=e.percent,Ee.call(t,t.media,"progress"),1===parseInt(e.percent,10)&&Ee.call(t,t.media,"canplaythrough"),t.embed.getDuration().then((function(e){e!==t.media.duration&&(t.media.duration=e,Ee.call(t,t.media,"durationchange"))}))})),t.embed.on("seeked",(function(){t.media.seeking=!1,Ee.call(t,t.media,"seeked")})),t.embed.on("ended",(function(){t.media.paused=!0,Ee.call(t,t.media,"ended")})),t.embed.on("error",(function(e){t.media.error=e,Ee.call(t,t.media,"error")})),setTimeout((function(){return tt.build.call(t)}),0)}};function at(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,Ee.call(this,this.media,e?"play":"pause"))}function lt(e){return e.noCookie?"https://www.youtube-nocookie.com":"http:"===window.location.protocol?"http://www.youtube.com":void 0}var ct={setup:function(){var e=this;if(ae(this.elements.wrapper,this.config.classNames.embed,!0),R(window.YT)&&D(window.YT.Player))ct.ready.call(this);else{var t=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){D(t)&&t(),ct.ready.call(e)},rt(this.config.urls.youtube.sdk).catch((function(t){e.debug.warn("YouTube API failed to load",t)}))}},getTitle:function(e){var t=this;De(Se(this.config.urls.youtube.api,e)).then((function(e){if(R(e)){var n=e.height,i=e.width;t.config.title=e.title,tt.setTitle.call(t),t.embed.ratio=[i,n]}Ce.call(t)})).catch((function(){Ce.call(t)}))},ready:function(){var e=this,t=e.media&&e.media.getAttribute("id");if(q(t)||!t.startsWith("youtube-")){var n=e.media.getAttribute("src");q(n)&&(n=e.media.getAttribute(this.config.attributes.embed.id));var i,r=q(i=n)?null:i.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:i,s="".concat(e.provider,"-").concat(Math.floor(1e4*Math.random())),o=ee("div",{id:s,poster:e.poster});e.media=re(o,e.media);var a=function(e){return"https://i.ytimg.com/vi/".concat(r,"/").concat(e,"default.jpg")};et(a("maxres"),121).catch((function(){return et(a("sd"),121)})).catch((function(){return et(a("hq"))})).then((function(t){return tt.setPoster.call(e,t.src)})).then((function(t){t.includes("maxres")||(e.elements.poster.style.backgroundSize="cover")})).catch((function(){}));var l=e.config.youtube;e.embed=new window.YT.Player(s,{videoId:r,host:lt(l),playerVars:Q({},{autoplay:e.config.autoplay?1:0,hl:e.config.hl,controls:e.supported.ui?0:1,disablekb:1,playsinline:e.config.fullscreen.iosNative?0:1,cc_load_policy:e.captions.active?1:0,cc_lang_pref:e.config.captions.language,widget_referrer:window?window.location.href:null},l),events:{onError:function(t){if(!e.media.error){var n=t.data;e.media.error={code:n,message:{2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[n]||"An unknown error occured"},Ee.call(e,e.media,"error")}},onPlaybackRateChange:function(t){e.media.playbackRate=t.target.getPlaybackRate(),Ee.call(e,e.media,"ratechange")},onReady:function(t){if(!D(e.media.play)){var n=t.target;ct.getTitle.call(e,r),e.media.play=function(){at.call(e,!0),n.playVideo()},e.media.pause=function(){at.call(e,!1),n.pauseVideo()},e.media.stop=function(){n.stopVideo()},e.media.duration=n.getDuration(),e.media.paused=!0,e.media.currentTime=0,Object.defineProperty(e.media,"currentTime",{get:function(){return Number(n.getCurrentTime())},set:function(t){e.paused&&!e.embed.hasPlayed&&e.embed.mute(),e.media.seeking=!0,Ee.call(e,e.media,"seeking"),n.seekTo(t)}}),Object.defineProperty(e.media,"playbackRate",{get:function(){return n.getPlaybackRate()},set:function(e){n.setPlaybackRate(e)}});var i=e.config.volume;Object.defineProperty(e.media,"volume",{get:function(){return i},set:function(t){n.setVolume(100*(i=t)),Ee.call(e,e.media,"volumechange")}});var s=e.config.muted;Object.defineProperty(e.media,"muted",{get:function(){return s},set:function(t){var i=L(t)?t:s;s=i,n[i?"mute":"unMute"](),Ee.call(e,e.media,"volumechange")}}),Object.defineProperty(e.media,"currentSrc",{get:function(){return n.getVideoUrl()}}),Object.defineProperty(e.media,"ended",{get:function(){return e.currentTime===e.duration}});var o=n.getAvailablePlaybackRates();e.options.speed=o.filter((function(t){return e.config.speed.options.includes(t)})),e.supported.ui&&e.media.setAttribute("tabindex",-1),Ee.call(e,e.media,"timeupdate"),Ee.call(e,e.media,"durationchange"),clearInterval(e.timers.buffering),e.timers.buffering=setInterval((function(){e.media.buffered=n.getVideoLoadedFraction(),(null===e.media.lastBuffered||e.media.lastBuffered<e.media.buffered)&&Ee.call(e,e.media,"progress"),e.media.lastBuffered=e.media.buffered,1===e.media.buffered&&(clearInterval(e.timers.buffering),Ee.call(e,e.media,"canplaythrough"))}),200),setTimeout((function(){return tt.build.call(e)}),50)}},onStateChange:function(t){var n=t.target;switch(clearInterval(e.timers.playing),e.media.seeking&&[1,2].includes(t.data)&&(e.media.seeking=!1,Ee.call(e,e.media,"seeked")),t.data){case-1:Ee.call(e,e.media,"timeupdate"),e.media.buffered=n.getVideoLoadedFraction(),Ee.call(e,e.media,"progress");break;case 0:at.call(e,!1),e.media.loop?(n.stopVideo(),n.playVideo()):Ee.call(e,e.media,"ended");break;case 1:e.config.autoplay||!e.media.paused||e.embed.hasPlayed?(at.call(e,!0),Ee.call(e,e.media,"playing"),e.timers.playing=setInterval((function(){Ee.call(e,e.media,"timeupdate")}),50),e.media.duration!==n.getDuration()&&(e.media.duration=n.getDuration(),Ee.call(e,e.media,"durationchange"))):e.media.pause();break;case 2:e.muted||e.embed.unMute(),at.call(e,!1);break;case 3:Ee.call(e,e.media,"waiting")}Ee.call(e,e.elements.container,"statechange",!1,{code:t.data})}}})}}},ut={setup:function(){this.media?(ae(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),ae(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&ae(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=ee("div",{class:this.config.classNames.video}),X(this.media,this.elements.wrapper),this.isEmbed&&(this.elements.poster=ee("div",{class:this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster))),this.isHTML5?ke.setup.call(this):this.isYouTube?ct.setup.call(this):this.isVimeo&&ot.setup.call(this)):this.debug.warn("No media element found!")}},dt=function(){function t(n){var i=this;e(this,t),this.player=n,this.config=n.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise((function(e,t){i.on("loaded",e),i.on("error",t)})),this.load()}return n(t,[{key:"load",value:function(){var e=this;this.enabled&&(R(window.google)&&R(window.google.ima)?this.ready():rt(this.player.config.urls.googleIMA.sdk).then((function(){e.ready()})).catch((function(){e.trigger("error",new Error("Google IMA SDK failed to load"))})))}},{key:"ready",value:function(){var e,t=this;this.enabled||((e=this).manager&&e.manager.destroy(),e.elements.displayContainer&&e.elements.displayContainer.destroy(),e.elements.container.remove()),this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then((function(){t.clearSafetyTimer("onAdsManagerLoaded()")})),this.listeners(),this.setupIMA()}},{key:"setupIMA",value:function(){this.elements.container=ee("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playsinline),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container,this.player.media),this.requestAds()}},{key:"requestAds",value:function(){var e=this,t=this.player.elements.container;try{this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,(function(t){return e.onAdsManagerLoaded(t)}),!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,(function(t){return e.onAdError(t)}),!1);var n=new google.ima.AdsRequest;n.adTagUrl=this.tagUrl,n.linearAdSlotWidth=t.offsetWidth,n.linearAdSlotHeight=t.offsetHeight,n.nonLinearAdSlotWidth=t.offsetWidth,n.nonLinearAdSlotHeight=t.offsetHeight,n.forceNonLinearFullSlot=!1,n.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(n)}catch(e){this.onAdError(e)}}},{key:"pollCountdown",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!t)return clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text");var n=function(){var t=He(Math.max(e.manager.getRemainingTime(),0)),n="".concat(Ve("advertisement",e.player.config)," - ").concat(t);e.elements.container.setAttribute("data-badge-text",n)};this.countdownTimer=setInterval(n,100)}},{key:"onAdsManagerLoaded",value:function(e){var t=this;if(this.enabled){var n=new google.ima.AdsRenderingSettings;n.restoreCustomPlaybackStateOnAdBreakComplete=!0,n.enablePreloading=!0,this.manager=e.getAdsManager(this.player,n),this.cuePoints=this.manager.getCuePoints(),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,(function(e){return t.onAdError(e)})),Object.keys(google.ima.AdEvent.Type).forEach((function(e){t.manager.addEventListener(google.ima.AdEvent.Type[e],(function(e){return t.onAdEvent(e)}))})),this.trigger("loaded")}}},{key:"addCuePoints",value:function(){var e=this;q(this.cuePoints)||this.cuePoints.forEach((function(t){if(0!==t&&-1!==t&&t<e.player.duration){var n=e.player.elements.progress;if(U(n)){var i=100/e.player.duration*t,r=ee("span",{class:e.player.config.classNames.cues});r.style.left="".concat(i.toString(),"%"),n.appendChild(r)}}}))}},{key:"onAdEvent",value:function(e){var t=this,n=this.player.elements.container,i=e.getAd(),r=e.getAdData();switch(function(e){Ee.call(t.player,t.player.media,"ads".concat(e.replace(/_/g,"").toLowerCase()))}(e.type),e.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),this.pollCountdown(!0),i.isLinear()||(i.width=n.offsetWidth,i.height=n.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:this.manager.setVolume(this.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.loadAds();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.LOG:r.adError&&this.player.debug.warn("Non-fatal ad error: ".concat(r.adError.getMessage()))}}},{key:"onAdError",value:function(e){this.cancel(),this.player.debug.warn("Ads error",e)}},{key:"listeners",value:function(){var e,t=this,n=this.player.elements.container;this.player.on("canplay",(function(){t.addCuePoints()})),this.player.on("ended",(function(){t.loader.contentComplete()})),this.player.on("timeupdate",(function(){e=t.player.currentTime})),this.player.on("seeked",(function(){var n=t.player.currentTime;q(t.cuePoints)||t.cuePoints.forEach((function(i,r){e<i&&i<n&&(t.manager.discardAdBreak(),t.cuePoints.splice(r,1))}))})),window.addEventListener("resize",(function(){t.manager&&t.manager.resize(n.offsetWidth,n.offsetHeight,google.ima.ViewMode.NORMAL)}))}},{key:"play",value:function(){var e=this,t=this.player.elements.container;this.managerPromise||this.resumeContent(),this.managerPromise.then((function(){e.manager.setVolume(e.player.volume),e.elements.displayContainer.initialize();try{e.initialized||(e.manager.init(t.offsetWidth,t.offsetHeight,google.ima.ViewMode.NORMAL),e.manager.start()),e.initialized=!0}catch(t){e.onAdError(t)}})).catch((function(){}))}},{key:"resumeContent",value:function(){this.elements.container.style.zIndex="",this.playing=!1,this.player.media.play()}},{key:"pauseContent",value:function(){this.elements.container.style.zIndex=3,this.playing=!0,this.player.media.pause()}},{key:"cancel",value:function(){this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()}},{key:"loadAds",value:function(){var e=this;this.managerPromise.then((function(){e.manager&&e.manager.destroy(),e.managerPromise=new Promise((function(t){e.on("loaded",t),e.player.debug.log(e.manager)})),e.requestAds()})).catch((function(){}))}},{key:"trigger",value:function(e){for(var t=this,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var s=this.events[e];$(s)&&s.forEach((function(e){D(e)&&e.apply(t,i)}))}},{key:"on",value:function(e,t){return $(this.events[e])||(this.events[e]=[]),this.events[e].push(t),this}},{key:"startSafetyTimer",value:function(e,t){var n=this;this.player.debug.log("Safety timer invoked from: ".concat(t)),this.safetyTimer=setTimeout((function(){n.cancel(),n.clearSafetyTimer("startSafetyTimer()")}),e)}},{key:"clearSafetyTimer",value:function(e){j(this.safetyTimer)||(this.player.debug.log("Safety timer cleared from: ".concat(e)),clearTimeout(this.safetyTimer),this.safetyTimer=null)}},{key:"enabled",get:function(){var e=this.config;return this.player.isHTML5&&this.player.isVideo&&e.enabled&&(!q(e.publisherId)||W(e.tagUrl))}},{key:"tagUrl",get:function(){var e=this.config;if(W(e.tagUrl))return e.tagUrl;var t={AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:e.publisherId};return"".concat("https://go.aniview.com/api/adserver6/vast/","?").concat(qe(t))}}]),t}(),ht=function(e,t){var n={};return e>t.width/t.height?(n.width=t.width,n.height=1/e*t.width):(n.height=t.height,n.width=e*t.height),n},pt=function(){function t(n){e(this,t),this.player=n,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}return n(t,[{key:"load",value:function(){var e=this;this.player.elements.display.seekTooltip&&(this.player.elements.display.seekTooltip.hidden=this.enabled),this.enabled&&this.getThumbnails().then((function(){e.enabled&&(e.render(),e.determineContainerAutoSizing(),e.loaded=!0)}))}},{key:"getThumbnails",value:function(){var e=this;return new Promise((function(t){var n=e.player.config.previewThumbnails.src;if(q(n))throw new Error("Missing previewThumbnails.src config attribute");var i=(V(n)?[n]:n).map((function(t){return e.getThumbnail(t)}));Promise.all(i).then((function(){e.thumbnails.sort((function(e,t){return e.height-t.height})),e.player.debug.log("Preview thumbnails",e.thumbnails),t()}))}))}},{key:"getThumbnail",value:function(e){var t=this;return new Promise((function(n){De(e).then((function(i){var r,s,a={frames:(r=i,s=[],r.split(/\r\n\r\n|\n\n|\r\r/).forEach((function(e){var t={};e.split(/\r\n|\n|\r/).forEach((function(e){if(N(t.startTime)){if(!q(e.trim())&&q(t.text)){var n=e.trim().split("#xywh="),i=o(n,1);if(t.text=i[0],n[1]){var r=o(n[1].split(","),4);t.x=r[0],t.y=r[1],t.w=r[2],t.h=r[3]}}}else{var s=e.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/);s&&(t.startTime=60*Number(s[1]||0)*60+60*Number(s[2])+Number(s[3])+Number("0.".concat(s[4])),t.endTime=60*Number(s[6]||0)*60+60*Number(s[7])+Number(s[8])+Number("0.".concat(s[9])))}})),t.text&&s.push(t)})),s),height:null,urlPrefix:""};a.frames[0].text.startsWith("/")||a.frames[0].text.startsWith("http://")||a.frames[0].text.startsWith("https://")||(a.urlPrefix=e.substring(0,e.lastIndexOf("/")+1));var l=new Image;l.onload=function(){a.height=l.naturalHeight,a.width=l.naturalWidth,t.thumbnails.push(a),n()},l.src=a.urlPrefix+a.frames[0].text}))}))}},{key:"startMove",value:function(e){if(this.loaded&&B(e)&&["touchmove","mousemove"].includes(e.type)&&this.player.media.duration){if("touchmove"===e.type)this.seekTime=this.player.media.duration*(this.player.elements.inputs.seek.value/100);else{var t=this.player.elements.progress.getBoundingClientRect();this.seekTime=this.player.media.duration*(100/t.width*(e.pageX-t.left)/100),this.seekTime<0&&(this.seekTime=0),this.seekTime>this.player.media.duration-1&&(this.seekTime=this.player.media.duration-1),this.mousePosX=e.pageX,this.elements.thumb.time.innerText=He(this.seekTime)}this.showImageAtCurrentTime()}}},{key:"endMove",value:function(){this.toggleThumbContainer(!1,!0)}},{key:"startScrubbing",value:function(e){(j(e.button)||!1===e.button||0===e.button)&&(this.mouseDown=!0,this.player.media.duration&&(this.toggleScrubbingContainer(!0),this.toggleThumbContainer(!1,!0),this.showImageAtCurrentTime()))}},{key:"endScrubbing",value:function(){var e=this;this.mouseDown=!1,Math.ceil(this.lastTime)===Math.ceil(this.player.media.currentTime)?this.toggleScrubbingContainer(!1):_e.call(this.player,this.player.media,"timeupdate",(function(){e.mouseDown||e.toggleScrubbingContainer(!1)}))}},{key:"listeners",value:function(){var e=this;this.player.on("play",(function(){e.toggleThumbContainer(!1,!0)})),this.player.on("seeked",(function(){e.toggleThumbContainer(!1)})),this.player.on("timeupdate",(function(){e.lastTime=e.player.media.currentTime}))}},{key:"render",value:function(){this.elements.thumb.container=ee("div",{class:this.player.config.classNames.previewThumbnails.thumbContainer}),this.elements.thumb.imageContainer=ee("div",{class:this.player.config.classNames.previewThumbnails.imageContainer}),this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer);var e=ee("div",{class:this.player.config.classNames.previewThumbnails.timeContainer});this.elements.thumb.time=ee("span",{},"00:00"),e.appendChild(this.elements.thumb.time),this.elements.thumb.container.appendChild(e),U(this.player.elements.progress)&&this.player.elements.progress.appendChild(this.elements.thumb.container),this.elements.scrubbing.container=ee("div",{class:this.player.config.classNames.previewThumbnails.scrubbingContainer}),this.player.elements.wrapper.appendChild(this.elements.scrubbing.container)}},{key:"destroy",value:function(){this.elements.thumb.container&&this.elements.thumb.container.remove(),this.elements.scrubbing.container&&this.elements.scrubbing.container.remove()}},{key:"showImageAtCurrentTime",value:function(){var e=this;this.mouseDown?this.setScrubbingContainerSize():this.setThumbContainerSizeAndPos();var t=this.thumbnails[0].frames.findIndex((function(t){return e.seekTime>=t.startTime&&e.seekTime<=t.endTime})),n=t>=0,i=0;this.mouseDown||this.toggleThumbContainer(n),n&&(this.thumbnails.forEach((function(n,r){e.loadedImages.includes(n.frames[t].text)&&(i=r)})),t!==this.showingThumb&&(this.showingThumb=t,this.loadImage(i)))}},{key:"loadImage",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=this.showingThumb,i=this.thumbnails[t],r=i.urlPrefix,s=i.frames[n],o=i.frames[n].text,a=r+o;if(this.currentImageElement&&this.currentImageElement.dataset.filename===o)this.showImage(this.currentImageElement,s,t,n,o,!1),this.currentImageElement.dataset.index=n,this.removeOldImages(this.currentImageElement);else{this.loadingImage&&this.usingSprites&&(this.loadingImage.onload=null);var l=new Image;l.src=a,l.dataset.index=n,l.dataset.filename=o,this.showingThumbFilename=o,this.player.debug.log("Loading image: ".concat(a)),l.onload=function(){return e.showImage(l,s,t,n,o,!0)},this.loadingImage=l,this.removeOldImages(l)}}},{key:"showImage",value:function(e,t,n,i,r){var s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];this.player.debug.log("Showing thumb: ".concat(r,". num: ").concat(i,". qual: ").concat(n,". newimg: ").concat(s)),this.setImageSizeAndOffset(e,t),s&&(this.currentImageContainer.appendChild(e),this.currentImageElement=e,this.loadedImages.includes(r)||this.loadedImages.push(r)),this.preloadNearby(i,!0).then(this.preloadNearby(i,!1)).then(this.getHigherQuality(n,e,t,r))}},{key:"removeOldImages",value:function(e){var t=this;Array.from(this.currentImageContainer.children).forEach((function(n){if("img"===n.tagName.toLowerCase()){var i=t.usingSprites?500:1e3;if(n.dataset.index!==e.dataset.index&&!n.dataset.deleting){n.dataset.deleting=!0;var r=t.currentImageContainer;setTimeout((function(){r.removeChild(n),t.player.debug.log("Removing thumb: ".concat(n.dataset.filename))}),i)}}}))}},{key:"preloadNearby",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new Promise((function(i){setTimeout((function(){var r=t.thumbnails[0].frames[e].text;if(t.showingThumbFilename===r){var s;s=n?t.thumbnails[0].frames.slice(e):t.thumbnails[0].frames.slice(0,e).reverse();var o=!1;s.forEach((function(e){var n=e.text;if(n!==r&&!t.loadedImages.includes(n)){o=!0,t.player.debug.log("Preloading thumb filename: ".concat(n));var s=t.thumbnails[0].urlPrefix+n,a=new Image;a.src=s,a.onload=function(){t.player.debug.log("Preloaded thumb filename: ".concat(n)),t.loadedImages.includes(n)||t.loadedImages.push(n),i()}}})),o||i()}}),300)}))}},{key:"getHigherQuality",value:function(e,t,n,i){var r=this;if(e<this.thumbnails.length-1){var s=t.naturalHeight;this.usingSprites&&(s=n.h),s<this.thumbContainerHeight&&setTimeout((function(){r.showingThumbFilename===i&&(r.player.debug.log("Showing higher quality thumb for: ".concat(i)),r.loadImage(e+1))}),300)}}},{key:"toggleThumbContainer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.player.config.classNames.previewThumbnails.thumbContainerShown;this.elements.thumb.container.classList.toggle(n,e),!e&&t&&(this.showingThumb=null,this.showingThumbFilename=null)}},{key:"toggleScrubbingContainer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.player.config.classNames.previewThumbnails.scrubbingContainerShown;this.elements.scrubbing.container.classList.toggle(t,e),e||(this.showingThumb=null,this.showingThumbFilename=null)}},{key:"determineContainerAutoSizing",value:function(){(this.elements.thumb.imageContainer.clientHeight>20||this.elements.thumb.imageContainer.clientWidth>20)&&(this.sizeSpecifiedInCSS=!0)}},{key:"setThumbContainerSizeAndPos",value:function(){if(this.sizeSpecifiedInCSS){if(this.elements.thumb.imageContainer.clientHeight>20&&this.elements.thumb.imageContainer.clientWidth<20){var e=Math.floor(this.elements.thumb.imageContainer.clientHeight*this.thumbAspectRatio);this.elements.thumb.imageContainer.style.width="".concat(e,"px")}else if(this.elements.thumb.imageContainer.clientHeight<20&&this.elements.thumb.imageContainer.clientWidth>20){var t=Math.floor(this.elements.thumb.imageContainer.clientWidth/this.thumbAspectRatio);this.elements.thumb.imageContainer.style.height="".concat(t,"px")}}else{var n=Math.floor(this.thumbContainerHeight*this.thumbAspectRatio);this.elements.thumb.imageContainer.style.height="".concat(this.thumbContainerHeight,"px"),this.elements.thumb.imageContainer.style.width="".concat(n,"px")}this.setThumbContainerPos()}},{key:"setThumbContainerPos",value:function(){var e=this.player.elements.progress.getBoundingClientRect(),t=this.player.elements.container.getBoundingClientRect(),n=this.elements.thumb.container,i=t.left-e.left+10,r=t.right-e.left-n.clientWidth-10,s=this.mousePosX-e.left-n.clientWidth/2;s<i&&(s=i),s>r&&(s=r),n.style.left="".concat(s,"px")}},{key:"setScrubbingContainerSize",value:function(){var e=ht(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight}),t=e.height;this.elements.scrubbing.container.style.width="".concat(e.width,"px"),this.elements.scrubbing.container.style.height="".concat(t,"px")}},{key:"setImageSizeAndOffset",value:function(e,t){if(this.usingSprites){var n=this.thumbContainerHeight/t.h;e.style.height="".concat(e.naturalHeight*n,"px"),e.style.width="".concat(e.naturalWidth*n,"px"),e.style.left="-".concat(t.x*n,"px"),e.style.top="-".concat(t.y*n,"px")}}},{key:"enabled",get:function(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}},{key:"currentImageContainer",get:function(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}},{key:"usingSprites",get:function(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}},{key:"thumbAspectRatio",get:function(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}},{key:"thumbContainerHeight",get:function(){return this.mouseDown?ht(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight}).height:this.sizeSpecifiedInCSS?this.elements.thumb.imageContainer.clientHeight:Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}},{key:"currentImageElement",get:function(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement},set:function(e){this.mouseDown?this.currentScrubbingImageElement=e:this.currentThumbnailImageElement=e}}]),t}(),ft={insertElements:function(e,t){var n=this;V(t)?te(e,this.media,{src:t}):$(t)&&t.forEach((function(t){te(e,n.media,t)}))},change:function(e){var t=this;Z(e,"sources.length")?(ke.cancelRequests.call(this),this.destroy.call(this,(function(){t.options.quality=[],ne(t.media),t.media=null,U(t.elements.container)&&t.elements.container.removeAttribute("class");var n=e.sources,i=e.type,r=o(n,1)[0],s=r.provider,a=void 0===s?Ze.html5:s,l="html5"===a?i:"div",c="html5"===a?{}:{src:r.src};Object.assign(t,{provider:a,type:i,supported:me.check(i,a,t.config.playsinline),media:ee(l,c)}),t.elements.container.appendChild(t.media),L(e.autoplay)&&(t.config.autoplay=e.autoplay),t.isHTML5&&(t.config.crossorigin&&t.media.setAttribute("crossorigin",""),t.config.autoplay&&t.media.setAttribute("autoplay",""),q(e.poster)||(t.poster=e.poster),t.config.loop.active&&t.media.setAttribute("loop",""),t.config.muted&&t.media.setAttribute("muted",""),t.config.playsinline&&t.media.setAttribute("playsinline","")),tt.addStyleHook.call(t),t.isHTML5&&ft.insertElements.call(t,"source",n),t.config.title=e.title,ut.setup.call(t),t.isHTML5&&Object.keys(e).includes("tracks")&&ft.insertElements.call(t,"track",e.tracks),(t.isHTML5||t.isEmbed&&!t.supported.ui)&&tt.build.call(t),t.isHTML5&&t.media.load(),q(e.previewThumbnails)||(Object.assign(t.config.previewThumbnails,e.previewThumbnails),t.previewThumbnails&&t.previewThumbnails.loaded&&(t.previewThumbnails.destroy(),t.previewThumbnails=null),t.config.previewThumbnails.enabled&&(t.previewThumbnails=new pt(t))),t.fullscreen.update()}),!0)):this.debug.warn("Invalid source format")}},mt=function(){function t(n,i){var r=this;if(e(this,t),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=me.touch,this.media=n,V(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||F(this.media)||$(this.media))&&(this.media=this.media[0]),this.config=Q({},ze,t.defaults,i||{},function(){try{return JSON.parse(r.media.getAttribute("data-plyr-config"))}catch(e){return{}}}()),this.elements={container:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new Xe(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",me),!j(this.media)&&U(this.media))if(this.media.plyr)this.debug.warn("Target already setup");else if(this.config.enabled)if(me.check().api){var s=this.media.cloneNode(!0);s.autoplay=!1,this.elements.original=s;var o=this.media.tagName.toLowerCase(),a=null,l=null;switch(o){case"div":if(a=this.media.querySelector("iframe"),U(a)){if(l=We(a.getAttribute("src")),this.provider=function(e){return/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(e)?Ze.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(e)?Ze.vimeo:null}(l.toString()),this.elements.container=this.media,this.media=a,this.elements.container.className="",l.search.length){var c=["1","true"];c.includes(l.searchParams.get("autoplay"))&&(this.config.autoplay=!0),c.includes(l.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=c.includes(l.searchParams.get("playsinline")),this.config.youtube.hl=l.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(q(this.provider)||!Object.keys(Ze).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type="video";break;case"video":case"audio":this.type=o,this.provider=Ze.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=me.check(this.type,this.provider,this.config.playsinline),this.supported.api?(this.eventListeners=[],this.listeners=new nt(this),this.storage=new Le(this),this.media.plyr=this,U(this.elements.container)||(this.elements.container=ee("div",{tabindex:0}),X(this.media,this.elements.container)),tt.addStyleHook.call(this),ut.setup.call(this),this.config.debug&&be.call(this,this.elements.container,this.config.events.join(" "),(function(e){r.debug.log("event: ".concat(e.type))})),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&tt.build.call(this),this.listeners.container(),this.listeners.global(),this.fullscreen=new Je(this),this.config.ads.enabled&&(this.ads=new dt(this)),this.isHTML5&&this.config.autoplay&&setTimeout((function(){return r.play()}),10),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new pt(this))):this.debug.error("Setup failed: no support")}else this.debug.error("Setup failed: no support");else this.debug.error("Setup failed: disabled by config");else this.debug.error("Setup failed: no suitable element passed")}return n(t,[{key:"play",value:function(){var e=this;return D(this.media.play)?(this.ads&&this.ads.enabled&&this.ads.managerPromise.then((function(){return e.ads.play()})).catch((function(){return e.media.play()})),this.media.play()):null}},{key:"pause",value:function(){return this.playing&&D(this.media.pause)?this.media.pause():null}},{key:"togglePlay",value:function(e){return(L(e)?e:!this.playing)?this.play():this.pause()}},{key:"stop",value:function(){this.isHTML5?(this.pause(),this.restart()):D(this.media.stop)&&this.media.stop()}},{key:"restart",value:function(){this.currentTime=0}},{key:"rewind",value:function(e){this.currentTime-=N(e)?e:this.config.seekTime}},{key:"forward",value:function(e){this.currentTime+=N(e)?e:this.config.seekTime}},{key:"increaseVolume",value:function(e){this.volume=(this.media.muted?0:this.volume)+(N(e)?e:0)}},{key:"decreaseVolume",value:function(e){this.increaseVolume(-e)}},{key:"toggleCaptions",value:function(e){Ye.toggle.call(this,e,!1)}},{key:"airplay",value:function(){me.airplay&&this.media.webkitShowPlaybackTargetPicker()}},{key:"toggleControls",value:function(e){if(this.supported.ui&&!this.isAudio){var t=le(this.elements.container,this.config.classNames.hideControls),n=ae(this.elements.container,this.config.classNames.hideControls,void 0===e?void 0:!e);return n&&this.config.controls.includes("settings")&&!q(this.config.settings)&&Ke.toggleMenu.call(this,!1),n!==t&&Ee.call(this,this.media,n?"controlshidden":"controlsshown"),!n}return!1}},{key:"on",value:function(e,t){be.call(this,this.elements.container,e,t)}},{key:"once",value:function(e,t){_e.call(this,this.elements.container,e,t)}},{key:"off",value:function(e,t){ve(this.elements.container,e,t)}},{key:"destroy",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.ready){var i=function(){document.body.style.overflow="",t.embed=null,n?(Object.keys(t.elements).length&&(ne(t.elements.buttons.play),ne(t.elements.captions),ne(t.elements.controls),ne(t.elements.wrapper),t.elements.buttons.play=null,t.elements.captions=null,t.elements.controls=null,t.elements.wrapper=null),D(e)&&e()):(we.call(t),re(t.elements.original,t.elements.container),Ee.call(t,t.elements.original,"destroyed",!0),D(e)&&e.call(t.elements.original),t.ready=!1,setTimeout((function(){t.elements=null,t.media=null}),200))};this.stop(),clearTimeout(this.timers.loading),clearTimeout(this.timers.controls),clearTimeout(this.timers.resized),this.isHTML5?(tt.toggleNativeControls.call(this,!0),i()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),null!==this.embed&&D(this.embed.destroy)&&this.embed.destroy(),i()):this.isVimeo&&(null!==this.embed&&this.embed.unload().then(i),setTimeout(i,200))}}},{key:"supports",value:function(e){return me.mime.call(this,e)}},{key:"isHTML5",get:function(){return this.provider===Ze.html5}},{key:"isEmbed",get:function(){return this.isYouTube||this.isVimeo}},{key:"isYouTube",get:function(){return this.provider===Ze.youtube}},{key:"isVimeo",get:function(){return this.provider===Ze.vimeo}},{key:"isVideo",get:function(){return"video"===this.type}},{key:"isAudio",get:function(){return"audio"===this.type}},{key:"playing",get:function(){return Boolean(this.ready&&!this.paused&&!this.ended)}},{key:"paused",get:function(){return Boolean(this.media.paused)}},{key:"stopped",get:function(){return Boolean(this.paused&&0===this.currentTime)}},{key:"ended",get:function(){return Boolean(this.media.ended)}},{key:"currentTime",set:function(e){if(this.duration){var t=N(e)&&e>0;this.media.currentTime=t?Math.min(e,this.duration):0,this.debug.log("Seeking to ".concat(this.currentTime," seconds"))}},get:function(){return Number(this.media.currentTime)}},{key:"buffered",get:function(){var e=this.media.buffered;return N(e)?e:e&&e.length&&this.duration>0?e.end(0)/this.duration:0}},{key:"seeking",get:function(){return Boolean(this.media.seeking)}},{key:"duration",get:function(){var e=parseFloat(this.config.duration),t=(this.media||{}).duration,n=N(t)&&t!==1/0?t:0;return e||n}},{key:"volume",set:function(e){var t=e;V(t)&&(t=Number(t)),N(t)||(t=this.storage.get("volume")),N(t)||(t=this.config.volume),t>1&&(t=1),t<0&&(t=0),this.config.volume=t,this.media.volume=t,!q(e)&&this.muted&&t>0&&(this.muted=!1)},get:function(){return Number(this.media.volume)}},{key:"muted",set:function(e){var t=e;L(t)||(t=this.storage.get("muted")),L(t)||(t=this.config.muted),this.config.muted=t,this.media.muted=t},get:function(){return Boolean(this.media.muted)}},{key:"hasAudio",get:function(){return!this.isHTML5||!!this.isAudio||Boolean(this.media.mozHasAudio)||Boolean(this.media.webkitAudioDecodedByteCount)||Boolean(this.media.audioTracks&&this.media.audioTracks.length)}},{key:"speed",set:function(e){var t=this,n=null;N(e)&&(n=e),N(n)||(n=this.storage.get("speed")),N(n)||(n=this.config.speed.selected),n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:255;return Math.min(Math.max(e,t),n)}(n,this.minimumSpeed,this.maximumSpeed),this.config.speed.selected=n,setTimeout((function(){t.media.playbackRate=n}),0)},get:function(){return Number(this.media.playbackRate)}},{key:"minimumSpeed",get:function(){return this.isYouTube?Math.min.apply(Math,a(this.options.speed)):this.isVimeo?.5:.0625}},{key:"maximumSpeed",get:function(){return this.isYouTube?Math.max.apply(Math,a(this.options.speed)):this.isVimeo?2:16}},{key:"quality",set:function(e){var t=this.config.quality,n=this.options.quality;if(n.length){var i=[!q(e)&&Number(e),this.storage.get("quality"),t.selected,t.default].find(N),r=!0;if(!n.includes(i)){var s=function(e,t){return $(e)&&e.length?e.reduce((function(e,n){return Math.abs(n-t)<Math.abs(e-t)?n:e})):null}(n,i);this.debug.warn("Unsupported quality option: ".concat(i,", using ").concat(s," instead")),i=s,r=!1}t.selected=i,this.media.quality=i,r&&this.storage.set({quality:i})}},get:function(){return this.media.quality}},{key:"loop",set:function(e){var t=L(e)?e:this.config.loop.active;this.config.loop.active=t,this.media.loop=t},get:function(){return Boolean(this.media.loop)}},{key:"source",set:function(e){ft.change.call(this,e)},get:function(){return this.media.currentSrc}},{key:"download",get:function(){var e=this.config.urls.download;return W(e)?e:this.source},set:function(e){W(e)&&(this.config.urls.download=e,Ke.setDownloadUrl.call(this))}},{key:"poster",set:function(e){this.isVideo?tt.setPoster.call(this,e,!1).catch((function(){})):this.debug.warn("Poster can only be set for video")},get:function(){return this.isVideo?this.media.getAttribute("poster"):null}},{key:"ratio",get:function(){if(!this.isVideo)return null;var e=Ae(Te.call(this));return $(e)?e.join(":"):e},set:function(e){this.isVideo?V(e)&&Pe(e)?(this.config.ratio=e,Ce.call(this)):this.debug.error("Invalid aspect ratio specified (".concat(e,")")):this.debug.warn("Aspect ratio can only be set for video")}},{key:"autoplay",set:function(e){var t=L(e)?e:this.config.autoplay;this.config.autoplay=t},get:function(){return Boolean(this.config.autoplay)}},{key:"currentTrack",set:function(e){Ye.set.call(this,e,!1)},get:function(){var e=this.captions;return e.toggled?e.currentTrack:-1}},{key:"language",set:function(e){Ye.setLanguage.call(this,e,!1)},get:function(){return(Ye.getCurrentTrack.call(this)||{}).language}},{key:"pip",set:function(e){if(me.pip){var t=L(e)?e:!this.pip;D(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(t?Ge:"inline"),D(this.media.requestPictureInPicture)&&(!this.pip&&t?this.media.requestPictureInPicture():this.pip&&!t&&document.exitPictureInPicture())}},get:function(){return me.pip?q(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===Ge:null}}],[{key:"supported",value:function(e,t,n){return me.check(e,t,n)}},{key:"loadSprite",value:function(e,t){return $e(e,t)}},{key:"setup",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=null;return V(e)?i=Array.from(document.querySelectorAll(e)):F(e)?i=Array.from(e):$(e)&&(i=e.filter(U)),q(i)?null:i.map((function(e){return new t(e,n)}))}}]),t}();return mt.defaults=JSON.parse(JSON.stringify(ze)),mt}())},cS0L:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n,i;(0,r.default)(e),"object"===s(t)?(n=t.min||0,i=t.max):(n=arguments[1],i=arguments[2]);var o=e.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g)||[],a=e.length-o.length;return a>=n&&(void 0===i||a<=i)};var i,r=(i=n("6k7E"))&&i.__esModule?i:{default:i};function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=t.default,e.exports.default=t.default},"ct+p":function(e,t,n){"use strict";n.r(t),n.d(t,"HomeModule",(function(){return Rr}));var i=n("2kYt"),r=n("sEIs"),s=n("EM62");let o=(()=>{class e{}return e.\u0275mod=s.Ib({type:e}),e.\u0275inj=s.Hb({factory:function(t){return new(t||e)},imports:[[i.c]]}),e})();var a=n("IdLP"),l=n("FU6l"),c=n("YtkY"),u=n("X0qr"),d=n("GoAz");function h(e,t){return new a.a(n=>{const i=e.length;if(0===i)return void n.complete();const r=new Array(i);let s=0,o=0;for(let a=0;a<i;a++){const l=Object(d.a)(e[a]);let c=!1;n.add(l.subscribe({next:e=>{c||(c=!0,o++),r[a]=e},error:e=>n.error(e),complete:()=>{s++,s!==i&&c||(o===i&&n.next(t?t.reduce((e,t,n)=>(e[t]=r[n],e),{}):r),n.complete())}}))}})}const p=new s.q("NgValueAccessor"),f={provide:p,useExisting:Object(s.T)(()=>m),multi:!0};let m=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(s.D),s.Kb(s.l))},e.\u0275dir=s.Fb({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,t){1&e&&s.Yb("change",(function(e){return t.onChange(e.target.checked)}))("blur",(function(){return t.onTouched()}))},features:[s.zb([f])]}),e})();const g={provide:p,useExisting:Object(s.T)(()=>b),multi:!0},y=new s.q("CompositionEventMode");let b=(()=>{class e{constructor(e,t,n){this._renderer=e,this._elementRef=t,this._compositionMode=n,this.onChange=e=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=Object(i.r)()?Object(i.r)().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(s.D),s.Kb(s.l),s.Kb(y,8))},e.\u0275dir=s.Fb({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&s.Yb("input",(function(e){return t._handleInput(e.target.value)}))("blur",(function(){return t.onTouched()}))("compositionstart",(function(){return t._compositionStart()}))("compositionend",(function(e){return t._compositionEnd(e.target.value)}))},features:[s.zb([g])]}),e})(),v=(()=>{class e{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=s.Fb({type:e}),e})();function _(){throw new Error("unimplemented")}class E extends v{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return _()}get asyncValidator(){return _()}}let w=(()=>{class e extends class{constructor(e){this._cd=e}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(E,2))},e.\u0275dir=s.Fb({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&s.Cb("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[s.xb]}),e})();function O(e){return null==e||0===e.length}const P=new s.q("NgValidators"),A=new s.q("NgAsyncValidators"),T=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class C{static min(e){return t=>{if(O(t.value)||O(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}static max(e){return t=>{if(O(t.value)||O(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}static required(e){return O(e.value)?{required:!0}:null}static requiredTrue(e){return!0===e.value?null:{required:!0}}static email(e){return O(e.value)||T.test(e.value)?null:{email:!0}}static minLength(e){return t=>{if(O(t.value))return null;const n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}static maxLength(e){return t=>{const n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}static pattern(e){if(!e)return C.nullValidator;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),e=>{if(O(e.value))return null;const i=e.value;return t.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}static nullValidator(e){return null}static compose(e){if(!e)return null;const t=e.filter(k);return 0==t.length?null:function(e){return S(function(e,t){return t.map(t=>t(e))}(e,t))}}static composeAsync(e){if(!e)return null;const t=e.filter(k);return 0==t.length?null:function(e){return function(...e){if(1===e.length){const t=e[0];if(Object(l.a)(t))return h(t,null);if(Object(u.a)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return h(e.map(e=>t[e]),e)}}if("function"==typeof e[e.length-1]){const t=e.pop();return h(e=1===e.length&&Object(l.a)(e[0])?e[0]:e,null).pipe(Object(c.a)(e=>t(...e)))}return h(e,null)}(function(e,t){return t.map(t=>t(e))}(e,t).map(x)).pipe(Object(c.a)(S))}}}function k(e){return null!=e}function x(e){const t=Object(s.rb)(e)?Object(d.a)(e):e;if(!Object(s.qb)(t))throw new Error("Expected validator to return Promise or Observable.");return t}function S(e){let t={};return e.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function M(e){return e.validate?t=>e.validate(t):e}function I(e){return e.validate?t=>e.validate(t):e}const j={provide:p,useExisting:Object(s.T)(()=>R),multi:!0};let R=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(s.D),s.Kb(s.l))},e.\u0275dir=s.Fb({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&s.Yb("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[s.zb([j])]}),e})();const N={provide:p,useExisting:Object(s.T)(()=>L),multi:!0};let V=(()=>{class e{constructor(){this._accessors=[]}add(e,t){this._accessors.push([e,t])}remove(e){for(let t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}select(e){this._accessors.forEach(t=>{this._isSameGroup(t,e)&&t[1]!==e&&t[1].fireUncheck(e.value)})}_isSameGroup(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Gb({token:e,factory:e.\u0275fac}),e})(),L=(()=>{class e{constructor(e,t,n,i){this._renderer=e,this._elementRef=t,this._registry=n,this._injector=i,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(E),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}fireUncheck(e){this.writeValue(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(s.D),s.Kb(s.l),s.Kb(V),s.Kb(s.r))},e.\u0275dir=s.Fb({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,t){1&e&&s.Yb("change",(function(){return t.onChange()}))("blur",(function(){return t.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[s.zb([N])]}),e})();const D={provide:p,useExisting:Object(s.T)(()=>$),multi:!0};let $=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(s.D),s.Kb(s.l))},e.\u0275dir=s.Fb({type:e,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(e,t){1&e&&s.Yb("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[s.zb([D])]}),e})();const F='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',U='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });';class B{static controlParentException(){throw new Error(`formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${F}`)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${U}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        \n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>`)}static missingFormException(){throw new Error(`formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ${F}`)}static groupParentException(){throw new Error(`formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${U}`)}static arrayParentException(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(e){console.warn(`\n    It looks like you're using ngModel on the same form field as ${e}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===e?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}const H={provide:p,useExisting:Object(s.T)(()=>W),multi:!0};function K(e,t){return null==e?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let W=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=s.sb}set compareWith(e){if("function"!=typeof e)throw new Error(`compareWith must be a function, but received ${JSON.stringify(e)}`);this._compareWith=e}writeValue(e){this.value=e;const t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=K(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(e){this.onChange=t=>{this.value=this._getOptionValue(t),e(this.value)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t),e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(s.D),s.Kb(s.l))},e.\u0275dir=s.Fb({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,t){1&e&&s.Yb("change",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[s.zb([H])]}),e})(),q=(()=>{class e{constructor(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(K(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(s.l),s.Kb(s.D),s.Kb(W,9))},e.\u0275dir=s.Fb({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();const Y={provide:p,useExisting:Object(s.T)(()=>G),multi:!0};function z(e,t){return null==e?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let G=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=s.sb}set compareWith(e){if("function"!=typeof e)throw new Error(`compareWith must be a function, but received ${JSON.stringify(e)}`);this._compareWith=e}writeValue(e){let t;if(this.value=e,Array.isArray(e)){const n=e.map(e=>this._getOptionId(e));t=(e,t)=>{e._setSelected(n.indexOf(t.toString())>-1)}}else t=(e,t)=>{e._setSelected(!1)};this._optionMap.forEach(t)}registerOnChange(e){this.onChange=t=>{const n=[];if(t.hasOwnProperty("selectedOptions")){const e=t.selectedOptions;for(let t=0;t<e.length;t++){const i=e.item(t),r=this._getOptionValue(i.value);n.push(r)}}else{const e=t.options;for(let t=0;t<e.length;t++){const i=e.item(t);if(i.selected){const e=this._getOptionValue(i.value);n.push(e)}}}this.value=n,e(n)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(e){const t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t)._value,e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(s.D),s.Kb(s.l))},e.\u0275dir=s.Fb({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,t){1&e&&s.Yb("change",(function(e){return t.onChange(e.target)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[s.zb([Y])]}),e})(),Z=(()=>{class e{constructor(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(z(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(z(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(s.l),s.Kb(s.D),s.Kb(G,9))},e.\u0275dir=s.Fb({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();function Q(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function X(e,t){let n;throw n=e.path.length>1?`path: '${e.path.join(" -> ")}'`:e.path[0]?`name: '${e.path}'`:"unspecified name attribute",new Error(`${t} ${n}`)}function J(e){return null!=e?C.compose(e.map(M)):null}function ee(e){return null!=e?C.composeAsync(e.map(I)):null}const te=[m,$,R,W,G,L];function ne(e){const t=re(e)?e.validators:e;return Array.isArray(t)?J(t):t||null}function ie(e,t){const n=re(t)?t.asyncValidators:e;return Array.isArray(n)?ee(n):n||null}function re(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class se{constructor(e,t){this.validator=e,this.asyncValidator=t,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this.validator=ne(e)}setAsyncValidators(e){this.asyncValidator=ie(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(t=>{t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild(t=>{t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status="PENDING";const t=x(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>this.setErrors(t,{emitEvent:e}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;let i=e;return t.forEach(e=>{i=i instanceof ae?i.controls.hasOwnProperty(e)?i.controls[e]:null:i instanceof le&&i.at(e)||null}),i}(this,e)}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new s.n,this.statusChanges=new s.n}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){re(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class oe extends se{constructor(e=null,t,n){super(ne(t),ie(n,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class ae extends se{constructor(e,t,n){super(ne(t),ie(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e={},t={}){this._forEachChild((n,i)=>{n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t instanceof oe?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>e(this.controls[t],t))}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){let t=!1;return this._forEachChild((n,i)=>{t=t||this.contains(i)&&e(n)}),t}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((e,i)=>{n=t(n,e,i)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class le extends se{constructor(e,t,n){super(ne(t),ie(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(e){return this.controls[e]}push(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}insert(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}removeAt(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e.forEach((e,n)=>{this.at(n)&&this.at(n).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e=[],t={}){this._forEachChild((n,i)=>{n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof oe?e.value:e.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const ce=new s.q("NgModelWithFormControlWarning"),ue={provide:E,useExisting:Object(s.T)(()=>de)};let de=(()=>{class e extends E{constructor(e,t,n,i){super(),this._ngModelWarningConfig=i,this.update=new s.n,this._ngModelWarningSent=!1,this._rawValidators=e||[],this._rawAsyncValidators=t||[],this.valueAccessor=function(e,t){if(!t)return null;Array.isArray(t)||X(e,"Value accessor was not provided as an array for form control with");let n=void 0,i=void 0,r=void 0;return t.forEach(t=>{var s;t.constructor===b?n=t:(s=t,te.some(e=>s.constructor===e)?(i&&X(e,"More than one built-in value accessor matches form control with"),i=t):(r&&X(e,"More than one custom value accessor matches form control with"),r=t))}),r||i||n||(X(e,"No valid value accessor for form control with"),null)}(this,n)}set isDisabled(e){B.disabledAttrWarning()}ngOnChanges(t){var n,i,r,o;this._isControlChanged(t)&&(o=this,(r=this.form)||X(o,"Cannot find control with"),o.valueAccessor||X(o,"No value accessor for form control with"),r.validator=C.compose([r.validator,o.validator]),r.asyncValidator=C.composeAsync([r.asyncValidator,o.asyncValidator]),o.valueAccessor.writeValue(r.value),function(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Q(e,t)})}(r,o),function(e,t){e.registerOnChange((e,n)=>{t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)})}(r,o),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Q(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(r,o),o.valueAccessor.setDisabledState&&r.registerOnDisabledChange(e=>{o.valueAccessor.setDisabledState(e)}),o._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>r.updateValueAndValidity())}),o._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>r.updateValueAndValidity())}),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),function(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object(s.sb)(t,n.currentValue)}(t,this.viewModel)&&("formControl",n=e,this,i=this._ngModelWarningConfig,Object(s.U)()&&"never"!==i&&((null!==i&&"once"!==i||n._ngModelWarningSentOnce)&&("always"!==i||this._ngModelWarningSent)||(B.ngModelWarning("formControl"),n._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.form.setValue(this.model),this.viewModel=this.model)}get path(){return[]}get validator(){return J(this._rawValidators)}get asyncValidator(){return ee(this._rawAsyncValidators)}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(P,10),s.Kb(A,10),s.Kb(p,10),s.Kb(ce,8))},e.\u0275dir=s.Fb({type:e,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[s.zb([ue]),s.xb,s.yb]}),e._ngModelWarningSentOnce=!1,e})();const he={provide:P,useExisting:Object(s.T)(()=>pe),multi:!0};let pe=(()=>{class e{get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!==`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?C.required(e):null}registerOnValidatorChange(e){this._onChange=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=s.Fb({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,t){2&e&&s.Bb("required",t.required?"":null)},inputs:{required:"required"},features:[s.zb([he])]}),e})(),fe=(()=>{class e{}return e.\u0275mod=s.Ib({type:e}),e.\u0275inj=s.Hb({factory:function(t){return new(t||e)}}),e})(),me=(()=>{class e{group(e,t=null){const n=this._reduceControls(e);let i=null,r=null,s=void 0;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(i=null!=t.validators?t.validators:null,r=null!=t.asyncValidators?t.asyncValidators:null,s=null!=t.updateOn?t.updateOn:void 0):(i=null!=t.validator?t.validator:null,r=null!=t.asyncValidator?t.asyncValidator:null)),new ae(n,{asyncValidators:r,updateOn:s,validators:i})}control(e,t,n){return new oe(e,t,n)}array(e,t,n){const i=e.map(e=>this._createControl(e));return new le(i,t,n)}_reduceControls(e){const t={};return Object.keys(e).forEach(n=>{t[n]=this._createControl(e[n])}),t}_createControl(e){return e instanceof oe||e instanceof ae||e instanceof le?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Gb({token:e,factory:e.\u0275fac}),e})(),ge=(()=>{class e{}return e.\u0275mod=s.Ib({type:e}),e.\u0275inj=s.Hb({factory:function(t){return new(t||e)},providers:[V],imports:[fe]}),e})(),ye=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:ce,useValue:t.warnOnNgModelWithFormControl}]}}}return e.\u0275mod=s.Ib({type:e}),e.\u0275inj=s.Hb({factory:function(t){return new(t||e)},providers:[me,V],imports:[fe]}),e})();var be=n("C05f"),ve=n("HM3f"),_e=n("ZTXN"),Ee=n("g6G6"),we=n("5uGe");function Oe(e,t){return n=>n.lift(new Pe(e,t))}class Pe{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new Ae(e,this.compare,this.keySelector))}}class Ae extends we.a{constructor(e,t,n){super(e),this.keySelector=n,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:n}=this;t=n?n(e):e}catch(i){return this.destination.error(i)}let n=!1;if(this.hasKey)try{const{compare:e}=this;n=e(this.key,t)}catch(i){return this.destination.error(i)}else this.hasKey=!0;n||(this.key=t,this.destination.next(e))}}var Te=n("UP3S"),Ce=n("8sLn");function ke(e,t){if(1&e&&s.Lb(0,"sf-form-element-action",3),2&e){const e=t.$implicit,n=s.cc(2);s.ic("button",e)("formProperty",n.formProperty)}}function xe(e,t){if(1&e){const e=s.Rb();s.Qb(0,"div"),s.Qb(1,"sf-widget-chooser",1),s.Yb("widgetInstanciated",(function(t){return s.nc(e),s.cc().onWidgetInstanciated(t)})),s.Pb(),s.sc(2,ke,1,2,"sf-form-element-action",2),s.Pb()}if(2&e){const e=s.cc();s.Cb("has-error",!e.control.valid)("has-success",e.control.valid),s.Ab(1),s.ic("widgetInfo",e.formProperty.schema.widget),s.Ab(1),s.ic("ngForOf",e.buttons)}}const Se=["target"];function Me(e,t){}function Ie(e,t){if(1&e&&(s.Qb(0,"span",5),s.uc(1),s.Pb()),2&e){const e=s.cc();s.Ab(1),s.vc(e.schema.description)}}function je(e,t){if(1&e){const e=s.Rb();s.Qb(0,"button",8),s.Yb("click",(function(){s.nc(e);const t=s.cc().$implicit;return s.cc().removeItem(t)})),s.Lb(1,"span",9),s.uc(2," Remove "),s.Pb()}if(2&e){const e=s.cc(2);s.ic("disabled",e.isRemoveButtonDisabled())}}function Re(e,t){if(1&e&&(s.Qb(0,"div"),s.Lb(1,"sf-form-element",6),s.sc(2,je,3,1,"button",7),s.Pb()),2&e){const e=t.$implicit,n=s.cc();s.Ab(1),s.ic("formProperty",e),s.Ab(1),s.ic("ngIf",!(n.schema.hasOwnProperty("minItems")&&n.schema.hasOwnProperty("maxItems")&&n.schema.minItems===n.schema.maxItems))}}function Ne(e,t){if(1&e){const e=s.Rb();s.Qb(0,"button",10),s.Yb("click",(function(){return s.nc(e),s.cc().addItem()})),s.Lb(1,"span",11),s.uc(2," Add "),s.Pb()}if(2&e){const e=s.cc();s.ic("disabled",e.isAddButtonDisabled())}}function Ve(e,t){if(1&e&&(s.Qb(0,"legend"),s.uc(1),s.Pb()),2&e){const e=s.cc().$implicit;s.Ab(1),s.vc(e.title)}}function Le(e,t){if(1&e&&(s.Qb(0,"div"),s.uc(1),s.Pb()),2&e){const e=s.cc().$implicit;s.Ab(1),s.vc(e.description)}}function De(e,t){if(1&e&&(s.Qb(0,"div"),s.Lb(1,"sf-form-element",2),s.Pb()),2&e){const e=t.$implicit,n=s.cc(2);s.Ab(1),s.ic("formProperty",n.formProperty.getProperty(e))}}function $e(e,t){if(1&e&&(s.Qb(0,"fieldset"),s.sc(1,Ve,2,1,"legend",1),s.sc(2,Le,2,1,"div",1),s.sc(3,De,2,1,"div",0),s.Pb()),2&e){const e=t.$implicit;s.Ab(1),s.ic("ngIf",e.title),s.Ab(1),s.ic("ngIf",e.description),s.Ab(1),s.ic("ngForOf",e.fields)}}function Fe(e,t){if(1&e&&s.Lb(0,"input",7),2&e){const e=s.cc(2);s.ic("formControl",e.control),s.Bb("name",e.name)}}function Ue(e,t){if(1&e&&(s.Qb(0,"div",4),s.Qb(1,"label",1),s.Lb(2,"input",5),s.sc(3,Fe,1,2,"input",6),s.uc(4),s.Pb(),s.Pb()),2&e){const e=s.cc();s.Ab(2),s.ic("formControl",e.control)("indeterminate",!1!==e.control.value&&!0!==e.control.value||null)("disabled",e.schema.readOnly),s.Bb("name",e.name)("id",e.id),s.Ab(1),s.ic("ngIf",e.schema.readOnly),s.Ab(1),s.wc(" ",e.schema.description," ")}}function Be(e,t){if(1&e){const e=s.Rb();s.Qb(0,"div",4),s.Qb(1,"label",1),s.Qb(2,"input",9),s.Yb("change",(function(t){return s.nc(e),s.cc(2).onCheck(t.target)})),s.Pb(),s.uc(3),s.Pb(),s.Pb()}if(2&e){const e=t.$implicit,n=s.cc(2);s.Ab(2),s.jc("value",e.enum[0]),s.Bb("name",n.name)("disabled",n.schema.readOnly)("checked",!!n.checked[e.enum[0]]||null)("id",n.id+"."+e.enum[0]),s.Ab(1),s.wc(" ",e.description," ")}}function He(e,t){if(1&e&&(s.Ob(0),s.sc(1,Be,4,6,"div",8),s.Nb()),2&e){const e=s.cc();s.Ab(1),s.ic("ngForOf",e.schema.items.oneOf)}}function Ke(e,t){if(1&e&&(s.Qb(0,"span",5),s.uc(1),s.Pb()),2&e){const e=s.cc();s.Ab(1),s.vc(e.schema.description)}}function We(e,t){if(1&e&&s.Lb(0,"input",6),2&e){const e=s.cc();s.ic("formControl",e.control),s.Bb("name",e.name)}}function qe(e,t){if(1&e&&(s.Qb(0,"span",4),s.uc(1),s.Pb()),2&e){const e=s.cc();s.Ab(1),s.vc(e.schema.description)}}function Ye(e,t){if(1&e&&(s.Qb(0,"span",4),s.uc(1),s.Pb()),2&e){const e=s.cc();s.Ab(1),s.vc(e.schema.description)}}function ze(e,t){if(1&e&&(s.Qb(0,"span",4),s.uc(1),s.Pb()),2&e){const e=s.cc();s.Ab(1),s.vc(e.schema.description)}}function Ge(e,t){if(1&e&&(s.Qb(0,"div",5),s.Qb(1,"label",6),s.Lb(2,"input",7),s.uc(3),s.Pb(),s.Pb()),2&e){const e=t.$implicit,n=s.cc();s.Ab(2),s.jc("value",e.enum[0]),s.ic("formControl",n.control)("disabled",n.schema.readOnly||e.readOnly),s.Bb("name",n.name)("id",n.id+"."+e.enum[0]),s.Ab(1),s.wc(" ",e.description," ")}}function Ze(e,t){if(1&e&&s.Lb(0,"input",8),2&e){const e=s.cc();s.ic("formControl",e.control),s.Bb("name",e.name)}}function Qe(e,t){if(1&e&&(s.Qb(0,"span",5),s.uc(1),s.Pb()),2&e){const e=s.cc();s.Ab(1),s.vc(e.schema.description)}}function Xe(e,t){if(1&e&&s.Lb(0,"input",6),2&e){const e=s.cc();s.Bb("name",e.name)}}function Je(e,t){if(1&e&&(s.Qb(0,"span",6),s.uc(1),s.Pb()),2&e){const e=s.cc();s.Ab(1),s.wc(" ",e.schema.description," ")}}function et(e,t){if(1&e&&(s.Qb(0,"option",11),s.uc(1),s.Pb()),2&e){const e=t.$implicit;s.ic("ngValue",e.enum[0]),s.Ab(1),s.vc(e.description)}}function tt(e,t){if(1&e&&(s.Ob(0),s.sc(1,et,2,2,"option",10),s.Nb()),2&e){const e=s.cc(2);s.Ab(1),s.ic("ngForOf",e.schema.oneOf)}}function nt(e,t){if(1&e&&(s.Qb(0,"option",11),s.uc(1),s.Pb()),2&e){const e=t.$implicit;s.ic("ngValue",e),s.Ab(1),s.vc(e)}}function it(e,t){if(1&e&&s.sc(0,nt,2,2,"option",10),2&e){const e=s.cc(2);s.ic("ngForOf",e.schema.enum)}}function rt(e,t){if(1&e&&(s.Qb(0,"select",7),s.sc(1,tt,2,1,"ng-container",8),s.sc(2,it,1,1,"ng-template",null,9,s.tc),s.Pb()),2&e){const e=s.mc(3),t=s.cc();s.ic("formControl",t.control)("disabled",t.schema.readOnly)("disableControl",t.schema.readOnly),s.Bb("name",t.name)("id",t.id),s.Ab(1),s.ic("ngIf",t.schema.oneOf)("ngIfElse",e)}}function st(e,t){if(1&e&&(s.Qb(0,"option",14),s.uc(1),s.Pb()),2&e){const e=t.$implicit;s.ic("ngValue",e.enum[0])("disabled",e.readOnly),s.Ab(1),s.vc(e.description)}}function ot(e,t){if(1&e&&(s.Qb(0,"select",12),s.sc(1,st,2,3,"option",13),s.Pb()),2&e){const e=s.cc();s.ic("formControl",e.control)("disabled",e.schema.readOnly)("disableControl",e.schema.readOnly),s.Bb("name",e.name)("id",e.id),s.Ab(1),s.ic("ngForOf",e.schema.items.oneOf)}}function at(e,t){if(1&e&&s.Lb(0,"input",15),2&e){const e=s.cc();s.ic("formControl",e.control),s.Bb("name",e.name)}}function lt(e,t){if(1&e&&s.Lb(0,"input",2),2&e){const e=s.cc();s.ic("formControl",e.control),s.Bb("name",e.name)}}function ct(e,t){if(1&e&&(s.Qb(0,"span",8),s.uc(1),s.Pb()),2&e){const e=s.cc(2);s.Ab(1),s.vc(e.schema.description)}}function ut(e,t){if(1&e&&s.Lb(0,"input",2),2&e){const e=s.cc(2);s.ic("formControl",e.control),s.Bb("name",e.name)}}function dt(e,t){if(1&e&&(s.Qb(0,"div",3),s.Qb(1,"label",4),s.uc(2),s.Pb(),s.sc(3,ct,2,1,"span",5),s.Lb(4,"input",6),s.sc(5,ut,1,2,"input",7),s.Pb()),2&e){const e=s.cc();s.Ab(1),s.Bb("for",e.id),s.Ab(1),s.wc(" ",e.schema.title," "),s.Ab(1),s.ic("ngIf",e.schema.description),s.Ab(1),s.ic("name",e.name)("formControl",e.control),s.Bb("readonly",!("color"===e.schema.widget.id||!e.schema.readOnly)||null)("type",e.schema.widget.id&&"string"!==e.schema.widget.id?e.schema.widget.id:"text")("id",e.id)("placeholder",e.schema.placeholder)("maxLength",e.schema.maxLength||null)("minLength",e.schema.minLength||null)("required",e.schema.isRequired||null)("disabled",!("color"!=e.schema.widget.id||!e.schema.readOnly)||null),s.Ab(1),s.ic("ngIf","color"===e.schema.widget.id&&e.schema.readOnly)}}let ht=(()=>{let e=class{constructor(){this.actions={}}clear(){this.actions={}}register(e,t){this.actions[e]=t}get(e){return this.actions[e]}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Gb({token:e,factory:e.\u0275fac}),e})();class pt{constructor(e,t,n,i,r,s){this.validatorRegistry=t,this.schema=i,this._value=null,this._errors=null,this._valueChanges=new be.a(null),this._errorsChanges=new be.a(null),this._visible=!0,this._visibilityChanges=new be.a(!0),this.schemaValidator=e.createValidatorFn(this.schema),this.expressionCompilerVisibiltyIf=n.createExpressionCompilerVisibilityIf(),this._parent=r,r?this._root=r.root:this instanceof ft&&(this._root=this,this._rootName=this.createRootName()),this._path=s}get _canonicalPath(){return this.__canonicalPath}set _canonicalPath(e){this.__canonicalPath=e,this.__canonicalPathNotation=(this.__canonicalPath||"").replace(new RegExp("^/","ig"),"").replace(new RegExp("/$","ig"),"").replace(new RegExp("/","ig"),".")}get canonicalPathNotation(){return this.__canonicalPathNotation}get rootName(){return this._rootName}createRootName(){return this.schema&&this.schema.name?this._rootName=this.schema.name.replace(new RegExp("[\\s]+","ig"),"_"):""}get valueChanges(){return this._valueChanges}get errorsChanges(){return this._errorsChanges}get type(){return this.schema.type}get parent(){return this._parent}get root(){return this._root||this}get path(){return this._path}get value(){return this._value}get visible(){return this._visible}get valid(){return null===this._errors}updateValueAndValidity(e=!1,t=!0){this._updateValue(),t&&this.valueChanges.next(this.value),this._runValidation(),this.parent&&!e&&this.parent.updateValueAndValidity(e,t)}_runValidation(){let e=this.schemaValidator(this._value)||[],t=this.validatorRegistry.get(this.path);if(t){let n=t(this.value,this,this.findRoot());e=this.mergeErrors(e,n)}0===e.length&&(e=null),this._errors=e,this.setErrors(this._errors)}mergeErrors(e,t){return t&&(Array.isArray(t)?e=e.concat(...t):e.push(t)),e}setErrors(e){this._errors=e,this._errorsChanges.next(e)}extendErrors(e){e=this.mergeErrors(this._errors||[],e),this.setErrors(e)}searchProperty(e){let t=this,n=null,i=null;if("/"===e[0])n=this.findRoot(),i=n.getProperty(e.substr(1));else for(;null===i&&null!==t.parent;)t=n=t.parent,i=n.getProperty(e);return i}findRoot(){let e=this;for(;null!==e.parent;)e=e.parent;return e}setVisible(e){this._visible=e,this._visibilityChanges.next(e),this.updateValueAndValidity(),this.parent&&this.parent.updateValueAndValidity(!1,!0)}__evaluateVisibilityIf(e,t,n,i="",r=""){try{let n=!1;if(isNaN(r)&&-1!==r.indexOf("$ANY$"))n=i&&i.length>0;else if(0===(r||[]).toString().indexOf("$EXP$")){const i=Array.isArray(r)?r:r?[r]:[];for(const r of i){const i=r.substring("$EXP$".length);if(n=!0===this.expressionCompilerVisibiltyIf.evaluate(i,{source:e,target:t}),n)break}}else n=!!i&&r.toString()===i;return n}catch(s){console.error('Error processing "VisibileIf" expression for path: ',n,`source - ${e._canonicalPath}: `,e,`target - ${t._canonicalPath}: `,t,"value:",i,"expression: ",r,"error: ",s)}}__bindVisibility(){const e=this.schema.visibleIf,t=(e||{}).oneOf||(e||{}).allOf;if(t){for(const e of t)if("object"==typeof e&&0===Object.keys(e).length)this.setVisible(!1);else if(void 0!==e){const t=[];for(const n in e)if(e.hasOwnProperty(n)){const i=this.findProperties(this,n);if((i||[]).length){for(const r of i)if(r){let i;if(this.schema.visibleIf.oneOf)i=r.valueChanges.pipe(Object(c.a)(t=>this.__evaluateVisibilityIf(this,r,n,t,e[n])));else if(this.schema.visibleIf.allOf){const e=e=>{for(const t of this.schema.visibleIf.allOf)for(const e of Object.keys(t)){const i=this.searchProperty(e);if(!this.__evaluateVisibilityIf(this,i,n,i.value,t[e]))return!1}return!0};i=r.valueChanges.pipe(Object(c.a)(e))}const s=r._visibilityChanges,o=Object(ve.a)([i,s],(e,t)=>e&&t);t.push(o)}}else console.warn("Can't find property "+n+" for visibility check of "+this.path),this.registerMissingVisibilityBinding(n,this),this.setVisible(!1)}Object(ve.a)(t,(...e)=>-1!==e.indexOf(!0)).pipe(Oe()).subscribe(e=>{this.setVisible(e)})}return!0}}_bindVisibility(){if(this.__bindVisibility())return;let e=this.schema.visibleIf;if("object"==typeof e&&0===Object.keys(e).length)this.setVisible(!1);else if(void 0!==e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){const i=this.findProperties(this,n);if((i||[]).length){for(const r of i)if(r){const i=r.valueChanges.pipe(Object(c.a)(t=>this.__evaluateVisibilityIf(this,r,n,t,e[n]))),s=r._visibilityChanges,o=Object(ve.a)([i,s],(e,t)=>e&&t);t.push(o)}}else console.warn("Can't find property "+n+" for visibility check of "+this.path),this.registerMissingVisibilityBinding(n,this),this.setVisible(!1)}Object(ve.a)(t,(...e)=>-1!==e.indexOf(!0)).pipe(Oe()).subscribe(e=>{this.setVisible(e)})}}registerMissingVisibilityBinding(e,t){t._propertyBindingRegistry.getPropertyBindingsVisibility().add(e,t.path)}findProperties(e,t){const n=[],i=this.findPropertyPaths(e,t);for(const r of i){const t=e.searchProperty(r);t&&n.push(t)}return n}findPropertyPaths(e,t,n){const i=t.indexOf("*");if(-1!==i){const r=i>-1?t.substring(0,i-1):t,s=i>-1?t.substring(i+1):t,o=e.searchProperty(r);let a=[];if(o instanceof ft){const e=o.properties;for(let t=0;t<e.length;t++){const i=(n||"")+r+(r.endsWith("/")?"":"/")+t+s,o=(n||"")+r+t;-1===i.indexOf("*")&&a.push(i);const l=this.findPropertyPaths(e[t],s,o);a=a.concat(l)}}return a}return[t]}}class ft extends pt{constructor(){super(...arguments),this._properties=null,this._propertyProxyHandler={set(e,t,n,i){const{property:r,children:s}=(n=>{const i=n;if(Array.isArray(e)&&n instanceof pt){const e=(e,t)=>{let n;if(e&&-1!==(n=e.lastIndexOf("*")))return e.substring(0,n)+t.toString()+e.substring(n+1)};i&&(i._canonicalPath=e(i._canonicalPath,t))}const r=i,s=Array.isArray(r.properties)?r.properties:Object.values(r.properties||{});if((i.path||"").endsWith("/*"))for(const e of s)e._canonicalPath=i._canonicalPath+e._canonicalPath.substring(i.path.length);return{property:i,children:s}})(n),o=e[t]=n;return(()=>{const e=[r].concat(s),t=e=>{const t=e._propertyBindingRegistry.getPropertyBindingsVisibility();let n=[];e._canonicalPath&&(n=n.concat(n.concat(t.findByDependencyPath(e._canonicalPath)||[])),e._canonicalPath.startsWith("/")&&(n=n.concat(n.concat(t.findByDependencyPath(e._canonicalPath.substring(1))||[])))),n=n.concat(t.findByDependencyPath(e.path)||[]),e.path.startsWith("/")&&(n=n.concat(n.concat(t.findByDependencyPath(e.path.substring(1))||[])));const i={};for(const r of n)i[r]=r;return Object.keys(i)};for(const i of e)if(i instanceof pt)try{const e=t(i);for(const t of e)i.searchProperty(t)._bindVisibility()}catch(n){console.error("Rebinding visibility error at path:",i.path,"property:",i,n)}})(),o},get:(e,t,n)=>e[t],deleteProperty:(e,t)=>delete e[t]}}get properties(){return this._properties}set properties(e){this._properties=new Proxy(e,this._propertyProxyHandler)}getProperty(e){let t=e.indexOf("/"),n=-1!==t?e.substr(0,t):e,i=this.properties[n];if(null!==i&&-1!==t&&i instanceof ft){let n=e.substr(t+1);i=i.getProperty(n)}return i}forEachChild(e){for(let t in this.properties)this.properties.hasOwnProperty(t)&&e(this.properties[t],t)}forEachChildRecursive(e){this.forEachChild(t=>{e(t),t instanceof ft&&t.forEachChildRecursive(e)})}_bindVisibility(){super._bindVisibility(),this._bindVisibilityRecursive()}_bindVisibilityRecursive(){this.forEachChildRecursive(e=>{e._bindVisibility()})}isRoot(){return this===this.root}}const mt={};let gt=(()=>{let e=class{constructor(){this.bindings=[]}clear(){this.bindings=[]}register(e,t){this.bindings[e]=[].concat(t)}get(e){return this.bindings[e]}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Gb({token:e,factory:e.\u0275fac}),e})();class yt{reset(){}}let bt=(()=>{let e=class extends yt{constructor(){super(),this.createSchemaValidator()}createSchemaValidator(){this.zschema=new Te({breakOnFirstError:!1})}reset(){this.createSchemaValidator()}createValidatorFn(e){return t=>{"number"!==e.type&&"integer"!==e.type||(t=+t),this.zschema.validate(t,e);let n=this.zschema.getLastErrors();return this.denormalizeRequiredPropertyPaths(n),n||null}}getSchema(e,t){if(this.zschema.compileSchema(e))return this.getDefinition(e,t);throw this.zschema.getLastError()}denormalizeRequiredPropertyPaths(e){e&&e.length&&(e=e.map(e=>("#/"===e.path&&"OBJECT_MISSING_REQUIRED_PROPERTY"===e.code&&(e.path=`${e.path}${e.params[0]}`),e)))}getDefinition(e,t){let n=e;return t.split("/").slice(1).forEach(e=>{e&&(n=n[e])}),n}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Gb({token:e,factory:e.\u0275fac}),e})();class vt{constructor(){this.widgets={}}setDefaultWidget(e){this.defaultWidget=e}getDefaultWidget(){return this.defaultWidget}hasWidget(e){return this.widgets.hasOwnProperty(e)}register(e,t){this.widgets[e]=t}getWidgetType(e){return this.hasWidget(e)?this.widgets[e]:this.defaultWidget}}let _t=(()=>{let e=class{constructor(e,t){this.registry=e,this.resolver=t}createWidget(e,t){let n=this.registry.getWidgetType(t),i=this.resolver.resolveComponentFactory(n);return e.createComponent(i)}};return e.\u0275fac=function(t){return new(t||e)(s.Ub(vt),s.Ub(s.j))},e.\u0275prov=s.Gb({token:e,factory:e.\u0275fac}),e})(),Et=(()=>{let e=class{constructor(){this.onDestroy=new _e.a}destroy(){this.onDestroy.next(!0)}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Gb({token:e,factory:e.\u0275fac}),e})();class wt{}class Ot{evaluate(e,t={}){return(new Ce.Jexl).evalSync(e,t)}}class Pt{evaluate(e,t={source:{},target:{}}){return(new Ce.Jexl).evalSync(e,t)}}var At;let Tt=(()=>{let e=At=class{constructor(e,t,n,i){this.actionRegistry=e,this.bindingRegistry=t,this.renderer=n,this.elementRef=i,this.control=new oe("",()=>null),this.widget=null,this.buttons=[],this.unlisten=[]}ngOnInit(){this.parseButtons(),this.setupBindings()}setupBindings(){const e=this.bindingRegistry.get(this.formProperty.path);(e||[]).length&&e.forEach(e=>{for(const t in e)this.createBinding(t,e[t])})}createBinding(e,t){this.unlisten.push(this.renderer.listen(this.elementRef.nativeElement,e,n=>{t instanceof Function?t(n,this.formProperty):console.warn("Calling non function handler for eventId "+e+" for path "+this.formProperty.path)}))}parseButtons(){if(void 0!==this.formProperty.schema.buttons){this.buttons=this.formProperty.schema.buttons;for(let e of this.buttons)this.createButtonCallback(e)}}createButtonCallback(e){e.action=t=>{let n;e.id&&(n=this.actionRegistry.get(e.id))&&n&&n(this.formProperty,e.parameters),t.preventDefault()}}onWidgetInstanciated(e){this.widget=e;let t=this.formProperty.canonicalPathNotation||"field"+At.counter++;this.formProperty.root.rootName&&(t=`${this.formProperty.root.rootName}:${t}`),this.widget.formProperty=this.formProperty,this.widget.schema=this.formProperty.schema,this.widget.name=t,this.widget.id=t,this.widget.control=this.control}ngOnDestroy(){this.unlisten&&this.unlisten.forEach(e=>{e()})}};return e.\u0275fac=function(t){return new(t||e)(s.Kb(ht),s.Kb(gt),s.Kb(s.D),s.Kb(s.l))},e.\u0275cmp=s.Eb({type:e,selectors:[["sf-form-element"]],inputs:{formProperty:"formProperty"},decls:1,vars:1,consts:[[3,"has-error","has-success",4,"ngIf"],[3,"widgetInfo","widgetInstanciated"],[3,"button","formProperty",4,"ngFor","ngForOf"],[3,"button","formProperty"]],template:function(e,t){1&e&&s.sc(0,xe,3,6,"div",0),2&e&&s.ic("ngIf",t.formProperty.visible)},directives:function(){return[i.k,kt,i.j,Ct]},encapsulation:2}),e.counter=0,e})(),Ct=(()=>{let e=class{constructor(e=null,t){this.widgetFactory=e,this.terminator=t}ngOnInit(){this.subs=this.terminator.onDestroy.subscribe(e=>{e&&this.ref.destroy()})}ngOnChanges(){this.ref=this.widgetFactory.createWidget(this.container,this.button.widget||"button"),this.ref.instance.button=this.button,this.ref.instance.formProperty=this.formProperty}ngOnDestroy(){this.subs.unsubscribe()}};return e.\u0275fac=function(t){return new(t||e)(s.Kb(_t),s.Kb(Et))},e.\u0275cmp=s.Eb({type:e,selectors:[["sf-form-element-action"]],viewQuery:function(e,t){var n;1&e&&s.qc(Se,!0,s.O),2&e&&s.lc(n=s.Zb())&&(t.container=n.first)},inputs:{button:"button",formProperty:"formProperty"},features:[s.yb],decls:2,vars:0,consts:[["target",""]],template:function(e,t){1&e&&s.sc(0,Me,0,0,"ng-template",null,0,s.tc)},encapsulation:2}),e})(),kt=(()=>{let e=class{constructor(e=null,t,n){this.widgetFactory=e,this.cdr=t,this.terminator=n,this.widgetInstanciated=new s.n}ngOnInit(){this.subs=this.terminator.onDestroy.subscribe(e=>{e&&this.ref.destroy()})}ngOnChanges(){this.ref=this.widgetFactory.createWidget(this.container,this.widgetInfo.id),this.widgetInstanciated.emit(this.ref.instance),this.widgetInstance=this.ref.instance,this.cdr.detectChanges()}ngOnDestroy(){this.subs.unsubscribe()}};return e.\u0275fac=function(t){return new(t||e)(s.Kb(_t),s.Kb(s.h),s.Kb(Et))},e.\u0275cmp=s.Eb({type:e,selectors:[["sf-widget-chooser"]],viewQuery:function(e,t){var n;1&e&&s.qc(Se,!0,s.O),2&e&&s.lc(n=s.Zb())&&(t.container=n.first)},inputs:{widgetInfo:"widgetInfo"},outputs:{widgetInstanciated:"widgetInstanciated"},features:[s.yb],decls:2,vars:0,consts:[["target",""]],template:function(e,t){1&e&&s.Lb(0,"div",null,0)},encapsulation:2}),e})();class xt extends pt{setValue(e,t=!1){this._value=e,this.updateValueAndValidity(t,!0)}reset(e=null,t=!0){this.resetValue(e),this.updateValueAndValidity(t,!0)}resetValue(e){null===e&&(e=void 0!==this.schema.default?this.schema.default:this.fallbackValue()),this._value=e}_hasValue(){return this.fallbackValue()!==this.value}_updateValue(){}}class St extends ft{constructor(e,t,n,i,r,s,o){super(t,n,i,r,s,o),this.formPropertyFactory=e,this.propertiesId=[],this.createProperties()}setValue(e,t){for(const n in e)e.hasOwnProperty(n)&&this.properties[n].setValue(e[n],!0);this.updateValueAndValidity(t,!0)}reset(e,t=!0){this.resetProperties(e=e||this.schema.default||{}),this.updateValueAndValidity(t,!0)}resetProperties(e){for(const t in this.schema.properties)this.schema.properties.hasOwnProperty(t)&&this.properties[t].reset(e[t],!0)}createProperties(){this.properties={},this.propertiesId=[];for(const e in this.schema.properties)this.schema.properties.hasOwnProperty(e)&&(this.properties[e]=this.formPropertyFactory.createProperty(this.schema.properties[e],this,e),this.propertiesId.push(e))}_hasValue(){return!!Object.keys(this.value).length}_updateValue(){this.reduceValue()}_runValidation(){super._runValidation(),this._errors&&this._errors.forEach(e=>{const t=this.searchProperty(e.path.slice(1));t&&t.extendErrors(e)})}reduceValue(){const e={};this.forEachChild((t,n)=>{t.visible&&t._hasValue()&&(e[n]=t.value)}),this._value=e}}mt.object=(e,t,n,i,r,s,o)=>new St(o,e,t,n,i,r,s);class Mt extends ft{constructor(e,t,n,i,r,s,o){super(t,n,i,r,s,o),this.formPropertyFactory=e}addItem(e=null){let t=this.addProperty();return t.reset(e,!1),t}addProperty(){let e=this.formPropertyFactory.createProperty(this.schema.items,this);return this.properties.push(e),e}removeItem(e){this.properties=this.properties.filter(t=>t!==e),this.updateValueAndValidity(!1,!0)}setValue(e,t){this.createProperties(),this.resetProperties(e),this.updateValueAndValidity(t,!0)}_hasValue(){return!0}_updateValue(){this.reduceValue()}reduceValue(){const e=[];this.forEachChild((t,n)=>{t.visible&&t._hasValue()&&e.push(t.value)}),this._value=e}reset(e,t=!0){e=e||this.schema.default||[],this.properties=[],this.resetProperties(e),this.updateValueAndValidity(t,!0)}createProperties(){this.properties=[]}resetProperties(e){for(let t in e)e.hasOwnProperty(t)&&this.addProperty().reset(e[t],!0)}}mt.array=(e,t,n,i,r,s,o)=>new Mt(o,e,t,n,i,r,s);class It extends xt{fallbackValue(){return""}}mt.string=(e,t,n,i,r,s)=>new It(e,t,n,i,r,s);class jt extends xt{fallbackValue(){return null}}mt.boolean=(e,t,n,i,r,s)=>new jt(e,t,n,i,r,s);class Rt extends xt{fallbackValue(){return null}setValue(e,t=!1){"string"==typeof e&&(e=e.length?e.indexOf(".")>-1?parseFloat(e):parseInt(e,10):null),this._value=e,this.updateValueAndValidity(t,!0)}}mt.integer=(e,t,n,i,r,s)=>new Rt(e,t,n,i,r,s),mt.number=(e,t,n,i,r,s)=>new Rt(e,t,n,i,r,s);let Nt=(()=>{class e{constructor(){this.id="",this.name="",this.schema={}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=s.Fb({type:e}),e})(),Vt=(()=>{class e extends Nt{ngAfterViewInit(){const e=this.control;this.formProperty.valueChanges.subscribe(t=>{e.value!==t&&e.setValue(t,{emitEvent:!1})}),this.formProperty.errorsChanges.subscribe(t=>{e.setErrors(t,{emitEvent:!0});const n=(t||[]).filter(e=>e.path&&e.path.slice(1)===this.formProperty.path).map(e=>e.message);this.errorMessages=n.filter((e,t)=>n.indexOf(e)===t)}),e.valueChanges.subscribe(e=>{this.formProperty.setValue(e,!1)})}}return e.\u0275fac=function(t){return tn(t||e)},e.\u0275dir=s.Fb({type:e,features:[s.xb]}),e})(),Lt=(()=>{class e extends Nt{ngAfterViewInit(){const e=this.control;this.formProperty.errorsChanges.subscribe(t=>{e.setErrors(t,{emitEvent:!0})})}}return e.\u0275fac=function(t){return nn(t||e)},e.\u0275dir=s.Fb({type:e,features:[s.xb]}),e})(),Dt=(()=>{class e extends Nt{ngAfterViewInit(){const e=this.control;this.formProperty.errorsChanges.subscribe(t=>{e.setErrors(t,{emitEvent:!0})})}}return e.\u0275fac=function(t){return rn(t||e)},e.\u0275dir=s.Fb({type:e,features:[s.xb]}),e})(),$t=(()=>{let e=class extends Lt{addItem(){this.formProperty.addItem(),this.updateButtonDisabledState()}removeItem(e){this.formProperty.removeItem(e),this.updateButtonDisabledState()}trackByIndex(e,t){return e}updateButtonDisabledState(){this.buttonDisabledAdd=this.isAddButtonDisabled(),this.buttonDisabledRemove=this.isRemoveButtonDisabled()}isAddButtonDisabled(){return!!(this.schema.hasOwnProperty("maxItems")&&Array.isArray(this.formProperty.properties)&&this.formProperty.properties.length>=this.schema.maxItems)}isRemoveButtonDisabled(){return!!(this.schema.hasOwnProperty("minItems")&&Array.isArray(this.formProperty.properties)&&this.formProperty.properties.length<=this.schema.minItems)}};return e.\u0275fac=function(t){return sn(t||e)},e.\u0275cmp=s.Eb({type:e,selectors:[["sf-array-widget"]],features:[s.xb],decls:6,vars:5,consts:[[1,"widget","form-group"],[1,"horizontal","control-label"],["class","formHelp",4,"ngIf"],[4,"ngFor","ngForOf"],["class","btn btn-default array-add-button",3,"disabled","click",4,"ngIf"],[1,"formHelp"],[3,"formProperty"],["class","btn btn-default array-remove-button",3,"disabled","click",4,"ngIf"],[1,"btn","btn-default","array-remove-button",3,"disabled","click"],["aria-hidden","true",1,"glyphicon","glyphicon-minus"],[1,"btn","btn-default","array-add-button",3,"disabled","click"],["aria-hidden","true",1,"glyphicon","glyphicon-plus"]],template:function(e,t){1&e&&(s.Qb(0,"div",0),s.Qb(1,"label",1),s.uc(2),s.Pb(),s.sc(3,Ie,2,1,"span",2),s.sc(4,Re,3,2,"div",3),s.sc(5,Ne,3,1,"button",4),s.Pb()),2&e&&(s.Ab(1),s.Bb("for",t.id),s.Ab(1),s.wc(" ",t.schema.title," "),s.Ab(1),s.ic("ngIf",t.schema.description),s.Ab(1),s.ic("ngForOf",t.formProperty.properties),s.Ab(1),s.ic("ngIf",!(t.schema.hasOwnProperty("minItems")&&t.schema.hasOwnProperty("maxItems")&&t.schema.minItems===t.schema.maxItems)))},directives:[i.k,i.j,Tt],encapsulation:2}),e})(),Ft=(()=>{let e=class{};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Eb({type:e,selectors:[["sf-button-widget"]],decls:2,vars:1,consts:[[3,"click"]],template:function(e,t){1&e&&(s.Qb(0,"button",0),s.Yb("click",(function(e){return t.button.action(e)})),s.uc(1),s.Pb()),2&e&&(s.Ab(1),s.vc(t.button.label))},encapsulation:2}),e})(),Ut=(()=>{let e=class extends Dt{};return e.\u0275fac=function(t){return on(t||e)},e.\u0275cmp=s.Eb({type:e,selectors:[["sf-form-object"]],features:[s.xb],decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"formProperty"]],template:function(e,t){1&e&&s.sc(0,$e,4,3,"fieldset",0),2&e&&s.ic("ngForOf",t.formProperty.schema.fieldsets)},directives:[i.j,i.k,Tt],encapsulation:2}),e})(),Bt=(()=>{let e=class extends Vt{constructor(){super(...arguments),this.checked={}}ngAfterViewInit(){const e=this.control;this.formProperty.valueChanges.subscribe(t=>{e.value!==t&&(e.setValue(t,{emitEvent:!1}),t&&Array.isArray(t)&&t.map(e=>this.checked[e]=!0))}),this.formProperty.errorsChanges.subscribe(t=>{e.setErrors(t,{emitEvent:!0})}),e.valueChanges.subscribe(e=>{this.formProperty.setValue(e,!1)})}onCheck(e){e.checked?this.checked[e.value]=!0:delete this.checked[e.value],this.formProperty.setValue(Object.keys(this.checked),!1)}};return e.\u0275fac=function(t){return an(t||e)},e.\u0275cmp=s.Eb({type:e,selectors:[["sf-checkbox-widget"]],features:[s.xb],decls:5,vars:4,consts:[[1,"widget","form-group"],[1,"horizontal","control-label"],["class","checkbox",4,"ngIf"],[4,"ngIf"],[1,"checkbox"],["type","checkbox",3,"formControl","indeterminate","disabled"],["type","hidden",3,"formControl",4,"ngIf"],["type","hidden",3,"formControl"],["class","checkbox",4,"ngFor","ngForOf"],["type","checkbox",3,"value","change"]],template:function(e,t){1&e&&(s.Qb(0,"div",0),s.Qb(1,"label",1),s.uc(2),s.Pb(),s.sc(3,Ue,5,7,"div",2),s.sc(4,He,2,1,"ng-container",3),s.Pb()),2&e&&(s.Ab(1),s.Bb("for",t.id),s.Ab(1),s.wc(" ",t.schema.title," "),s.Ab(1),s.ic("ngIf","array"!=t.schema.type),s.Ab(1),s.ic("ngIf","array"===t.schema.type))},directives:[i.k,m,w,de,b,i.j],encapsulation:2}),e})(),Ht=(()=>{let e=class extends Vt{constructor(){super(),this.reader=new FileReader,this.filedata={}}ngAfterViewInit(){const e=this.control;this.formProperty.errorsChanges.subscribe(t=>{e.setErrors(t,{emitEvent:!0})}),this.reader.onloadend=()=>{this.filedata.data=window.btoa(this.reader.result),this.formProperty.setValue(this.filedata,!1)}}onFileChange(e){const t=e.target.files[0];this.filedata.filename=t.name,this.filedata.size=t.size,this.filedata["content-type"]=t.type,this.filedata.encoding="base64",this.reader.readAsBinaryString(t)}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Eb({type:e,selectors:[["sf-file-widget"]],features:[s.xb],decls:6,vars:8,consts:[[1,"widget","form-group"],[1,"horizontal","control-label"],["class","formHelp",4,"ngIf"],["type","file",1,"text-widget","file-widget",3,"name","formControl","change"],["type","hidden",3,"formControl",4,"ngIf"],[1,"formHelp"],["type","hidden",3,"formControl"]],template:function(e,t){1&e&&(s.Qb(0,"div",0),s.Qb(1,"label",1),s.uc(2),s.Pb(),s.sc(3,Ke,2,1,"span",2),s.Qb(4,"input",3),s.Yb("change",(function(e){return t.onFileChange(e)})),s.Pb(),s.sc(5,We,1,2,"input",4),s.Pb()),2&e&&(s.Ab(1),s.Bb("for",t.id),s.Ab(1),s.wc(" ",t.schema.title," "),s.Ab(1),s.ic("ngIf",t.schema.description),s.Ab(1),s.ic("name",t.name)("formControl",t.control),s.Bb("id",t.id)("disabled",!!t.schema.readOnly||null),s.Ab(1),s.ic("ngIf",t.schema.readOnly))},directives:[i.k,b,w,de],encapsulation:2}),e})(),Kt=(()=>{let e=class extends Vt{};return e.\u0275fac=function(t){return ln(t||e)},e.\u0275cmp=s.Eb({type:e,selectors:[["sf-integer-widget"]],features:[s.xb],decls:5,vars:13,consts:[[1,"widget","form-group"],[1,"horizontal","control-label"],["class","formHelp",4,"ngIf"],[1,"text-widget","integer-widget","form-control",3,"formControl"],[1,"formHelp"]],template:function(e,t){1&e&&(s.Qb(0,"div",0),s.Qb(1,"label",1),s.uc(2),s.Pb(),s.sc(3,qe,2,1,"span",2),s.Lb(4,"input",3),s.Pb()),2&e&&(s.Ab(1),s.Bb("for",t.id),s.Ab(1),s.wc(" ",t.schema.title," "),s.Ab(1),s.ic("ngIf",t.schema.description),s.Ab(1),s.ic("formControl",t.control),s.Bb("readonly",!!t.schema.readOnly||null)("name",t.name)("id",t.id)("type","number")("min",t.schema.minimum)("max",t.schema.maximum)("placeholder",t.schema.placeholder)("maxLength",t.schema.maxLength||null)("minLength",t.schema.minLength||null))},directives:[i.k,b,w,de],encapsulation:2}),e})(),Wt=(()=>{let e=class extends Vt{};return e.\u0275fac=function(t){return cn(t||e)},e.\u0275cmp=s.Eb({type:e,selectors:[["sf-textarea-widget"]],features:[s.xb],decls:5,vars:10,consts:[[1,"widget","form-group"],[1,"horizontal","control-label"],["class","formHelp",4,"ngIf"],[1,"text-widget","textarea-widget","form-control",3,"readonly","name","formControl"],[1,"formHelp"]],template:function(e,t){1&e&&(s.Qb(0,"div",0),s.Qb(1,"label",1),s.uc(2),s.Pb(),s.sc(3,Ye,2,1,"span",2),s.Lb(4,"textarea",3),s.Pb()),2&e&&(s.Ab(1),s.Bb("for",t.id),s.Ab(1),s.wc(" ",t.schema.title," "),s.Ab(1),s.ic("ngIf",t.schema.description),s.Ab(1),s.ic("readonly",t.schema.readOnly)("name",t.name)("formControl",t.control),s.Bb("id",t.id)("placeholder",t.schema.placeholder)("maxLength",t.schema.maxLength||null)("minLength",t.schema.minLength||null))},directives:[i.k,b,w,de],encapsulation:2}),e})(),qt=(()=>{let e=class extends Vt{};return e.\u0275fac=function(t){return un(t||e)},e.\u0275cmp=s.Eb({type:e,selectors:[["sf-radio-widget"]],features:[s.xb],decls:6,vars:4,consts:[[1,"widget","form-group"],["class","formHelp",4,"ngIf"],["class","radio",4,"ngFor","ngForOf"],["type","hidden",3,"formControl",4,"ngIf"],[1,"formHelp"],[1,"radio"],[1,"horizontal","control-label"],["type","radio",3,"formControl","value","disabled"],["type","hidden",3,"formControl"]],template:function(e,t){1&e&&(s.Qb(0,"div",0),s.Qb(1,"label"),s.uc(2),s.Pb(),s.sc(3,ze,2,1,"span",1),s.sc(4,Ge,4,6,"div",2),s.sc(5,Ze,1,2,"input",3),s.Pb()),2&e&&(s.Ab(2),s.vc(t.schema.title),s.Ab(1),s.ic("ngIf",t.schema.description),s.Ab(1),s.ic("ngForOf",t.schema.oneOf),s.Ab(1),s.ic("ngIf",t.schema.readOnly))},directives:[i.k,i.j,L,b,w,de],encapsulation:2}),e})(),Yt=(()=>{let e=class extends Vt{};return e.\u0275fac=function(t){return dn(t||e)},e.\u0275cmp=s.Eb({type:e,selectors:[["sf-range-widget"]],features:[s.xb],decls:6,vars:11,consts:[[1,"widget","form-group"],[1,"horizontal","control-label"],["class","formHelp",4,"ngIf"],[1,"text-widget","range-widget",3,"name","formControl","disabled"],["type","hidden",4,"ngIf"],[1,"formHelp"],["type","hidden"]],template:function(e,t){1&e&&(s.Qb(0,"div",0),s.Qb(1,"label",1),s.uc(2),s.Pb(),s.sc(3,Qe,2,1,"span",2),s.Lb(4,"input",3),s.sc(5,Xe,1,1,"input",4),s.Pb()),2&e&&(s.Ab(1),s.Bb("for",t.id),s.Ab(1),s.wc(" ",t.schema.title," "),s.Ab(1),s.ic("ngIf",t.schema.description),s.Ab(1),s.ic("name",t.name)("formControl",t.control)("disabled",!!t.schema.readOnly||null),s.Bb("id",t.id)("type","range")("min",t.schema.minimum)("max",t.schema.maximum),s.Ab(1),s.ic("ngIf",t.schema.readOnly))},directives:[i.k,b,w,de],encapsulation:2}),e})(),zt=(()=>{let e=class extends Vt{};return e.\u0275fac=function(t){return hn(t||e)},e.\u0275cmp=s.Eb({type:e,selectors:[["sf-select-widget"]],features:[s.xb],decls:7,vars:6,consts:[[1,"widget","form-group"],[1,"horizontal","control-label"],["class","formHelp",4,"ngIf"],["class","form-control",3,"formControl","disabled","disableControl",4,"ngIf"],["multiple","","class","form-control",3,"formControl","disabled","disableControl",4,"ngIf"],["type","hidden",3,"formControl",4,"ngIf"],[1,"formHelp"],[1,"form-control",3,"formControl","disabled","disableControl"],[4,"ngIf","ngIfElse"],["use_enum",""],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],["multiple","",1,"form-control",3,"formControl","disabled","disableControl"],[3,"ngValue","disabled",4,"ngFor","ngForOf"],[3,"ngValue","disabled"],["type","hidden",3,"formControl"]],template:function(e,t){1&e&&(s.Qb(0,"div",0),s.Qb(1,"label",1),s.uc(2),s.Pb(),s.sc(3,Je,2,1,"span",2),s.sc(4,rt,4,7,"select",3),s.sc(5,ot,2,6,"select",4),s.sc(6,at,1,2,"input",5),s.Pb()),2&e&&(s.Ab(1),s.Bb("for",t.id),s.Ab(1),s.wc(" ",t.schema.title," "),s.Ab(1),s.ic("ngIf",t.schema.description),s.Ab(1),s.ic("ngIf","array"!=t.schema.type),s.Ab(1),s.ic("ngIf","array"===t.schema.type),s.Ab(1),s.ic("ngIf",t.schema.readOnly))},directives:function(){return[i.k,W,w,de,Qt,i.j,q,Z,G,b]},encapsulation:2}),e})(),Gt=(()=>{let e=class extends Vt{getInputType(){return this.schema.widget.id&&"string"!==this.schema.widget.id?this.schema.widget.id:"text"}};return e.\u0275fac=function(t){return pn(t||e)},e.\u0275cmp=s.Eb({type:e,selectors:[["sf-string-widget"]],features:[s.xb],decls:3,vars:2,consts:[["type","hidden",3,"formControl",4,"ngIf","ngIfElse"],["notHiddenFieldBlock",""],["type","hidden",3,"formControl"],[1,"widget","form-group"],[1,"horizontal","control-label"],["class","formHelp",4,"ngIf"],[1,"text-widget.id","textline-widget","form-control",3,"name","formControl"],["type","hidden",3,"formControl",4,"ngIf"],[1,"formHelp"]],template:function(e,t){if(1&e&&(s.sc(0,lt,1,2,"input",0),s.sc(1,dt,6,14,"ng-template",null,1,s.tc)),2&e){const e=s.mc(2);s.ic("ngIf","hidden"===t.schema.widget.id)("ngIfElse",e)}},directives:[i.k,b,w,de,pe],encapsulation:2}),e})(),Zt=(()=>{let e=class extends vt{constructor(){super(),this.register("array",$t),this.register("object",Ut),this.register("string",Gt),this.register("search",Gt),this.register("tel",Gt),this.register("url",Gt),this.register("email",Gt),this.register("password",Gt),this.register("color",Gt),this.register("date",Gt),this.register("date-time",Gt),this.register("time",Gt),this.register("integer",Kt),this.register("number",Kt),this.register("range",Yt),this.register("textarea",Wt),this.register("file",Ht),this.register("select",zt),this.register("radio",qt),this.register("boolean",Bt),this.register("checkbox",Bt),this.register("button",Ft),this.setDefaultWidget(Gt)}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Gb({token:e,factory:e.\u0275fac}),e})(),Qt=(()=>{let e=class{constructor(e){this.ngControl=e}set disableControl(e){this.ngControl.control[e?"disable":"enable"]()}};return e.\u0275fac=function(t){return new(t||e)(s.Kb(E))},e.\u0275dir=s.Fb({type:e,selectors:[["","disableControl",""]],inputs:{disableControl:"disableControl"}}),e})();var Xt;const Jt=[{provide:vt,useClass:Zt},{provide:yt,useClass:bt},{provide:wt,useClass:class extends wt{createExpressionCompiler(){return new Ot}createExpressionCompilerVisibilityIf(){return new Pt}}}];let en=(()=>{let e=Xt=class{static forRoot(){return{ngModule:Xt,providers:[...Jt]}}};return e.\u0275mod=s.Ib({type:e}),e.\u0275inj=s.Hb({factory:function(t){return new(t||e)},imports:[[i.c,ge,ye]]}),e})();const tn=s.Sb(Vt),nn=s.Sb(Lt),rn=s.Sb(Dt),sn=s.Sb($t),on=s.Sb(Ut),an=s.Sb(Bt),ln=s.Sb(Kt),cn=s.Sb(Wt),un=s.Sb(qt),dn=s.Sb(Yt),hn=s.Sb(zt),pn=s.Sb(Gt);let fn=(()=>{class e{}return e.\u0275mod=s.Ib({type:e}),e.\u0275inj=s.Hb({factory:function(t){return new(t||e)},providers:[{provide:vt,useClass:Zt}],imports:[[i.c,ge,en.forRoot(),o]]}),e})();var mn=function(e){return e.Info="INFO",e.Plop="PLOP",e.Audio="AUDIO",e}({});let gn=(()=>{class e{}return e.\u0275mod=s.Ib({type:e}),e.\u0275inj=s.Hb({factory:function(t){return new(t||e)},imports:[[i.c,o,fn]]}),e})();const yn=new s.q("Plopdown Track"),bn=(new s.q("Plopdown Tracks"),new s.q("Track Files")),vn=new s.q("Video Element");new s.q("Video Reference");var _n=n("ATS1"),En=n("f7+R");const wn=Object(En.f)(Object(En.e)("{{ timing }}s {{ delay }}s",Object(En.g)([Object(En.i)({transform:"scale3d(1, 1, 1)",offset:0}),Object(En.i)({transform:"scale3d(1.25, 0.75, 1)",offset:.3}),Object(En.i)({transform:"scale3d(0.75, 1.25, 1)",offset:.4}),Object(En.i)({transform:"scale3d(1.15, 0.85, 1)",offset:.5}),Object(En.i)({transform:"scale3d(.95, 1.05, 1)",offset:.65}),Object(En.i)({transform:"scale3d(1.05, .95, 1)",offset:.75}),Object(En.i)({transform:"scale3d(1, 1, 1)",offset:1})])),{params:{timing:1,delay:0}}),On=Object(En.f)(Object(En.e)("{{ timing }}s {{ delay }}s cubic-bezier(0.215, 0.610, 0.355, 1.000)",Object(En.g)([Object(En.i)({opacity:0,transform:"scale3d(.3, .3, .3)",offset:0}),Object(En.i)({transform:"scale3d(1.1, 1.1, 1.1)",offset:.2}),Object(En.i)({transform:"scale3d(.9, .9, .9)",offset:.4}),Object(En.i)({opacity:1,transform:"scale3d(1.03, 1.03, 1.03)",offset:.6}),Object(En.i)({transform:"scale3d(.97, .97, .97)",offset:.8}),Object(En.i)({opacity:1,transform:"scale3d(1, 1, 1)",offset:1})])),{params:{timing:1,delay:0}});function Pn(e,t){return Object(En.f)(Object(En.e)("{{ timing }}s {{ delay }}s",Object(En.g)([Object(En.i)({opacity:0,transform:"translate3d({{ a }}, 0, 0)",offset:0}),Object(En.i)({opacity:1,transform:"translate3d({{ b }}, 0, 0)",offset:1})])),{params:{timing:1,delay:0,a:e,b:t}})}const An=Pn(0,0);function Tn(e,t){return Object(En.f)(Object(En.e)("{{ timing }}s {{ delay }}s",Object(En.g)([Object(En.i)({opacity:1,transform:"translate3d({{ a }}, 0, 0)",offset:0}),Object(En.i)({opacity:0,transform:"translate3d({{ b }}, 0, 0)",offset:1})])),{params:{timing:1,delay:0,a:e,b:t}})}const Cn=Tn(0,0),kn=Object(En.f)([Object(En.e)("{{ timing }}s {{ delay }}s",Object(En.g)([Object(En.i)({opacity:1,offset:0}),Object(En.i)({opacity:0,transform:"scale3d(.3, .3, .3)",offset:.5}),Object(En.i)({opacity:0,offset:1})]))],{params:{timing:1,delay:0}});var xn=n("ROBh"),Sn=n("IJgj");function Mn(e,t,n,i){return Object(Sn.a)(n)&&(i=n,n=void 0),i?Mn(e,t,n).pipe(Object(c.a)(e=>Object(l.a)(e)?i(...e):i(e))):new a.a(i=>{!function e(t,n,i,r,s){let o;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){const e=t;t.addEventListener(n,i,s),o=()=>e.removeEventListener(n,i,s)}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){const e=t;t.on(n,i),o=()=>e.off(n,i)}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){const e=t;t.addListener(n,i),o=()=>e.removeListener(n,i)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let o=0,a=t.length;o<a;o++)e(t[o],n,i,r,s)}r.add(o)}(e,t,(function(e){i.next(arguments.length>1?Array.prototype.slice.call(arguments):e)}),i,n)})}var In=n("TLy2"),jn=n("bwdy");class Rn extends jn.a{constructor(e,t){super()}schedule(e,t=0){return this}}class Nn extends Rn{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n=!1,i=void 0;try{this.work(e)}catch(r){n=!0,i=!!r&&r||new Error(r)}if(n)return this.unsubscribe(),i}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}class Vn extends Nn{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(e,t,n):e.flush(this)}}let Ln=(()=>{class e{constructor(t,n=e.now){this.SchedulerAction=t,this.now=n}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}return e.now=()=>Date.now(),e})();class Dn extends Ln{constructor(e,t=Ln.now){super(e,()=>Dn.delegate&&Dn.delegate!==this?Dn.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return Dn.delegate&&Dn.delegate!==this?Dn.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}class $n extends Dn{}const Fn=new $n(Vn);var Un=n("6Oco");let Bn=(()=>{class e{constructor(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}accept(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}toObservable(){switch(this.kind){case"N":return Object(xn.a)(this.value);case"E":return e=this.error,new a.a(t=>t.error(e));case"C":return Object(Un.b)()}var e;throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}static createError(t){return new e("E",void 0,t)}static createComplete(){return e.completeNotification}}return e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e})();class Hn extends we.a{constructor(e,t,n=0){super(e),this.scheduler=t,this.delay=n}static dispatch(e){const{notification:t,destination:n}=e;t.observe(n),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(Hn.dispatch,this.delay,new Kn(e,this.destination)))}_next(e){this.scheduleMessage(Bn.createNext(e))}_error(e){this.scheduleMessage(Bn.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(Bn.createComplete()),this.unsubscribe()}}class Kn{constructor(e,t){this.notification=e,this.destination=t}}var Wn=n("MiDb"),qn=n("yTkW");class Yn extends _e.a{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift(),super.next(e)}nextTimeWindow(e){this._events.push(new zn(this._getNow(),e)),this._trimBufferThenGetEvents(),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,n=t?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,r=n.length;let s;if(this.closed)throw new Wn.a;if(this.isStopped||this.hasError?s=jn.a.EMPTY:(this.observers.push(e),s=new qn.a(this,e)),i&&e.add(e=new Hn(e,i)),t)for(let o=0;o<r&&!e.closed;o++)e.next(n[o]);else for(let o=0;o<r&&!e.closed;o++)e.next(n[o].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),s}_getNow(){return(this.scheduler||Fn).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,n=this._windowTime,i=this._events,r=i.length;let s=0;for(;s<r&&!(e-i[s].time<n);)s++;return r>t&&(s=Math.max(s,r-t)),s>0&&i.splice(0,s),i}}class zn{constructor(e,t){this.time=e,this.value=t}}function Gn(e,t,n){let i;return i=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},e=>e.lift(function({bufferSize:e=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:n,scheduler:i}){let r,s,o=0,a=!1,l=!1;return function(c){o++,r&&!a||(a=!1,r=new Yn(e,t,i),s=c.subscribe({next(e){r.next(e)},error(e){a=!0,r.error(e)},complete(){l=!0,s=void 0,r.complete()}}));const u=r.subscribe(this);this.add(()=>{o--,u.unsubscribe(),s&&!l&&n&&0===o&&(s.unsubscribe(),s=void 0,r=void 0)})}}(i))}var Zn=n("jIqt"),Qn=n("8j5Y"),Xn=n("pBDD"),Jn=n("mW0F");class ei{constructor(e,t){this.keySelector=e,this.flushes=t}call(e,t){return t.subscribe(new ti(e,this.keySelector,this.flushes))}}class ti extends Xn.a{constructor(e,t,n){super(e),this.keySelector=t,this.values=new Set,n&&this.add(Object(Jn.a)(this,n))}notifyNext(e,t,n,i,r){this.values.clear()}notifyError(e,t){this._error(e)}_next(e){this.keySelector?this._useKeySelector(e):this._finalizeNext(e,e)}_useKeySelector(e){let t;const{destination:n}=this;try{t=this.keySelector(e)}catch(i){return void n.error(i)}this._finalizeNext(t,e)}_finalizeNext(e,t){const{values:n}=this;n.has(e)||(n.add(e),this.destination.next(t))}}let ni=(()=>{class e{}return e.\u0275mod=s.Ib({type:e}),e.\u0275inj=s.Hb({factory:function(t){return new(t||e)},imports:[[i.c]]}),e})(),ii=(()=>{class e{constructor(){}getBrowser(){if(!browser)throw new Error("browser global not found.");return browser}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Gb({token:e,factory:e.\u0275fac,providedIn:ni}),e})();var ri=n("7ntQ");let si=(()=>{class e{constructor(e,t,n){this.runtime=e.getBrowser().runtime,this.onInstalled$=new a.a(e=>{function t(t){n.run(()=>{e.next(t)})}return this.runtime.onInstalled.addListener(t),()=>{this.runtime.onInstalled.hasListener(t)&&this.runtime.onInstalled.removeListener(t)}}).pipe(Object(ri.a)()),this.onMessage$=new a.a(e=>{function t(t,i,r){n.run(()=>{e.next([t,i,r])})}return this.runtime.onMessage.addListener(t),()=>{this.runtime.onMessage.hasListener(t)&&this.runtime.onMessage.removeListener(t)}}).pipe(Object(Qn.a)(e=>t.debug("New Message",e)),Object(c.a)(([e])=>e),Object(ri.a)())}getOnInstalled(){return this.onInstalled$}getOnMessage(){return this.onMessage$}sendMessage(e){return Object(d.a)(this.runtime.sendMessage(e))}openOptionsPage(){return Object(d.a)(this.runtime.openOptionsPage())}getURL(e){return this.runtime.getURL(e)}}return e.\u0275fac=function(t){return new(t||e)(s.Ub(ii),s.Ub(_n.b),s.Ub(s.z))},e.\u0275prov=s.Gb({token:e,factory:e.\u0275fac,providedIn:ni}),e})();function oi(e){return t=>t.lift(new ai(e))}class ai{constructor(e){this.value=e}call(e,t){return t.subscribe(new li(e,this.value))}}class li extends we.a{constructor(e,t){super(e),this.value=t}_next(e){this.destination.next(this.value)}}n("4e/d");var ci=n("e4iD");let ui=(()=>{class e{constructor(e,t){this.runtime=e,this.domSanitizer=t}asText(e){return Object(d.a)(fetch(this.runtime.getURL(e))).pipe(Object(In.a)(e=>e.blob()),Object(c.a)(e=>this.domSanitizer.bypassSecurityTrustUrl(URL.createObjectURL(e))))}}return e.\u0275fac=function(t){return new(t||e)(s.Ub(si),s.Ub(ci.b))},e.\u0275prov=s.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),di=(()=>{class e{constructor(){this.iconClass=!0,this.path="M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Eb({type:e,selectors:[["plopdown-icon"]],hostVars:2,hostBindings:function(e,t){2&e&&s.Cb("icon",t.iconClass)},inputs:{path:"path"},decls:2,vars:1,consts:[["version","1.1","viewBox","0 0 24 24",1,"mdi"],["d","M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z"]],template:function(e,t){1&e&&(s.bc(),s.Qb(0,"svg",0),s.Lb(1,"path",1),s.Pb()),2&e&&(s.Ab(1),s.Bb("d",t.path))},styles:["[_nghost-%COMP%]{display:inline}path[_ngcontent-%COMP%]{fill:currentColor}"]}),e})();function hi(e,t){if(1&e){const e=s.Rb();s.Qb(0,"li",7),s.Qb(1,"a",10),s.Yb("click",(function(t){return s.nc(e),s.cc(2).onCreatePlopdown(t)})),s.Lb(2,"plopdown-icon",9),s.Pb(),s.Pb()}if(2&e){const e=s.cc(2);s.Ab(2),s.ic("path",e.mdiTooltipPlus)}}function pi(e,t){if(1&e){const e=s.Rb();s.Qb(0,"ul",5),s.sc(1,hi,3,1,"li",6),s.Qb(2,"li",7),s.Qb(3,"a",8),s.Yb("click",(function(t){return s.nc(e),s.cc().onRemovePlopdown(t)})),s.Lb(4,"plopdown-icon",9),s.Pb(),s.Pb(),s.Pb()}if(2&e){const e=s.cc();s.ic("@menuSlideout",void 0),s.Ab(1),s.ic("ngIf",!1),s.Ab(3),s.ic("path",e.mdiClose)}}let fi=(()=>{class e{constructor(e,t){this.cd=e,this.mdiClose="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",this.mdiTooltipEdit="M20 2H4C2.9 2 2 2.9 2 4V16C2 17.11 2.9 18 4 18H8L12 22L16 18H20C21.11 18 22 17.11 22 16V4C22 2.9 21.11 2 20 2M9.08 15H7V12.91L13.17 6.72L15.24 8.8L9.08 15M16.84 7.2L15.83 8.21L13.76 6.18L14.77 5.16C14.97 4.95 15.31 4.94 15.55 5.16L16.84 6.41C17.05 6.62 17.06 6.96 16.84 7.2Z",this.mdiTooltipPlus="M4,2H20A2,2 0 0,1 22,4V16A2,2 0 0,1 20,18H16L12,22L8,18H4A2,2 0 0,1 2,16V4A2,2 0 0,1 4,2M11,6V9H8V11H11V14H13V11H16V9H13V6H11Z",this.toggleEditMode$=new _e.a,this.slideoutShown=!1,this.tracks=0,this.fullscreen=new s.n,this.create=new s.n,this.remove=new s.n,this.upload=new s.n,this.addAnnotation=new s.n,this.subs=new jn.a,this.plopdownLogo$=t.asText("/icons/plopdown-logo.svg").pipe(Object(Qn.a)(()=>{setTimeout(()=>{this.cd.detectChanges()},0)}))}ngOnDestroy(){this.subs.unsubscribe()}onFullscreen(e){e.preventDefault(),this.fullscreen.emit()}onCreatePlopdown(e){e.preventDefault(),this.create.emit()}onRemovePlopdown(e){e.preventDefault(),this.remove.emit()}onUploadPlopdown(e){e.preventDefault(),this.upload.emit()}onAddAnnotation(e){e.preventDefault(),this.addAnnotation.emit()}onToggleEdit(e){e.preventDefault(),this.toggleEditMode$.next()}onMouseEnter(){this.slideoutShown=!0,this.cd.detectChanges()}onMouseLeave(){this.slideoutShown=!1,this.cd.detectChanges()}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(s.h),s.Kb(ui))},e.\u0275cmp=s.Eb({type:e,selectors:[["plopdown-overlay-menu"]],inputs:{tracks:"tracks"},outputs:{fullscreen:"fullscreen",create:"create",remove:"remove",upload:"upload",addAnnotation:"addAnnotation"},decls:6,vars:4,consts:[["title","Plopdown Menu","tabindex","0",1,"pd-menu",3,"focus","blur","mouseenter","mouseleave"],[1,"pd-menu-container"],["class","pd-menu-list",4,"ngIf"],[1,"logo-container"],["alt","Menu Button",3,"src"],[1,"pd-menu-list"],["class","pd-menu-item",4,"ngIf"],[1,"pd-menu-item"],["href","#","title","Remove Plopdown",3,"click"],[3,"path"],["href","#",3,"click"]],template:function(e,t){1&e&&(s.Qb(0,"div",0),s.Yb("focus",(function(){return t.onMouseEnter()}))("blur",(function(){return t.onMouseLeave()}))("mouseenter",(function(){return t.onMouseEnter()}))("mouseleave",(function(){return t.onMouseLeave()})),s.Qb(1,"nav",1),s.sc(2,pi,5,3,"ul",2),s.Pb(),s.Qb(3,"span",3),s.Lb(4,"img",4),s.dc(5,"async"),s.Pb(),s.Pb()),2&e&&(s.Ab(2),s.ic("ngIf",t.slideoutShown),s.Ab(2),s.ic("src",s.ec(5,2,t.plopdownLogo$),s.oc))},directives:[i.k,di],pipes:[i.b],styles:["[_nghost-%COMP%]{position:absolute;right:0;top:1em;opacity:.2;transition:opacity .2s ease-in-out}[_nghost-%COMP%]:hover{opacity:1}.pd-menu[_ngcontent-%COMP%]{display:block;position:relative;pointer-events:all}.pd-menu-container[_ngcontent-%COMP%]{position:relative;margin:0 6em 0 3em;height:7.5em;width:auto;top:50%}.pd-menu-container[_ngcontent-%COMP%], .pd-menu-list[_ngcontent-%COMP%]{display:flex;align-items:center;overflow:hidden}.pd-menu-list[_ngcontent-%COMP%]{background:#282828;margin:0 3em 0 0;list-style:none;color:#fff;border-top-left-radius:1em;border-bottom-left-radius:1em}.pd-menu-item[_ngcontent-%COMP%]{flex:0 1 auto;width:3.5em}.pd-menu-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;padding:.8em;color:inherit}.pd-menu-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#666}.pd-menu-item[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#5eb554!important}.pd-menu-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;line-height:0}.pd-menu-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:2em;height:2em;display:block}.logo-container[_ngcontent-%COMP%]{background:#282828;padding:2em;border-radius:50%;position:absolute;text-align:center;transform-origin:50% 50%;transform:scale(.6);transition:transform .2s ease;top:0;right:2em;box-sizing:content-box}.logo-container[_ngcontent-%COMP%], .logo-container[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:3.5em!important;height:3.5em!important}.pd-menu[_ngcontent-%COMP%]:hover   .logo-container[_ngcontent-%COMP%]{transform:scale(1)}"],data:{animation:[Object(En.k)("menuSlideout",[Object(En.j)("void => *",Object(En.h)([Object(En.i)({width:"0",marginRight:"0"}),Object(En.e)("0.2s ease-out",Object(En.i)({width:"*",marginRight:"*"}))])),Object(En.j)("* => void",Object(En.h)([Object(En.i)({width:"*",marginRight:"*"}),Object(En.e)("0.2s ease-out",Object(En.i)({width:"0",marginRight:"0"}))]))])]},changeDetection:0}),e})(),mi=(()=>{class e{constructor(){this.ariaAtomic=!0}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=s.Fb({type:e,hostVars:1,hostBindings:function(e,t){2&e&&s.Bb("aria-atomic",t.ariaAtomic)},inputs:{startTime:"startTime",endTime:"endTime",id:"id",data:"data"}}),e})();var gi=n("xVbo");let yi=(()=>{class e{constructor(){this.audioElem$=new Yn(1)}set audioElem(e){this.audioElem$.next(e)}ngAfterViewInit(){this.audioMetaTrack$=this.audioElem$.pipe(Object(In.a)(e=>new a.a(t=>{const n=e.addTextTrack("metadata");return n.mode="showing",t.next(n),()=>{n.mode="disabled"}}))),this.metaCueChange$=this.audioMetaTrack$.pipe(Object(In.a)(e=>null==this.edits?Un.a:(this.edits.forEach(t=>{const n=new VTTCue(t.startTime,t.endTime||t.startTime,JSON.stringify(t));e.addCue(n)}),Mn(e,"cuechange").pipe(Object(c.a)(()=>e.activeCues))))),this.metaCuesActive$=this.metaCueChange$.pipe(Object(c.a)(e=>{const t=[];for(let n=0;n<e.length;n++){const i=e[n],r={startTime:i.startTime,endTime:i.endTime,data:JSON.parse(i.text)};t.push(r)}return t})),this.metaCuesActive$.subscribe({next:e=>{console.log(e)}})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Eb({type:e,selectors:[["plopdown-audio-edits"]],inputs:{edits:"edits",audioElem:"audioElem"},decls:0,vars:0,template:function(e,t){},styles:[""]}),e})();const bi=["audioElem"];function vi(e,t){if(1&e&&s.Lb(0,"plopdown-audio-edits",6),2&e){const e=s.cc(),t=s.mc(1);s.ic("edits",e.data.edits)("audioElem",t)}}function _i(e,t){if(1&e&&s.Lb(0,"plopdown-icon",13),2&e){const e=s.cc(2);s.ic("path",e.mdiVolumeOff)}}function Ei(e,t){if(1&e&&s.Lb(0,"plopdown-icon",13),2&e){const e=s.cc(2);s.ic("path",e.mdiVolumeHigh)}}function wi(e,t){if(1&e){const e=s.Rb();s.Qb(0,"div",7),s.bc(),s.Qb(1,"svg",8),s.Lb(2,"circle",9),s.dc(3,"async"),s.Pb(),s.ac(),s.Qb(4,"a",10),s.Yb("click",(function(t){return s.nc(e),s.cc().toggleMute(t)})),s.sc(5,_i,1,1,"plopdown-icon",11),s.sc(6,Ei,1,1,"ng-template",null,12,s.tc),s.Pb(),s.Pb()}if(2&e){const e=s.mc(7),t=s.cc();s.Ab(2),s.ic("ngStyle",s.ec(3,3,t.progressStyle$)),s.Ab(3),s.ic("ngIf",t.audioMuted)("ngIfElse",e)}}let Oi=(()=>{class e extends mi{constructor(e,t,n,i){super(),this.logger=e,this.sanitizer=t,this.videoElem=n,this.trackFiles=i,this.audioMuted=!1,this.mdiVolumeHigh="M14,3.23V5.29C16.89,6.15 19,8.83 19,12C19,15.17 16.89,17.84 14,18.7V20.77C18,19.86 21,16.28 21,12C21,7.72 18,4.14 14,3.23M16.5,12C16.5,10.23 15.5,8.71 14,7.97V16C15.5,15.29 16.5,13.76 16.5,12M3,9V15H7L12,20V4L7,9H3Z",this.mdiVolumeOff="M12,4L9.91,6.09L12,8.18M4.27,3L3,4.27L7.73,9H3V15H7L12,20V13.27L16.25,17.53C15.58,18.04 14.83,18.46 14,18.7V20.77C15.38,20.45 16.63,19.82 17.68,18.96L19.73,21L21,19.73L12,10.73M19,12C19,12.94 18.8,13.82 18.46,14.64L19.97,16.15C20.62,14.91 21,13.5 21,12C21,7.72 18,4.14 14,3.23V5.29C16.89,6.15 19,8.83 19,12M16.5,12C16.5,10.23 15.5,8.71 14,7.97V10.18L16.45,12.63C16.5,12.43 16.5,12.21 16.5,12Z",this.mdiAlert="M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z",this.subs=new jn.a}ngAfterViewInit(){this.top=this.data.top,this.left=this.data.left,this.videoElem.pause(),this.videoNotPlaying$=Object(Ee.a)(Mn(this.videoElem,"suspend"),Mn(this.videoElem,"stop"),Mn(this.videoElem,"ended"),Mn(this.videoElem,"stalled"),Mn(this.videoElem,"pause")).pipe(oi(null));const e=Object(xn.a)(this.videoElem.paused).pipe(Object(gi.a)(e=>!e));this.videoPlaying$=Object(Ee.a)(e,Mn(this.videoElem,"playing")).pipe(oi(null)),this.audioTimeUpdate$=Mn(this.audioElem.nativeElement,"timeupdate").pipe(Gn(1)),this.progressStyle$=this.audioTimeUpdate$.pipe(Object(c.a)(e=>{const t=90*Math.PI;return{"stroke-dasharray":`${t*(e.target.currentTime/e.target.duration)}% ${t}%`}})),this.timeUpdate$=Object(Ee.a)(Mn(this.audioElem.nativeElement,"timeupdate"),Mn(this.videoElem,"timeupdate")).pipe(Object(c.a)(e=>[this.audioElem.nativeElement.currentTime,this.videoElem.currentTime])),this.syncOffset$=this.timeUpdate$.pipe(Object(c.a)(([e,t])=>Math.round(1e3*(t-(this.startTime+e)))),Oe(),Object(gi.a)(e=>e>150||e<-150));const t=this.syncOffset$.subscribe(e=>{this.audioElem.nativeElement.currentTime=(1e3*this.audioElem.nativeElement.currentTime+e)/1e3});this.subs.add(t);const n=this.videoNotPlaying$.subscribe(()=>{this.pauseAudio()});this.subs.add(n);const i=this.videoPlaying$.subscribe(()=>{this.playAudio()});this.subs.add(i),this.audioUrl=this.getFile(this.data.url)}ngOnDestroy(){this.subs.unsubscribe()}toggleMute(e){e.preventDefault();const t=!this.audioMuted;this.audioElem.nativeElement.muted=t,this.audioMuted=t}audioLoaded(){this.videoElem.play()}playAudio(){this.audioElem.nativeElement.play()}pauseAudio(){this.audioElem.nativeElement.pause()}getFile(e){const t=this.trackFiles.get(e);return null==t&&this.logger.error("Could not find filename",e),this.sanitizer.bypassSecurityTrustUrl(t)}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(_n.b),s.Kb(ci.b),s.Kb(vn),s.Kb(bn))},e.\u0275cmp=s.Eb({type:e,selectors:[["plopdown-audio"]],viewQuery:function(e,t){var n;1&e&&s.yc(bi,!0),2&e&&s.lc(n=s.Zb())&&(t.audioElem=n.first)},hostVars:4,hostBindings:function(e,t){2&e&&s.rc("top",t.top,"%")("left",t.left,"%")},features:[s.xb],decls:7,vars:5,consts:[["hidden","true",3,"title","src","loadstart"],["audioElem",""],[3,"edits","audioElem",4,"ngIf"],["class","audio-indicator",4,"ngIf"],[1,"title-box"],[1,"title"],[3,"edits","audioElem"],[1,"audio-indicator"],["viewbox","0 0 120 120",1,"progress-ring"],["stroke","white","stroke-width","8%","stroke-dasharray","8% 8%","fill","transparent","cx","50%","cy","50%","r","45%",1,"progress-ring__circle",3,"ngStyle"],["title","Mute/Unmute Audio","href","#",3,"click"],[3,"path",4,"ngIf","ngIfElse"],["unmuted",""],[3,"path"]],template:function(e,t){if(1&e&&(s.Qb(0,"video",0,1),s.Yb("loadstart",(function(){return t.audioLoaded()})),s.Pb(),s.sc(2,vi,1,2,"plopdown-audio-edits",2),s.sc(3,wi,8,5,"div",3),s.Qb(4,"div",4),s.Qb(5,"div",5),s.uc(6),s.Pb(),s.Pb()),2&e){const e=s.mc(1);s.jc("title",t.data.title),s.ic("src",t.audioUrl,s.oc),s.Ab(2),s.ic("ngIf",t.data.edits),s.Ab(1),s.ic("ngIf",e),s.Ab(3),s.vc(t.data.title)}},directives:[i.k,yi,i.l,di],pipes:[i.b],styles:["[_nghost-%COMP%]{position:absolute;transition:opacity .2s;opacity:.4}.active[_nghost-%COMP%], [_nghost-%COMP%]:hover{opacity:1}.audio-indicator[_ngcontent-%COMP%]{font-family:sans-serif;pointer-events:all;width:4em;height:4em}.audio-indicator[_ngcontent-%COMP%]   .progress-ring[_ngcontent-%COMP%]{width:4em;height:4em;transition:stroke-dashoffset .35s;transform:rotate(-90deg);transform-origin:50% 50%}.title-box[_ngcontent-%COMP%]{pointer-events:all;position:absolute;left:4.5em;top:0;height:4em;display:flex;flex-direction:row;align-items:center}.title-box[_ngcontent-%COMP%], .title-box[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-family:sans-serif;white-space:nowrap}.title-box[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{background:#fff;color:#000;line-height:1.5em;padding:.3em .7em .2em;border-radius:1em}plopdown-icon[_ngcontent-%COMP%]{color:#fff;position:absolute;top:15%;left:15%;width:70%}"]}),e})();const Pi=function(e,t,n,i){return{fontSize:e,top:t,left:n,transform:i}};function Ai(e,t){if(1&e&&(s.Qb(0,"div",5),s.uc(1),s.Pb()),2&e){const e=t.$implicit;s.ic("ngStyle",s.kc(2,Pi,e.size+"%",e.top+"%",e.left+"%","rotate("+e.rotate+"deg)")),s.Ab(1),s.wc(" ",e.emoji,"\u200d ")}}function Ti(e,t){if(1&e&&(s.Qb(0,"div",3),s.sc(1,Ai,2,7,"div",4),s.Pb()),2&e){const e=s.cc();s.Ab(1),s.ic("ngForOf",e.data.icons)}}function Ci(e,t){if(1&e&&(s.Qb(0,"li",8),s.Qb(1,"a",9),s.uc(2),s.Pb(),s.Pb()),2&e){const e=t.$implicit,n=t.index;s.Ab(1),s.ic("title",e.title)("href",e.url,s.oc),s.Ab(1),s.wc("[",n+1,"]")}}function ki(e,t){if(1&e&&(s.Qb(0,"ul",6),s.sc(1,Ci,3,3,"li",7),s.Pb()),2&e){const e=s.cc();s.Ab(1),s.ic("ngForOf",e.data.footnotes)}}let xi=(()=>{class e extends mi{constructor(e){super(),this.cd=e,this.editing=!1,this.sanitizedDesc=""}preventBubbling(e){e.stopPropagation()}ngAfterViewInit(){this.top=this.data.top,this.left=this.data.left,this.width=this.data.width,this.cd.detectChanges()}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(s.h))},e.\u0275cmp=s.Eb({type:e,selectors:[["plopdown-plop"]],hostVars:7,hostBindings:function(e,t){1&e&&s.Yb("click",(function(e){return t.preventBubbling(e)})),2&e&&(s.xc("@plopIn",t.animate),s.rc("top",t.top,"%")("left",t.left,"%")("width",t.width,"%"))},features:[s.xb],decls:4,vars:3,consts:[["class","pd-icons",4,"ngIf"],[1,"desc"],["class","footnotes",4,"ngIf"],[1,"pd-icons"],["class","pd-icon",3,"ngStyle",4,"ngFor","ngForOf"],[1,"pd-icon",3,"ngStyle"],[1,"footnotes"],["class","footnote",4,"ngFor","ngForOf"],[1,"footnote"],["rel","noopener noreferrer","target","_blank",3,"title","href"]],template:function(e,t){1&e&&(s.sc(0,Ti,2,1,"div",0),s.Qb(1,"div",1),s.uc(2),s.sc(3,ki,2,1,"ul",2),s.Pb()),2&e&&(s.ic("ngIf",t.data.icons&&t.data.icons.length),s.Ab(2),s.wc(" ",t.data.desc," "),s.Ab(1),s.ic("ngIf",t.data.footnotes))},directives:[i.k,i.j,i.l],styles:["[_nghost-%COMP%]{display:block;position:absolute;top:0;left:0;padding-left:4em;font-family:sans-serif;pointer-events:all;min-height:6em}.plop-selected[_ngcontent-%COMP%]{box-shadow:0 0 0 .2em #64a4d6}.menu-bubble[_ngcontent-%COMP%]{position:absolute;display:flex;z-index:20;background:#000;border-radius:.1em;background-clip:padding-box;padding:.3rem;margin-bottom:.5rem;transform:translateX(-50%);visibility:hidden;opacity:0;transition:opacity .2s,visibility .2s}.menu-bubble-active[_ngcontent-%COMP%]{opacity:1;visibility:visible}.menu-button[_ngcontent-%COMP%]{display:inline-flex;background:transparent;border:0;color:#fff;padding:.2rem .5rem;margin-right:.2rem;border-radius:3px;cursor:pointer}.menu-button[_ngcontent-%COMP%]:last-child{margin-right:0}.menu-button[_ngcontent-%COMP%]:hover{background-color:hsla(0,0%,100%,.1)}.menu-button-active[_ngcontent-%COMP%]{background-color:hsla(0,0%,100%,.2)}.desc[_ngcontent-%COMP%]{color:#111;font-size:1.2em;background:#ddd;border:.4em solid;margin:0;padding:.5em 1em .5em 2em;border-radius:1em}.footnote[_ngcontent-%COMP%], .footnotes[_ngcontent-%COMP%]{list-style:none;display:inline}.pd-icons[_ngcontent-%COMP%]{color:#111;background-clip:padding-box;top:0;left:0;font-size:3em;background:#eee;border-radius:50%;width:2em;height:2em;overflow:hidden;border:.15em solid;box-sizing:border-box}.pd-icon[_ngcontent-%COMP%], .pd-icons[_ngcontent-%COMP%]{position:absolute;text-align:center}.pd-icon[_ngcontent-%COMP%]{font-family:monospace;-webkit-font-kerning:none;font-kerning:none;top:50%;left:50%;line-height:1em;width:1em;height:1em;margin-left:-.5em;margin-top:-.45em}"],data:{animation:[Object(En.k)("plopIn",[Object(En.j)("void => *",Object(En.l)(wn,{params:{timing:.2}})),Object(En.j)("* => void",Object(En.l)(kn,{params:{timing:.2}}))])]}}),e})();function Si(e,t){if(1&e&&(s.Qb(0,"a",3),s.uc(1),s.Pb()),2&e){const e=s.cc();s.ic("href",e.data.url,s.oc),s.Ab(1),s.vc(e.data.title)}}function Mi(e,t){if(1&e&&(s.Ob(0),s.uc(1),s.Nb()),2&e){const e=s.cc();s.Ab(1),s.vc(e.data.title)}}function Ii(e,t){1&e&&(s.Qb(0,"span"),s.uc(1,"Anonymous"),s.Pb())}function ji(e,t){if(1&e&&(s.Ob(0),s.Qb(1,"span"),s.uc(2),s.Pb(),s.uc(3),s.Nb()),2&e){const e=t.$implicit,n=t.last;s.Ab(2),s.vc(e),s.Ab(1),s.wc("",n?"":", "," ")}}let Ri=(()=>{class e extends mi{}return e.\u0275fac=function(t){return Ni(t||e)},e.\u0275cmp=s.Eb({type:e,selectors:[["plopdown-info"]],hostVars:1,hostBindings:function(e,t){2&e&&s.xc("@infoFade",t.animate)},features:[s.xb],decls:7,vars:4,consts:[["target","_blank",3,"href",4,"ngIf"],[4,"ngIf"],[4,"ngFor","ngForOf"],["target","_blank",3,"href"]],template:function(e,t){1&e&&(s.Qb(0,"h3"),s.sc(1,Si,2,2,"a",0),s.sc(2,Mi,2,1,"ng-container",1),s.Pb(),s.Qb(3,"h4"),s.uc(4," Annotated By: "),s.sc(5,Ii,2,0,"span",1),s.sc(6,ji,4,2,"ng-container",2),s.Pb()),2&e&&(s.Ab(1),s.ic("ngIf",t.data.url),s.Ab(1),s.ic("ngIf",!t.data.url),s.Ab(3),s.ic("ngIf",t.data.authors.length<1),s.Ab(1),s.ic("ngForOf",t.data.authors))},directives:[i.k,i.j],styles:["[_nghost-%COMP%]{position:absolute;top:0;left:0;padding:2em;pointer-events:all;color:#fff;background:linear-gradient(164deg,#000,transparent,transparent)}[_nghost-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700;font-size:2em;margin:0;padding:0}[_nghost-%COMP%]   a[_ngcontent-%COMP%]{color:inherit}"],data:{animation:[Object(En.k)("infoFade",[Object(En.j)("void => *",Object(En.h)([Object(En.l)(An,{params:{timing:.4}})])),Object(En.j)("* => void",Object(En.h)([Object(En.l)(Cn,{params:{timing:.4}})]))])]},changeDetection:0}),e})();const Ni=s.Sb(Ri),Vi={[mn.Info]:Ri,[mn.Plop]:xi,[mn.Audio]:Oi},Li=["cueOutlet"];let Di=(()=>{class e{constructor(e,t,n,i){this.cd=t,this.errorHandler=n,this.logger=i,this.cues$=new be.a([]),this.subs=new jn.a,this.ariaLive="assertive",this.cueMap=new Map,this.cueComponents$=this.cues$.pipe(Object(c.a)(t=>t.map(t=>{const n=Vi[t.data.type];return null==n?[null,t]:[e.resolveComponentFactory(n),t]})))}set cues(e){null!=e&&this.cues$.next(e)}ngAfterViewInit(){const e=this.cueComponents$.subscribe({next:e=>{e.forEach(([e,t])=>{if(null==e)return void this.logger.error(`Could not find plopdown cue component matching "${t.data.type}".`,t);if(this.cueMap.has(t.id))return;const n=this.cueOutlet.createComponent(e);n.instance.startTime=t.startTime,n.instance.endTime=t.endTime,n.instance.id=t.id,n.instance.data=t.data,this.cueMap.set(t.id,n),n.changeDetectorRef.detectChanges()}),this.cueMap.forEach((t,n)=>{null==e.find(([e,t])=>t.id===n)&&(t.destroy(),this.cueMap.delete(n))}),this.cd.detectChanges()},error:e=>{this.errorHandler.handleError(e)}});this.subs.add(e)}ngOnDestroy(){this.subs.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(s.j),s.Kb(s.h),s.Kb(s.m),s.Kb(_n.b))},e.\u0275cmp=s.Eb({type:e,selectors:[["plopdown-cue-renderer"]],viewQuery:function(e,t){var n;1&e&&s.yc(Li,!0,s.O),2&e&&s.lc(n=s.Zb())&&(t.cueOutlet=n.first)},hostVars:1,hostBindings:function(e,t){2&e&&s.Bb("aria-live",t.ariaLive)},inputs:{cues:"cues"},decls:2,vars:0,consts:[["cueOutlet",""]],template:function(e,t){1&e&&s.Mb(0,null,0)},encapsulation:2,changeDetection:0}),e})();function $i(e,t){if(1&e){const e=s.Rb();s.Qb(0,"div",1),s.Qb(1,"div",2),s.Qb(2,"plopdown-overlay-menu",3),s.Yb("remove",(function(){return s.nc(e),s.cc().removeOverlay()})),s.Pb(),s.Lb(3,"plopdown-cue-renderer",4),s.dc(4,"async"),s.Pb(),s.Pb()}if(2&e){const e=t.ngIf,n=s.cc();s.ic("@videoOutline",void 0)("ngStyle",e.overlay),s.Ab(1),s.ic("ngStyle",e.stage),s.Ab(2),s.ic("cues",s.ec(4,4,n.cues$))}}let Fi=(()=>{class e{constructor(e,t,n,i){this.logger=t,this.manualReposition$=new be.a(null),this.remove=new s.n;const r=Object(ve.a)([Object(xn.a)(n),Object(xn.a)(i)]).pipe(Object(In.a)(([e,t])=>new a.a(n=>{const i=e.addTextTrack("metadata",t._id,t.language);try{this.bindCues(i,t)}catch(r){n.error(r)}return i.mode="showing",n.next(i),()=>{i.mode="disabled"}})),Gn(1));this.cues$=r.pipe(Object(In.a)(e=>Mn(e,"cuechange").pipe(Object(Zn.a)(e),Object(c.a)(()=>e.activeCues))),Object(c.a)(e=>this.cueListToArray(e)),Gn(1),Object(Qn.a)(t=>{setTimeout(()=>{e.detectChanges()},0)}));const o=Object(xn.a)(n).pipe(Object(In.a)(e=>Object(Ee.a)(this.manualReposition$.asObservable(),Mn(e,"play"),Mn(e,"load"),Mn(e,"resize"),Mn(e,"mousemove")).pipe(Object(c.a)(()=>e))),Gn(1)),l=o.pipe(Object(c.a)(e=>e.videoWidth/e.videoHeight),e=>e.lift(new ei(void 0,void 0))),u=Object(ve.a)([o,l]).pipe(Object(c.a)(([e,t])=>e.offsetWidth<=e.offsetHeight*t?e.offsetWidth:e.offsetHeight*t),Oe()),d=Object(ve.a)([o,l]).pipe(Object(c.a)(([e,t])=>e.offsetWidth<=e.offsetHeight*t?e.offsetWidth/t:e.offsetHeight),Oe()),h=o.pipe(Object(c.a)(e=>e.offsetHeight/44),Oe()),p=Object(ve.a)([o,h]).pipe(Object(c.a)(([e,t])=>({"width.px":e.offsetWidth,"height.px":e.offsetHeight,"left.px":e.offsetLeft,"top.px":e.offsetTop,"font-size.px":t}))),f=Object(ve.a)([u,d]).pipe(Object(c.a)(([e,t])=>({"width.px":e,"height.px":t})));this.styles$=Object(ve.a)([p,f]).pipe(Object(c.a)(([e,t])=>({overlay:e,stage:t})),Object(Qn.a)(()=>setTimeout(()=>{e.detectChanges()},10)))}removeOverlay(){this.remove.emit()}bindCues(e,t){t.cues.forEach(t=>{const n=new VTTCue(t.startTime,t.endTime,JSON.stringify(t.data));t.id&&(n.id=t.id),e.addCue(n)})}cueListToArray(e){const t=[];for(let i=0;i<e.length;i++){const r=e[i];let s=r.id;r.id.length<1&&(s=i.toString());let o=null;try{o=JSON.parse(r.text)}catch(n){this.logger.error("Could not parse Cue JSON",n)}t.push({startTime:r.startTime,endTime:r.endTime,id:s,data:o})}return t}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(s.h),s.Kb(_n.b),s.Kb(vn),s.Kb(yn))},e.\u0275cmp=s.Eb({type:e,selectors:[["plopdown-video-overlay"]],outputs:{remove:"remove"},decls:2,vars:3,consts:[["class","elem-overlay",3,"ngStyle",4,"ngIf"],[1,"elem-overlay",3,"ngStyle"],[1,"stage",3,"ngStyle"],[3,"remove"],[3,"cues"]],template:function(e,t){1&e&&(s.sc(0,$i,5,6,"div",0),s.dc(1,"async")),2&e&&s.ic("ngIf",s.ec(1,1,t.styles$))},directives:[i.k,i.l,fi,Di],pipes:[i.b],styles:["plopdown-video-overlay .elem-overlay{position:absolute;z-index:2147483647;overflow:hidden;font-family:Arial,Helvetica,sans-serif;pointer-events:none;display:flex;flex-direction:column;justify-content:center;align-items:center}plopdown-video-overlay .stage{position:absolute;box-shadow:inset 0 0 10px 1px rgba(0,0,0,.2)}plopdown-video-overlay fieldset{background:red}"],encapsulation:2,data:{animation:[Object(En.k)("videoOutline",[Object(En.j)("void => *",Object(En.h)([Object(En.i)({"box-shadow":"inset 0 0 0 3px lightgreen","background-color":"rgb(144, 238, 144, 0.2)"}),Object(En.l)(On,{params:{timing:.4}}),Object(En.e)("1s",Object(En.i)({"box-shadow":"inset 0 0 0 3px transparent","background-color":"transparent"}))]))])]},changeDetection:0}),e})();var Ui=n("jOdJ");let Bi=(()=>{class e{}return e.\u0275mod=s.Ib({type:e}),e.\u0275inj=s.Hb({factory:function(t){return new(t||e)},imports:[[i.c]]}),e})();var Hi=n("Yv8S"),Ki=n.t(Hi,2);class Wi{constructor(){if(this.validator=new Te({}),Te.registerFormat("uuid",(function(e){return/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/.test(e)})),!0!==this.validator.validateSchema(Ki))throw new Error(`Plopdown file schema is invalid: ${JSON.stringify(this.validator.getLastErrors(),null,2)}`)}validate(e){return this.validator.validate(e,Ki)}getLastErrors(){return this.validator.getLastErrors()}}let qi=(()=>{class e{constructor(){this.validator=new Wi}decode(e){if(!this.isWebVTTFile(e))throw new Error("File is not a WebVTT file.");const t=this.convertWebVTT(e);if(!this.isPlopdownFile(t))throw this.validator.getLastErrors();return t.files=this.getFiles(t),t}encode(e){if(!0!==this.validator.validate(e))throw this.validator.getLastErrors();return`${this.convertToHeader(e.headers)}\n\n${this.convertToCues(e.cues)}`}isWebVTTFile(e){return/^WEBVTT$/gm.test(e)}convertToHeader(e){let t="WEBVTT";for(const n in e)if(e.hasOwnProperty(n)){const i=e[n];if(null==i)continue;t+=`\n${n}: ${i.trim()}`}return t.trim()}convertToCues(e){return e.map(e=>{let t="";const n=this.convertToISOTime(e.startTime),i=this.convertToISOTime(e.endTime);return null!=e.id&&(t+=`${e.id}\n`),t+=`${n} --\x3e ${i}\n`,t+=`${JSON.stringify(e.data,null,4)}`,t}).join("\n\n")}convertWebVTT(e){const t=e.trim().split("\n\n"),n=this.getHeaders(t[0]),i=this.getCues(t);return console.log(n),{headers:n,cues:i}}getHeaders(e){return this.getAllMatches(e,/^([\w-]+):(.*)$/gm).reduce((e,t)=>{const n=t[1].trim(),i=t[2].trim();return e[n]=i,e},{})}getAllMatches(e,t){const n=[];let i;for(;i=t.exec(e),i;)n.push(i);return n}convertToISOTime(e){const t=new Date(1e3*e).toISOString().match(/^1970-01-01T(.*)Z$/);if(null==t)throw new Error("Not a valid unix time");return t[1]}convertToUnixTime(e){return new Date(`1970-01-01T${e}Z`).getTime()}getCues(e){e.shift();const t=/(\d{2}:\d{2}:\d{2}.\d{3}) --> (\d{2}:\d{2}:\d{2}.\d{3})/;return e.reduce((e,n)=>{const i=n.match(t);if(null==i)return e;const r=i[1],s=i[2],o=this.convertToUnixTime(i[1])/1e3,a=this.convertToUnixTime(i[2])/1e3;let l;if(n.indexOf(r)>0){const e=n.match(/^(.*)/);e&&(l=e[1].trim())}const c=n.split(s)[1],u=JSON.parse(c);return e.push({startTime:o,endTime:a,data:u,id:l}),e},[])}getFiles(e){const t=[];return null!=e.headers.thumbnail&&t.push(e.headers.thumbnail),e.cues.forEach(e=>{e.data.type===mn.Audio&&t.push(e.data.url)}),t}isPlopdownFile(e){return this.validator.validate(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Gb({token:e,factory:e.\u0275fac,providedIn:Bi}),e})();var Yi=n("c/iL"),zi=n.n(Yi),Gi=n("5uDM");class Zi{}class Qi{}class Xi{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(e=>{const t=e.indexOf(":");if(t>0){const n=e.slice(0,t),i=n.toLowerCase(),r=e.slice(t+1).trim();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(r):this.headers.set(i,[r])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let n=e[t];const i=t.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(i,n),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Xi?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Xi;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Xi?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...n),this.headers.set(t,i);break;case"d":const r=e.value;if(r){let e=this.headers.get(t);if(!e)return;e=e.filter(e=>-1===r.indexOf(e)),0===e.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Ji{encodeKey(e){return er(e)}encodeValue(e){return er(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}function er(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class tr{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Ji,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){const n=new Map;return e.length>0&&e.split("&").forEach(e=>{const i=e.indexOf("="),[r,s]=-1==i?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,i)),t.decodeValue(e.slice(i+1))],o=n.get(r)||[];o.push(s),n.set(r,o)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const n=e.fromObject[t];this.map.set(t,Array.isArray(n)?n:[n])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(e=>t+"="+this.encoder.encodeValue(e)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new tr({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat([e]),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(e.value),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const n=t.indexOf(e.value);-1!==n&&t.splice(n,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}function nr(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function ir(e){return"undefined"!=typeof Blob&&e instanceof Blob}function rr(e){return"undefined"!=typeof FormData&&e instanceof FormData}class sr{constructor(e,t,n,i){let r;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,r=i):r=n,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.params&&(this.params=r.params)),this.headers||(this.headers=new Xi),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{const n=t.indexOf("?");this.urlWithParams=t+(-1===n?"?":n<t.length-1?"&":"")+e}}else this.params=new tr,this.urlWithParams=t}serializeBody(){return null===this.body?null:nr(this.body)||ir(this.body)||rr(this.body)||"string"==typeof this.body?this.body:this.body instanceof tr?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||rr(this.body)?null:ir(this.body)?this.body.type||null:nr(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof tr?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(e={}){const t=e.method||this.method,n=e.url||this.url,i=e.responseType||this.responseType,r=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,o=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let a=e.headers||this.headers,l=e.params||this.params;return void 0!==e.setHeaders&&(a=Object.keys(e.setHeaders).reduce((t,n)=>t.set(n,e.setHeaders[n]),a)),e.setParams&&(l=Object.keys(e.setParams).reduce((t,n)=>t.set(n,e.setParams[n]),l)),new sr(t,n,r,{params:l,headers:a,reportProgress:o,responseType:i,withCredentials:s})}}const or=function(){var e={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return e[e.Sent]="Sent",e[e.UploadProgress]="UploadProgress",e[e.ResponseHeader]="ResponseHeader",e[e.DownloadProgress]="DownloadProgress",e[e.Response]="Response",e[e.User]="User",e}();class ar{constructor(e,t=200,n="OK"){this.headers=e.headers||new Xi,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class lr extends ar{constructor(e={}){super(e),this.type=or.ResponseHeader}clone(e={}){return new lr({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class cr extends ar{constructor(e={}){super(e),this.type=or.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new cr({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class ur extends ar{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function dr(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let hr=(()=>{class e{constructor(e){this.handler=e}request(e,t,n={}){let i;if(e instanceof sr)i=e;else{let r=void 0;r=n.headers instanceof Xi?n.headers:new Xi(n.headers);let s=void 0;n.params&&(s=n.params instanceof tr?n.params:new tr({fromObject:n.params})),i=new sr(e,t,void 0!==n.body?n.body:null,{headers:r,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const r=Object(xn.a)(i).pipe(Object(Gi.a)(e=>this.handler.handle(e)));if(e instanceof sr||"events"===n.observe)return r;const s=r.pipe(Object(gi.a)(e=>e instanceof cr));switch(n.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return s.pipe(Object(c.a)(e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return s.pipe(Object(c.a)(e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return s.pipe(Object(c.a)(e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return s.pipe(Object(c.a)(e=>e.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new tr).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,n={}){return this.request("PATCH",e,dr(n,t))}post(e,t,n={}){return this.request("POST",e,dr(n,t))}put(e,t,n={}){return this.request("PUT",e,dr(n,t))}}return e.\u0275fac=function(t){return new(t||e)(s.Ub(Zi))},e.\u0275prov=s.Gb({token:e,factory:e.\u0275fac}),e})();class pr{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const fr=new s.q("HTTP_INTERCEPTORS");let mr=(()=>{class e{intercept(e,t){return t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Gb({token:e,factory:e.\u0275fac}),e})();const gr=/^\)\]\}',?\n/;class yr{}let br=(()=>{class e{constructor(){}build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Gb({token:e,factory:e.\u0275fac}),e})(),vr=(()=>{class e{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new a.a(t=>{const n=this.xhrFactory.build();if(n.open(e.method,e.urlWithParams),e.withCredentials&&(n.withCredentials=!0),e.headers.forEach((e,t)=>n.setRequestHeader(e,t.join(","))),e.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const t=e.detectContentTypeHeader();null!==t&&n.setRequestHeader("Content-Type",t)}if(e.responseType){const t=e.responseType.toLowerCase();n.responseType="json"!==t?t:"text"}const i=e.serializeBody();let r=null;const s=()=>{if(null!==r)return r;const t=1223===n.status?204:n.status,i=n.statusText||"OK",s=new Xi(n.getAllResponseHeaders()),o=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(n)||e.url;return r=new lr({headers:s,status:t,statusText:i,url:o}),r},o=()=>{let{headers:i,status:r,statusText:o,url:a}=s(),l=null;204!==r&&(l=void 0===n.response?n.responseText:n.response),0===r&&(r=l?200:0);let c=r>=200&&r<300;if("json"===e.responseType&&"string"==typeof l){const e=l;l=l.replace(gr,"");try{l=""!==l?JSON.parse(l):null}catch(u){l=e,c&&(c=!1,l={error:u,text:l})}}c?(t.next(new cr({body:l,headers:i,status:r,statusText:o,url:a||void 0})),t.complete()):t.error(new ur({error:l,headers:i,status:r,statusText:o,url:a||void 0}))},a=e=>{const{url:i}=s(),r=new ur({error:e,status:n.status||0,statusText:n.statusText||"Unknown Error",url:i||void 0});t.error(r)};let l=!1;const c=i=>{l||(t.next(s()),l=!0);let r={type:or.DownloadProgress,loaded:i.loaded};i.lengthComputable&&(r.total=i.total),"text"===e.responseType&&n.responseText&&(r.partialText=n.responseText),t.next(r)},u=e=>{let n={type:or.UploadProgress,loaded:e.loaded};e.lengthComputable&&(n.total=e.total),t.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),e.reportProgress&&(n.addEventListener("progress",c),null!==i&&n.upload&&n.upload.addEventListener("progress",u)),n.send(i),t.next({type:or.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",o),e.reportProgress&&(n.removeEventListener("progress",c),null!==i&&n.upload&&n.upload.removeEventListener("progress",u)),n.abort()}})}}return e.\u0275fac=function(t){return new(t||e)(s.Ub(yr))},e.\u0275prov=s.Gb({token:e,factory:e.\u0275fac}),e})();const _r=new s.q("XSRF_COOKIE_NAME"),Er=new s.q("XSRF_HEADER_NAME");class wr{}let Or=(()=>{class e{constructor(e,t,n){this.doc=e,this.platform=t,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Object(i.s)(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return e.\u0275fac=function(t){return new(t||e)(s.Ub(i.d),s.Ub(s.B),s.Ub(_r))},e.\u0275prov=s.Gb({token:e,factory:e.\u0275fac}),e})(),Pr=(()=>{class e{constructor(e,t){this.tokenService=e,this.headerName=t}intercept(e,t){const n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);const i=this.tokenService.getToken();return null===i||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,i)})),t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(s.Ub(wr),s.Ub(Er))},e.\u0275prov=s.Gb({token:e,factory:e.\u0275fac}),e})(),Ar=(()=>{class e{constructor(e,t){this.backend=e,this.injector=t,this.chain=null}handle(e){if(null===this.chain){const e=this.injector.get(fr,[]);this.chain=e.reduceRight((e,t)=>new pr(e,t),this.backend)}return this.chain.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(s.Ub(Qi),s.Ub(s.r))},e.\u0275prov=s.Gb({token:e,factory:e.\u0275fac}),e})(),Tr=(()=>{class e{static disable(){return{ngModule:e,providers:[{provide:Pr,useClass:mr}]}}static withOptions(t={}){return{ngModule:e,providers:[t.cookieName?{provide:_r,useValue:t.cookieName}:[],t.headerName?{provide:Er,useValue:t.headerName}:[]]}}}return e.\u0275mod=s.Ib({type:e}),e.\u0275inj=s.Hb({factory:function(t){return new(t||e)},providers:[Pr,{provide:fr,useExisting:Pr,multi:!0},{provide:wr,useClass:Or},{provide:_r,useValue:"XSRF-TOKEN"},{provide:Er,useValue:"X-XSRF-TOKEN"}]}),e})(),Cr=(()=>{class e{}return e.\u0275mod=s.Ib({type:e}),e.\u0275inj=s.Hb({factory:function(t){return new(t||e)},providers:[hr,{provide:Zi,useClass:Ar},vr,{provide:Qi,useExisting:vr},br,{provide:yr,useExisting:br}],imports:[[Tr.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e})();const kr=["exampleVideo"];function xr(e,t){if(1&e){const e=s.Rb();s.Qb(0,"button",25),s.Yb("click",(function(){return s.nc(e),s.cc(2).initTrack()})),s.uc(1," Reattach Plopdown "),s.Pb()}}function Sr(e,t){if(1&e&&(s.Qb(0,"p"),s.sc(1,xr,2,0,"button",24),s.Pb()),2&e){const e=t.ngIf;s.Ab(1),s.ic("ngIf",e.hostView.destroyed)}}let Mr=(()=>{class e{constructor(e,t,n,i){this.appRef=n,this.componentFactoryResolver=i,this.subs=new jn.a,this.initTrack$=new _e.a,this.removeTrack$=new _e.a,this.currentDate=new Date;const r=this.componentFactoryResolver.resolveComponentFactory(Fi);this.track$=e.get("/assets/minnie_facts.vtt",{responseType:"text"}).pipe(Object(c.a)(e=>{const n=t.decode(e);return{title:n.headers.title,for:n.headers.for,created:n.headers.created,cues:n.cues}})),this.overlayComponent$=this.initTrack$.pipe(Object(In.a)(()=>this.track$),Object(c.a)(e=>{const t=s.r.create({providers:[{provide:vn,useValue:this.exampleVideo.nativeElement},{provide:yn,useValue:e}]}),n=r.create(t);this.appRef.attachView(n.hostView);const i=n.instance.remove.subscribe(()=>{this.removeTrack$.next()});return this.subs.add(i),n.changeDetectorRef.detectChanges(),n}),Gn(1));const o=this.overlayComponent$.subscribe(e=>{this.exampleVideo.nativeElement.parentNode.appendChild(e.hostView.rootNodes[0])});this.subs.add(o);const a=this.removeTrack$.pipe(Object(In.a)(()=>this.overlayComponent$.pipe(Object(Ui.a)()))).subscribe(e=>{e.hostView.rootNodes[0].remove(),e.destroy()});this.subs.add(a)}ngOnDestroy(){this.subs.unsubscribe()}ngAfterViewInit(){this.plyr=new zi.a(this.exampleVideo.nativeElement),this.initTrack()}initTrack(){this.initTrack$.next()}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(hr),s.Kb(qi),s.Kb(s.g),s.Kb(s.j))},e.\u0275cmp=s.Eb({type:e,selectors:[["plopdown-home"]],viewQuery:function(e,t){var n;1&e&&s.yc(kr,!0),2&e&&s.lc(n=s.Zb())&&(t.exampleVideo=n.first)},decls:54,vars:7,consts:[[1,"hero","is-dark","is-fullheight"],[1,"hero-head"],[1,"navbar"],[1,"container"],[1,"navbar-brand"],[1,"navbar-item"],["width","30","height","30","src","/assets/plopdown-logo.svg","alt","Plopdown"],[1,"title","is-4"],["sandbox","allow-popups allow-scripts","src","https://ghbtns.com/github-btn.html?user=spaceribs&repo=plopdown&type=star&count=true&size=large","frameborder","0","scrolling","0","width","160px","height","30px"],[1,"hero-body"],[1,"columns","is-vcentered"],[1,"column","is-half","is-desktop"],["width","100%","controls","","playsinline","","controlslist","nofullscreen","src","/assets/minnie_the_moocher.mp4",1,"is-block"],["exampleVideo",""],[1,"title"],[1,"subtitle"],["href","https://www.youtube.com/","target","_blank","rel","noreferrer"],["href","https://amazon.com/primevideo","target","_blank","rel","noreferrer"],["href","https://www.netflix.com/browse","target","_blank","rel","noreferrer"],["href","https://vimeo.com/","target","_blank","rel","noreferrer"],[4,"ngIf"],[1,"info-footer","has-text-centered"],["href","http://madewithloveinbaltimore.org"],["href","https://keybase.io/spaceribs"],["class","button is-success is-large",3,"click",4,"ngIf"],[1,"button","is-success","is-large",3,"click"]],template:function(e,t){1&e&&(s.Qb(0,"section",0),s.Qb(1,"div",1),s.Qb(2,"nav",2),s.Qb(3,"div",3),s.Qb(4,"div",4),s.Qb(5,"a",5),s.Lb(6,"img",6),s.uc(7,"\xa0\xa0 "),s.Qb(8,"h1",7),s.uc(9,"Plopdown"),s.Pb(),s.Pb(),s.Qb(10,"a",5),s.Lb(11,"iframe",8),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Qb(12,"div",9),s.Qb(13,"div",3),s.Qb(14,"div",10),s.Qb(15,"div",11),s.Lb(16,"video",12,13),s.Pb(),s.Qb(18,"div",11),s.Qb(19,"h2",14),s.uc(20," Plopdown "),s.Pb(),s.Qb(21,"h3",15),s.uc(22," The Video Annotating Web Extension "),s.Pb(),s.Qb(23,"p"),s.uc(24," Plopdown is an extension which allows you to annotate any web video. It been tested and works on "),s.Qb(25,"a",16),s.uc(26,"Youtube"),s.Pb(),s.uc(27,", "),s.Qb(28,"a",17),s.uc(29,"Amazon Video"),s.Pb(),s.uc(30,", "),s.Qb(31,"a",18),s.uc(32,"Netflix"),s.Pb(),s.uc(33,", and "),s.Qb(34,"a",19),s.uc(35,"Vimeo"),s.Pb(),s.uc(36,". "),s.Pb(),s.Qb(37,"p"),s.uc(38," After creating your annotations, you can download and distribute them to friends and followers by sending them a file or generating a "),s.Qb(39,"code"),s.uc(40,"plopdown://"),s.Pb(),s.uc(41," URL. "),s.Pb(),s.Qb(42,"p"),s.uc(43," It's currently in development and the alpha should be available soon! In the meantime you can try it out by playing the video. "),s.Pb(),s.sc(44,Sr,2,1,"p",20),s.dc(45,"async"),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Qb(46,"div",21),s.Qb(47,"p"),s.Qb(48,"a",22),s.uc(49," Made with \u2665 in Baltimore "),s.Pb(),s.uc(50," \xa0\xa0|\xa0\xa0 "),s.Qb(51,"a",23),s.uc(52),s.dc(53,"date"),s.Pb(),s.Pb(),s.Pb(),s.Pb()),2&e&&(s.Ab(44),s.ic("ngIf",s.ec(45,2,t.overlayComponent$)),s.Ab(8),s.wc(" Spaceribs \xa9",s.fc(53,4,t.currentDate,"y")," "))},directives:[i.k],pipes:[i.b,i.e],styles:["a[_ngcontent-%COMP%]{color:#8fbaff}a[_ngcontent-%COMP%]:hover{color:#5594f9}p[_ngcontent-%COMP%]{margin:20px 0}.info-footer[_ngcontent-%COMP%]{font-size:12px}.info-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}.info-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#5594f9}"]}),e})(),Ir=(()=>{class e{constructor(e){this.domSanitizer=e}asText(e){return Object(xn.a)(this.domSanitizer.bypassSecurityTrustUrl("/assets/plopdown-logo.svg"))}}return e.\u0275fac=function(t){return new(t||e)(s.Ub(ci.b))},e.\u0275prov=s.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const jr=[{path:"",component:Mr}];let Rr=(()=>{class e{}return e.\u0275mod=s.Ib({type:e}),e.\u0275inj=s.Hb({factory:function(t){return new(t||e)},providers:[{provide:ui,useClass:Ir}],imports:[[i.c,Cr,gn,Bi,r.a.forChild(jr)]]}),e})()},"d5S/":function(e){e.exports=JSON.parse('{"id":"http://json-schema.org/draft-04/schema#","$schema":"http://json-schema.org/draft-04/schema#","description":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"positiveInteger":{"type":"integer","minimum":0},"positiveIntegerDefault0":{"allOf":[{"$ref":"#/definitions/positiveInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"minItems":1,"uniqueItems":true}},"type":"object","properties":{"id":{"type":"string","format":"uri"},"$schema":{"type":"string","format":"uri"},"title":{"type":"string"},"description":{"type":"string"},"default":{},"multipleOf":{"type":"number","minimum":0,"exclusiveMinimum":true},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"boolean","default":false},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"boolean","default":false},"maxLength":{"$ref":"#/definitions/positiveInteger"},"minLength":{"$ref":"#/definitions/positiveIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"anyOf":[{"type":"boolean"},{"$ref":"#"}],"default":{}},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":{}},"maxItems":{"$ref":"#/definitions/positiveInteger"},"minItems":{"$ref":"#/definitions/positiveIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"maxProperties":{"$ref":"#/definitions/positiveInteger"},"minProperties":{"$ref":"#/definitions/positiveIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"anyOf":[{"type":"boolean"},{"$ref":"#"}],"default":{}},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"enum":{"type":"array","minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"dependencies":{"exclusiveMaximum":["maximum"],"exclusiveMinimum":["minimum"]},"default":{}}')},d6hw:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),s.test(e.trim())};var i,r=(i=n("6k7E"))&&i.__esModule?i:{default:i},s=/^magnet:\?xt=urn:[a-z0-9]+:[a-z0-9]{32,40}&dn=.+&tr=.+$/i;e.exports=t.default,e.exports.default=t.default},dOpu:function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"object"===i(e)&&null!==e?e="function"==typeof e.toString?e.toString():"[object Object]":(null==e||isNaN(e)&&!e.length)&&(e=""),String(e)},e.exports=t.default,e.exports.default=t.default},dPjt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,i.default)(e),0===((t=(0,r.default)(t,o)).ignore_whitespace?e.trim().length:e.length)};var i=s(n("6k7E")),r=s(n("9fID"));function s(e){return e&&e.__esModule?e:{default:e}}var o={ignore_whitespace:!1};e.exports=t.default,e.exports.default=t.default},dVO0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:String(new Date);(0,i.default)(e);var n=(0,r.default)(t),s=(0,r.default)(e);return!!(s&&n&&s>n)};var i=s(n("6k7E")),r=s(n("91Cx"));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default,e.exports.default=t.default},dhkV:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),s.test(e)};var i,r=(i=n("6k7E"))&&i.__esModule?i:{default:i},s=/^[0-9A-F]+$/i;e.exports=t.default,e.exports.default=t.default},dl52:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,i.default)(e),(0,r.default)(e)%parseInt(t,10)==0};var i=s(n("6k7E")),r=s(n("AmVq"));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default,e.exports.default=t.default},eOgP:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,r.default)(e),new RegExp("^[a-f0-9]{".concat(s[t],"}$")).test(e)};var i,r=(i=n("6k7E"))&&i.__esModule?i:{default:i},s={md5:32,md4:32,sha1:40,sha256:64,sha384:96,sha512:128,ripemd128:32,ripemd160:40,tiger128:32,tiger160:40,tiger192:48,crc32:8,crc32b:8};e.exports=t.default,e.exports.default=t.default},fPql:function(e,t,n){const i=n("Bfp2"),r=n("Zv2g"),s=n("JBzt"),o=n("GAtg");e.exports=class{constructor(e,t){this._lang=e,this._lexer=new r(e.grammar),this._exprStr=t,this._ast=null}compile(){const e=new r(this._lang.grammar),t=new s(this._lang.grammar),n=e.tokenize(this._exprStr);return t.addTokens(n),this._ast=t.complete(),this}eval(e={}){return this._eval(e,Promise)}evalSync(e={}){const t=this._eval(e,o);if(t.error)throw t.error;return t.value}_eval(e,t){return t.resolve().then(()=>{const n=this._getAst();return new i(this._lang.grammar,this._lang.transforms,e,void 0,t).eval(n)})}_getAst(){return this._ast||this.compile(),this._ast}}},fqiI:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,r.default)(e),e.replace(new RegExp("[".concat(t,"]+"),"g"),"")};var i,r=(i=n("6k7E"))&&i.__esModule?i:{default:i};e.exports=t.default,e.exports.default=t.default},"g/Ok":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),s.test(e)};var i,r=(i=n("6k7E"))&&i.__esModule?i:{default:i},s=/^[a-f0-9]{32}$/;e.exports=t.default,e.exports.default=t.default},g02r:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:String(new Date);(0,i.default)(e);var n=(0,r.default)(t),s=(0,r.default)(e);return!!(s&&n&&s<n)};var i=s(n("6k7E")),r=s(n("91Cx"));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default,e.exports.default=t.default},gEfZ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,r.default)(e),e.replace(new RegExp("[^".concat(t,"]+"),"g"),"")};var i,r=(i=n("6k7E"))&&i.__esModule?i:{default:i};e.exports=t.default,e.exports.default=t.default},hari:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(e),t=t||{};var n=new RegExp("^(?:[-+])?(?:[0-9]+)?(?:\\".concat(t.locale?s.decimal[t.locale]:".","[0-9]*)?(?:[eE][\\+\\-]?(?:[0-9]+))?$"));if(""===e||"."===e||"-"===e||"+"===e)return!1;var i=parseFloat(e.replace(",","."));return n.test(e)&&(!t.hasOwnProperty("min")||i>=t.min)&&(!t.hasOwnProperty("max")||i<=t.max)&&(!t.hasOwnProperty("lt")||i<t.lt)&&(!t.hasOwnProperty("gt")||i>t.gt)},t.locales=void 0;var i,r=(i=n("6k7E"))&&i.__esModule?i:{default:i},s=n("6P0E"),o=Object.keys(s.decimal);t.locales=o},hjc3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(e);for(var n=e.length-1;n>=0;n--)if(-1===t.indexOf(e[n]))return!1;return!0};var i,r=(i=n("6k7E"))&&i.__esModule?i:{default:i};e.exports=t.default,e.exports.default=t.default},iHBP:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,r.default)(e),!s.test(e))return!1;for(var t,n,i=e.replace(/[A-Z]/g,(function(e){return parseInt(e,36)})),o=0,a=!0,l=i.length-2;l>=0;l--)t=i.substring(l,l+1),n=parseInt(t,10),o+=a&&(n*=2)>=10?n+1:n,a=!a;return parseInt(e.substr(e.length-1),10)===(1e4-o)%10};var i,r=(i=n("6k7E"))&&i.__esModule?i:{default:i},s=/^[A-Z]{2}[0-9A-Z]{9}[0-9]$/;e.exports=t.default,e.exports.default=t.default},iHOU:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,i.default)(e),e.indexOf((0,r.default)(t))>=0};var i=s(n("6k7E")),r=s(n("dOpu"));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default,e.exports.default=t.default},iP7v:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(e);var t=e.replace(/[- ]+/g,"");if(!s.test(t))return!1;for(var n,i,o,a=0,l=t.length-1;l>=0;l--)n=t.substring(l,l+1),i=parseInt(n,10),a+=o&&(i*=2)>=10?i%10+1:i,o=!o;return!(a%10!=0||!t)};var i,r=(i=n("6k7E"))&&i.__esModule?i:{default:i},s=/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|(222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11}|6[27][0-9]{14})$/;e.exports=t.default,e.exports.default=t.default},"l9Q+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,r.default)(e),(t=(0,i.default)(t,l)).locale in o.decimal)return!(0,s.default)(c,e.replace(/ /g,""))&&function(e){return new RegExp("^[-+]?([0-9]+)?(\\".concat(o.decimal[e.locale],"[0-9]{").concat(e.decimal_digits,"})").concat(e.force_decimal?"":"?","$"))}(t).test(e);throw new Error("Invalid locale '".concat(t.locale,"'"))};var i=a(n("9fID")),r=a(n("6k7E")),s=a(n("YQBb")),o=n("6P0E");function a(e){return e&&e.__esModule?e:{default:e}}var l={force_decimal:!1,decimal_digits:"1,",locale:"en-US"},c=["","-","+"];e.exports=t.default,e.exports.default=t.default},lIY5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),s.test(e)};var i,r=(i=n("6k7E"))&&i.__esModule?i:{default:i},s=/[^\x00-\x7F]/;e.exports=t.default,e.exports.default=t.default},lS25:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,i.default)(e),(t=(0,r.default)(t,c)).require_display_name||t.allow_display_name){var n=e.match(u);if(n){var l,g=function(e){if(Array.isArray(e))return e}(y=n)||function(e,t){var n=[],i=!0,r=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(i=(o=a.next()).done)&&(n.push(o.value),3!==n.length);i=!0);}catch(l){r=!0,s=l}finally{try{i||null==a.return||a.return()}finally{if(r)throw s}}return n}(y)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}();if(e=g[2],(l=g[1]).endsWith(" ")&&(l=l.substr(0,l.length-1)),!function(e){var t=e.match(/^"(.+)"$/i),n=t?t[1]:e;if(!n.trim())return!1;if(/[\.";<>]/.test(n)){if(!t)return!1;if(n.split('"').length!==n.split('\\"').length)return!1}return!0}(l))return!1}else if(t.require_display_name)return!1}var y;if(!t.ignore_max_length&&e.length>254)return!1;var b=e.split("@"),v=b.pop(),_=b.join("@"),E=v.toLowerCase();if(t.domain_specific_validation&&("gmail.com"===E||"googlemail.com"===E)){var w=(_=_.toLowerCase()).split("+")[0];if(!(0,s.default)(w.replace(".",""),{min:6,max:30}))return!1;for(var O=w.split("."),P=0;P<O.length;P++)if(!h.test(O[P]))return!1}if(!(0,s.default)(_,{max:64})||!(0,s.default)(v,{max:254}))return!1;if(!(0,o.default)(v,{require_tld:t.require_tld})){if(!t.allow_ip_domain)return!1;if(!(0,a.default)(v)){if(!v.startsWith("[")||!v.endsWith("]"))return!1;var A=v.substr(1,v.length-2);if(0===A.length||!(0,a.default)(A))return!1}}if('"'===_[0])return _=_.slice(1,_.length-1),t.allow_utf8_local_part?m.test(_):p.test(_);for(var T=t.allow_utf8_local_part?f:d,C=_.split("."),k=0;k<C.length;k++)if(!T.test(C[k]))return!1;return!0};var i=l(n("6k7E")),r=l(n("9fID")),s=l(n("A8/z")),o=l(n("TNgN")),a=l(n("mWng"));function l(e){return e&&e.__esModule?e:{default:e}}var c={allow_display_name:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0},u=/^([^\x00-\x1F\x7F-\x9F\cX]+)<(.+)>$/i,d=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,h=/^[a-z\d]+$/,p=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,f=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,m=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i;e.exports=t.default,e.exports.default=t.default},m7Il:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,r.default)(e),e===t};var i,r=(i=n("6k7E"))&&i.__esModule?i:{default:i};e.exports=t.default,e.exports.default=t.default},mFlp:function(e,t,n){const i=n("8tmx");t.states={expectOperand:{tokenTypes:{literal:{toState:"expectBinOp"},identifier:{toState:"identifier"},unaryOp:{},openParen:{toState:"subExpression"},openCurl:{toState:"expectObjKey",handler:i.objStart},dot:{toState:"traverse"},openBracket:{toState:"arrayVal",handler:i.arrayStart}}},expectBinOp:{tokenTypes:{binaryOp:{toState:"expectOperand"},pipe:{toState:"expectTransform"},dot:{toState:"traverse"},question:{toState:"ternaryMid",handler:i.ternaryStart}},completable:!0},expectTransform:{tokenTypes:{identifier:{toState:"postTransform",handler:i.transform}}},expectObjKey:{tokenTypes:{identifier:{toState:"expectKeyValSep",handler:i.objKey},closeCurl:{toState:"expectBinOp"}}},expectKeyValSep:{tokenTypes:{colon:{toState:"objVal"}}},postTransform:{tokenTypes:{openParen:{toState:"argVal"},binaryOp:{toState:"expectOperand"},dot:{toState:"traverse"},openBracket:{toState:"filter"},pipe:{toState:"expectTransform"}},completable:!0},postTransformArgs:{tokenTypes:{binaryOp:{toState:"expectOperand"},dot:{toState:"traverse"},openBracket:{toState:"filter"},pipe:{toState:"expectTransform"}},completable:!0},identifier:{tokenTypes:{binaryOp:{toState:"expectOperand"},dot:{toState:"traverse"},openBracket:{toState:"filter"},pipe:{toState:"expectTransform"},question:{toState:"ternaryMid",handler:i.ternaryStart}},completable:!0},traverse:{tokenTypes:{identifier:{toState:"identifier"}}},filter:{subHandler:i.filter,endStates:{closeBracket:"identifier"}},subExpression:{subHandler:i.subExpression,endStates:{closeParen:"expectBinOp"}},argVal:{subHandler:i.argVal,endStates:{comma:"argVal",closeParen:"postTransformArgs"}},objVal:{subHandler:i.objVal,endStates:{comma:"expectObjKey",closeCurl:"expectBinOp"}},arrayVal:{subHandler:i.arrayVal,endStates:{comma:"arrayVal",closeBracket:"expectBinOp"}},ternaryMid:{subHandler:i.ternaryMid,endStates:{colon:"ternaryEnd"}},ternaryEnd:{subHandler:i.ternaryEnd,completable:!0}}},mWng:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if((0,r.default)(t),!(n=String(n)))return e(t,4)||e(t,6);if("4"===n){if(!s.test(t))return!1;var i=t.split(".").sort((function(e,t){return e-t}));return i[3]<=255}if("6"===n){var a=t.split(":"),l=!1,c=e(a[a.length-1],4),u=c?7:8;if(a.length>u)return!1;if("::"===t)return!0;"::"===t.substr(0,2)?(a.shift(),a.shift(),l=!0):"::"===t.substr(t.length-2)&&(a.pop(),a.pop(),l=!0);for(var d=0;d<a.length;++d)if(""===a[d]&&d>0&&d<a.length-1){if(l)return!1;l=!0}else if(c&&d===a.length-1);else if(!o.test(a[d]))return!1;return l?a.length>=1:a.length===u}return!1};var i,r=(i=n("6k7E"))&&i.__esModule?i:{default:i},s=/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/,o=/^[0-9A-F]{1,4}$/i;e.exports=t.default,e.exports.default=t.default},mhZG:function(e,t,n){"use strict";var i=n("2uJw"),r=n("5Cbq"),s=n("HOZy");function o(e,t){this.parentReport=e instanceof o?e:void 0,this.options=e instanceof o?e.options:e||{},this.reportOptions=t||{},this.errors=[],this.path=[],this.asyncTasks=[],this.rootSchema=void 0,this.commonErrorMessage=void 0,this.json=void 0}o.prototype.isValid=function(){if(this.asyncTasks.length>0)throw new Error("Async tasks pending, can't answer isValid");return 0===this.errors.length},o.prototype.addAsyncTask=function(e,t,n){this.asyncTasks.push([e,t,n])},o.prototype.getAncestor=function(e){if(this.parentReport)return this.parentReport.getSchemaId()===e?this.parentReport:this.parentReport.getAncestor(e)},o.prototype.processAsyncTasks=function(e,t){var n=e||2e3,i=this.asyncTasks.length,r=i,s=!1,o=this;function a(){process.nextTick((function(){var e=0===o.errors.length;t(e?void 0:o.errors,e)}))}function l(e){return function(t){s||(e(t),0==--i&&a())}}if(0===i||this.errors.length>0&&this.options.breakOnFirstError)a();else{for(;r--;){var c=this.asyncTasks[r];c[0].apply(null,c[1].concat(l(c[2])))}setTimeout((function(){i>0&&(s=!0,o.addError("ASYNC_TIMEOUT",[i,n]),t(o.errors,!1))}),n)}},o.prototype.getPath=function(e){var t=[];return this.parentReport&&(t=t.concat(this.parentReport.path)),t=t.concat(this.path),!0!==e&&(t="#/"+t.map((function(e){return e=e.toString(),s.isAbsoluteUri(e)?"uri("+e+")":e.replace(/\~/g,"~0").replace(/\//g,"~1")})).join("/")),t},o.prototype.getSchemaId=function(){if(!this.rootSchema)return null;var e=[];for(this.parentReport&&(e=e.concat(this.parentReport.path)),e=e.concat(this.path);e.length>0;){var t=i(this.rootSchema,e);if(t&&t.id)return t.id;e.pop()}return this.rootSchema.id},o.prototype.hasError=function(e,t){for(var n=this.errors.length;n--;)if(this.errors[n].code===e){for(var i=!0,r=this.errors[n].params.length;r--;)this.errors[n].params[r]!==t[r]&&(i=!1);if(i)return i}return!1},o.prototype.addError=function(e,t,n,i){if(!e)throw new Error("No errorCode passed into addError()");this.addCustomError(e,r[e],t,n,i)},o.prototype.getJson=function(){for(var e=this;void 0===e.json;)if(void 0===(e=e.parentReport))return;return e.json},o.prototype.addCustomError=function(e,t,n,i,r){if(!(this.errors.length>=this.reportOptions.maxErrors)){if(!t)throw new Error("No errorMessage known for code "+e);for(var o=(n=n||[]).length;o--;){var a=s.whatIs(n[o]),l="object"===a||"null"===a?JSON.stringify(n[o]):n[o];t=t.replace("{"+o+"}",l)}var c={code:e,params:n,message:t,path:this.getPath(this.options.reportPathAsArray),schemaId:this.getSchemaId()};if(c[s.schemaSymbol]=r,c[s.jsonSymbol]=this.getJson(),r&&"string"==typeof r?c.description=r:r&&"object"==typeof r&&(r.title&&(c.title=r.title),r.description&&(c.description=r.description)),null!=i){for(Array.isArray(i)||(i=[i]),c.inner=[],o=i.length;o--;)for(var u=i[o],d=u.errors.length;d--;)c.inner.push(u.errors[d]);0===c.inner.length&&(c.inner=void 0)}this.errors.push(c)}},e.exports=o},n6hF:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(e);try{var t=JSON.parse(e);return!!t&&"object"===function(e){return("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(t)}catch(n){}return!1};var i,r=(i=n("6k7E"))&&i.__esModule?i:{default:i};e.exports=t.default,e.exports.default=t.default},"nh+k":function(e,t){t.elements={".":{type:"dot"},"[":{type:"openBracket"},"]":{type:"closeBracket"},"|":{type:"pipe"},"{":{type:"openCurl"},"}":{type:"closeCurl"},":":{type:"colon"},",":{type:"comma"},"(":{type:"openParen"},")":{type:"closeParen"},"?":{type:"question"},"+":{type:"binaryOp",precedence:30,eval:(e,t)=>e+t},"-":{type:"binaryOp",precedence:30,eval:(e,t)=>e-t},"*":{type:"binaryOp",precedence:40,eval:(e,t)=>e*t},"/":{type:"binaryOp",precedence:40,eval:(e,t)=>e/t},"//":{type:"binaryOp",precedence:40,eval:(e,t)=>Math.floor(e/t)},"%":{type:"binaryOp",precedence:50,eval:(e,t)=>e%t},"^":{type:"binaryOp",precedence:50,eval:(e,t)=>Math.pow(e,t)},"==":{type:"binaryOp",precedence:20,eval:(e,t)=>e==t},"!=":{type:"binaryOp",precedence:20,eval:(e,t)=>e!=t},">":{type:"binaryOp",precedence:20,eval:(e,t)=>e>t},">=":{type:"binaryOp",precedence:20,eval:(e,t)=>e>=t},"<":{type:"binaryOp",precedence:20,eval:(e,t)=>e<t},"<=":{type:"binaryOp",precedence:20,eval:(e,t)=>e<=t},"&&":{type:"binaryOp",precedence:10,eval:(e,t)=>e&&t},"||":{type:"binaryOp",precedence:10,eval:(e,t)=>e||t},in:{type:"binaryOp",precedence:20,eval:(e,t)=>"string"==typeof t?-1!==t.indexOf(e):!!Array.isArray(t)&&t.some(t=>t===e)},"!":{type:"unaryOp",precedence:1/0,eval:e=>!e}}},pPNo:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\//g,"&#x2F;").replace(/\\/g,"&#x5C;").replace(/`/g,"&#96;")};var i,r=(i=n("6k7E"))&&i.__esModule?i:{default:i};e.exports=t.default,e.exports.default=t.default},qp7u:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),s.test(e)||o.test(e)||a.test(e)};var i,r=(i=n("6k7E"))&&i.__esModule?i:{default:i},s=/^(application|audio|font|image|message|model|multipart|text|video)\/[a-zA-Z0-9\.\-\+]{1,100}$/i,o=/^text\/[a-zA-Z0-9\.\-\+]{1,100};\s?charset=("[a-zA-Z0-9\.\-\+\s]{0,70}"|[a-zA-Z0-9\.\-\+]{0,70})(\s?\([a-zA-Z0-9\.\-\+\s]{1,20}\))?$/i,a=/^multipart\/[a-zA-Z0-9\.\-\+]{1,100}(;\s?(boundary|charset)=("[a-zA-Z0-9\.\-\+\s]{0,70}"|[a-zA-Z0-9\.\-\+]{0,70})(\s?\([a-zA-Z0-9\.\-\+\s]{1,20}\))?){0,2}$/i;e.exports=t.default,e.exports.default=t.default},rPmM:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,r.default)(e),!e.includes(","))return!1;var t=e.split(",");return s.test(t[0])&&o.test(t[1])};var i,r=(i=n("6k7E"))&&i.__esModule?i:{default:i},s=/^\(?[+-]?(90(\.0+)?|[1-8]?\d(\.\d+)?)$/,o=/^\s?[+-]?(180(\.0+)?|1[0-7]\d(\.\d+)?|\d{1,2}(\.\d+)?)\)?$/;e.exports=t.default,e.exports.default=t.default},rSS0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";if((0,r.default)(e),t in s.alpha)return s.alpha[t].test(e);throw new Error("Invalid locale '".concat(t,"'"))},t.locales=void 0;var i,r=(i=n("6k7E"))&&i.__esModule?i:{default:i},s=n("6P0E"),o=Object.keys(s.alpha);t.locales=o},rmRn:function(e,t){t.ArrayLiteral=function(e){return this.evalArray(e.value)},t.BinaryExpression=function(e){return this.Promise.all([this.eval(e.left),this.eval(e.right)]).then(t=>this._grammar[e.operator].eval(t[0],t[1]))},t.ConditionalExpression=function(e){return this.eval(e.test).then(t=>t?e.consequent?this.eval(e.consequent):t:this.eval(e.alternate))},t.FilterExpression=function(e){return this.eval(e.subject).then(t=>e.relative?this._filterRelative(t,e.expr):this._filterStatic(t,e.expr))},t.Identifier=function(e){return e.from?this.eval(e.from).then(t=>{if(null!=t)return Array.isArray(t)&&(t=t[0]),t[e.value]}):e.relative?this._relContext[e.value]:this._context[e.value]},t.Literal=function(e){return e.value},t.ObjectLiteral=function(e){return this.evalMap(e.value)},t.Transform=function(e){const t=this._transforms[e.name];if(!t)throw new Error(`Transform ${e.name} is not defined.`);return this.Promise.all([this.eval(e.subject),this.evalArray(e.args||[])]).then(e=>t.apply(null,[e[0]].concat(e[1])))},t.UnaryExpression=function(e){return this.eval(e.right).then(t=>this._grammar[e.operator].eval(t))}},s0YK:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),e===e.toLowerCase()};var i,r=(i=n("6k7E"))&&i.__esModule?i:{default:i};e.exports=t.default,e.exports.default=t.default},sBnQ:function(e,t,n){var i=n("UxTY"),r={date:function(e){if("string"!=typeof e)return!0;var t=/^([0-9]{4})-([0-9]{2})-([0-9]{2})$/.exec(e);return null!==t&&!(t[2]<"01"||t[2]>"12"||t[3]<"01"||t[3]>"31")},"date-time":function(e){if("string"!=typeof e)return!0;var t=e.toLowerCase().split("t");if(!r.date(t[0]))return!1;var n=/^([0-9]{2}):([0-9]{2}):([0-9]{2})(.[0-9]+)?(z|([+-][0-9]{2}:[0-9]{2}))$/.exec(t[1]);return null!==n&&!(n[1]>"23"||n[2]>"59"||n[3]>"59")},email:function(e){return"string"!=typeof e||i.isEmail(e,{require_tld:!0})},hostname:function(e){if("string"!=typeof e)return!0;var t=/^[a-zA-Z](([-0-9a-zA-Z]+)?[0-9a-zA-Z])?(\.[a-zA-Z](([-0-9a-zA-Z]+)?[0-9a-zA-Z])?)*$/.test(e);if(t){if(e.length>255)return!1;for(var n=e.split("."),i=0;i<n.length;i++)if(n[i].length>63)return!1}return t},"host-name":function(e){return r.hostname.call(this,e)},ipv4:function(e){return"string"!=typeof e||i.isIP(e,4)},ipv6:function(e){return"string"!=typeof e||i.isIP(e,6)},regex:function(e){try{return RegExp(e),!0}catch(t){return!1}},uri:function(e){return this.options.strictUris?r["strict-uri"].apply(this,arguments):"string"!=typeof e||RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?").test(e)},"strict-uri":function(e){return"string"!=typeof e||i.isURL(e)}};e.exports=r},"tH+H":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if((0,r.default)(t),!(n=String(n)))return e(t,10)||e(t,13);var i,l=t.replace(/[\s-]+/g,""),c=0;if("10"===n){if(!s.test(l))return!1;for(i=0;i<9;i++)c+=(i+1)*l.charAt(i);if("X"===l.charAt(9)?c+=100:c+=10*l.charAt(9),c%11==0)return!!l}else if("13"===n){if(!o.test(l))return!1;for(i=0;i<12;i++)c+=a[i%2]*l.charAt(i);if(l.charAt(12)-(10-c%10)%10==0)return!!l}return!1};var i,r=(i=n("6k7E"))&&i.__esModule?i:{default:i},s=/^(?:[0-9]{9}X|[0-9]{10})$/,o=/^(?:[0-9]{13})$/,a=[1,3];e.exports=t.default,e.exports.default=t.default},tdUM:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,r.default)(e),parseInt(e,t||10)};var i,r=(i=n("6k7E"))&&i.__esModule?i:{default:i};e.exports=t.default,e.exports.default=t.default},"v+k6":function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-04/hyper-schema#","id":"http://json-schema.org/draft-04/hyper-schema#","title":"JSON Hyper-Schema","allOf":[{"$ref":"http://json-schema.org/draft-04/schema#"}],"properties":{"additionalItems":{"anyOf":[{"type":"boolean"},{"$ref":"#"}]},"additionalProperties":{"anyOf":[{"type":"boolean"},{"$ref":"#"}]},"dependencies":{"additionalProperties":{"anyOf":[{"$ref":"#"},{"type":"array"}]}},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}]},"definitions":{"additionalProperties":{"$ref":"#"}},"patternProperties":{"additionalProperties":{"$ref":"#"}},"properties":{"additionalProperties":{"$ref":"#"}},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"},"links":{"type":"array","items":{"$ref":"#/definitions/linkDescription"}},"fragmentResolution":{"type":"string"},"media":{"type":"object","properties":{"type":{"description":"A media type, as described in RFC 2046","type":"string"},"binaryEncoding":{"description":"A content encoding scheme, as described in RFC 2045","type":"string"}}},"pathStart":{"description":"Instances\' URIs must start with this value for this schema to apply to them","type":"string","format":"uri"}},"definitions":{"schemaArray":{"type":"array","items":{"$ref":"#"}},"linkDescription":{"title":"Link Description Object","type":"object","required":["href","rel"],"properties":{"href":{"description":"a URI template, as defined by RFC 6570, with the addition of the $, ( and ) characters for pre-processing","type":"string"},"rel":{"description":"relation to the target resource of the link","type":"string"},"title":{"description":"a title for the link","type":"string"},"targetSchema":{"description":"JSON Schema describing the link target","$ref":"#"},"mediaType":{"description":"media type (as defined by RFC 2046) describing the link target","type":"string"},"method":{"description":"method for requesting the target of the link (e.g. for HTTP this might be \\"GET\\" or \\"DELETE\\")","type":"string"},"encType":{"description":"The media type in which to submit data along with the request","type":"string","default":"application/json"},"schema":{"description":"Schema describing the data to submit along with the request","$ref":"#"}}}}}')},vPLp:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),s.fullWidth.test(e)&&o.halfWidth.test(e)};var i,r=(i=n("6k7E"))&&i.__esModule?i:{default:i},s=n("KNG5"),o=n("E+Yo");e.exports=t.default,e.exports.default=t.default},w2nx:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e,{min:0,max:65535})};var i,r=(i=n("2Z+7"))&&i.__esModule?i:{default:i};e.exports=t.default,e.exports.default=t.default},wuXC:function(e,t,n){(function(e){var n="[object Arguments]",i="[object Map]",r="[object Object]",s="[object Set]",o=/^\[object .+?Constructor\]$/,a=/^(?:0|[1-9]\d*)$/,l={};l["[object Float32Array]"]=l["[object Float64Array]"]=l["[object Int8Array]"]=l["[object Int16Array]"]=l["[object Int32Array]"]=l["[object Uint8Array]"]=l["[object Uint8ClampedArray]"]=l["[object Uint16Array]"]=l["[object Uint32Array]"]=!0,l[n]=l["[object Array]"]=l["[object ArrayBuffer]"]=l["[object Boolean]"]=l["[object DataView]"]=l["[object Date]"]=l["[object Error]"]=l["[object Function]"]=l[i]=l["[object Number]"]=l[r]=l["[object RegExp]"]=l[s]=l["[object String]"]=l["[object WeakMap]"]=!1;var c="object"==typeof global&&global&&global.Object===Object&&global,u="object"==typeof self&&self&&self.Object===Object&&self,d=c||u||Function("return this")(),h=t&&!t.nodeType&&t,p=h&&"object"==typeof e&&e&&!e.nodeType&&e,f=p&&p.exports===h,m=f&&c.process,g=function(){try{return m&&m.binding&&m.binding("util")}catch(e){}}(),y=g&&g.isTypedArray;function b(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}function v(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}function _(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var E,w,O,P=Array.prototype,A=Object.prototype,T=d["__core-js_shared__"],C=Function.prototype.toString,k=A.hasOwnProperty,x=(E=/[^.]+$/.exec(T&&T.keys&&T.keys.IE_PROTO||""))?"Symbol(src)_1."+E:"",S=A.toString,M=RegExp("^"+C.call(k).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),I=f?d.Buffer:void 0,j=d.Symbol,R=d.Uint8Array,N=A.propertyIsEnumerable,V=P.splice,L=j?j.toStringTag:void 0,D=Object.getOwnPropertySymbols,$=I?I.isBuffer:void 0,F=(w=Object.keys,O=Object,function(e){return w(O(e))}),U=he(d,"DataView"),B=he(d,"Map"),H=he(d,"Promise"),K=he(d,"Set"),W=he(d,"WeakMap"),q=he(Object,"create"),Y=ge(U),z=ge(B),G=ge(H),Z=ge(K),Q=ge(W),X=j?j.prototype:void 0,J=X?X.valueOf:void 0;function ee(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function te(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function ne(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function ie(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ne;++t<n;)this.add(e[t])}function re(e){var t=this.__data__=new te(e);this.size=t.size}function se(e,t){for(var n=e.length;n--;)if(ye(e[n][0],t))return n;return-1}function oe(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":L&&L in Object(e)?function(e){var t=k.call(e,L),n=e[L];try{e[L]=void 0;var i=!0}catch(s){}var r=S.call(e);return i&&(t?e[L]=n:delete e[L]),r}(e):function(e){return S.call(e)}(e)}function ae(e){return Pe(e)&&oe(e)==n}function le(e,t,o,a,l){return e===t||(null==e||null==t||!Pe(e)&&!Pe(t)?e!=e&&t!=t:function(e,t,o,a,l,c){var u=ve(e),d=ve(t),h=u?"[object Array]":fe(e),p=d?"[object Array]":fe(t),f=(h=h==n?r:h)==r,m=(p=p==n?r:p)==r,g=h==p;if(g&&_e(e)){if(!_e(t))return!1;u=!0,f=!1}if(g&&!f)return c||(c=new re),u||Ae(e)?ce(e,t,o,a,l,c):function(e,t,n,r,o,a,l){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new R(e),new R(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ye(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case i:var c=v;case s:if(c||(c=_),e.size!=t.size&&!(1&r))return!1;var u=l.get(e);if(u)return u==t;r|=2,l.set(e,t);var d=ce(c(e),c(t),r,o,a,l);return l.delete(e),d;case"[object Symbol]":if(J)return J.call(e)==J.call(t)}return!1}(e,t,h,o,a,l,c);if(!(1&o)){var y=f&&k.call(e,"__wrapped__"),b=m&&k.call(t,"__wrapped__");if(y||b){var E=y?e.value():e,w=b?t.value():t;return c||(c=new re),l(E,w,o,a,c)}}return!!g&&(c||(c=new re),function(e,t,n,i,r,s){var o=1&n,a=ue(e),l=a.length;if(l!=ue(t).length&&!o)return!1;for(var c=l;c--;){var u=a[c];if(!(o?u in t:k.call(t,u)))return!1}var d=s.get(e);if(d&&s.get(t))return d==t;var h=!0;s.set(e,t),s.set(t,e);for(var p=o;++c<l;){var f=e[u=a[c]],m=t[u];if(i)var g=o?i(m,f,u,t,e,s):i(f,m,u,e,t,s);if(!(void 0===g?f===m||r(f,m,n,i,s):g)){h=!1;break}p||(p="constructor"==u)}if(h&&!p){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(h=!1)}return s.delete(e),s.delete(t),h}(e,t,o,a,l,c))}(e,t,o,a,le,l))}function ce(e,t,n,i,r,s){var o=1&n,a=e.length,l=t.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(e);if(c&&s.get(t))return c==t;var u=-1,d=!0,h=2&n?new ie:void 0;for(s.set(e,t),s.set(t,e);++u<a;){var p=e[u],f=t[u];if(i)var m=o?i(f,p,u,t,e,s):i(p,f,u,e,t,s);if(void 0!==m){if(m)continue;d=!1;break}if(h){if(!b(t,(function(e,t){if(!h.has(t)&&(p===e||r(p,e,n,i,s)))return h.push(t)}))){d=!1;break}}else if(p!==f&&!r(p,f,n,i,s)){d=!1;break}}return s.delete(e),s.delete(t),d}function ue(e){return function(e,t,n){var i=t(e);return ve(e)?i:function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}(i,n(e))}(e,Te,pe)}function de(e,t){var n,i,r=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map}function he(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Oe(e)||function(e){return!!x&&x in e}(e))&&(Ee(e)?M:o).test(ge(e))}(n)?n:void 0}ee.prototype.clear=function(){this.__data__=q?q(null):{},this.size=0},ee.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ee.prototype.get=function(e){var t=this.__data__;if(q){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return k.call(t,e)?t[e]:void 0},ee.prototype.has=function(e){var t=this.__data__;return q?void 0!==t[e]:k.call(t,e)},ee.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=q&&void 0===t?"__lodash_hash_undefined__":t,this},te.prototype.clear=function(){this.__data__=[],this.size=0},te.prototype.delete=function(e){var t=this.__data__,n=se(t,e);return!(n<0||(n==t.length-1?t.pop():V.call(t,n,1),--this.size,0))},te.prototype.get=function(e){var t=this.__data__,n=se(t,e);return n<0?void 0:t[n][1]},te.prototype.has=function(e){return se(this.__data__,e)>-1},te.prototype.set=function(e,t){var n=this.__data__,i=se(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},ne.prototype.clear=function(){this.size=0,this.__data__={hash:new ee,map:new(B||te),string:new ee}},ne.prototype.delete=function(e){var t=de(this,e).delete(e);return this.size-=t?1:0,t},ne.prototype.get=function(e){return de(this,e).get(e)},ne.prototype.has=function(e){return de(this,e).has(e)},ne.prototype.set=function(e,t){var n=de(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},ie.prototype.add=ie.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},ie.prototype.has=function(e){return this.__data__.has(e)},re.prototype.clear=function(){this.__data__=new te,this.size=0},re.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},re.prototype.get=function(e){return this.__data__.get(e)},re.prototype.has=function(e){return this.__data__.has(e)},re.prototype.set=function(e,t){var n=this.__data__;if(n instanceof te){var i=n.__data__;if(!B||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new ne(i)}return n.set(e,t),this.size=n.size,this};var pe=D?function(e){return null==e?[]:(e=Object(e),function(t,n){for(var i=-1,r=null==t?0:t.length,s=0,o=[];++i<r;){var a=t[i];N.call(e,a)&&(o[s++]=a)}return o}(D(e)))}:function(){return[]},fe=oe;function me(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||a.test(e))&&e>-1&&e%1==0&&e<t}function ge(e){if(null!=e){try{return C.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function ye(e,t){return e===t||e!=e&&t!=t}(U&&"[object DataView]"!=fe(new U(new ArrayBuffer(1)))||B&&fe(new B)!=i||H&&"[object Promise]"!=fe(H.resolve())||K&&fe(new K)!=s||W&&"[object WeakMap]"!=fe(new W))&&(fe=function(e){var t=oe(e),n=t==r?e.constructor:void 0,o=n?ge(n):"";if(o)switch(o){case Y:return"[object DataView]";case z:return i;case G:return"[object Promise]";case Z:return s;case Q:return"[object WeakMap]"}return t});var be=ae(function(){return arguments}())?ae:function(e){return Pe(e)&&k.call(e,"callee")&&!N.call(e,"callee")},ve=Array.isArray,_e=$||function(){return!1};function Ee(e){if(!Oe(e))return!1;var t=oe(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function we(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Oe(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Pe(e){return null!=e&&"object"==typeof e}var Ae=y?function(e){return function(t){return e(t)}}(y):function(e){return Pe(e)&&we(e.length)&&!!l[oe(e)]};function Te(e){return null!=(t=e)&&we(t.length)&&!Ee(t)?function(e,t){var n=ve(e),i=!n&&be(e),r=!n&&!i&&_e(e),s=!n&&!i&&!r&&Ae(e),o=n||i||r||s,a=o?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],l=a.length;for(var c in e)!k.call(e,c)||o&&("length"==c||r&&("offset"==c||"parent"==c)||s&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||me(c,l))||a.push(c);return a}(e):function(e){if((t=e)!==("function"==typeof(n=t&&t.constructor)&&n.prototype||A))return F(e);var t,n,i=[];for(var r in Object(e))k.call(e,r)&&"constructor"!=r&&i.push(r);return i}(e);var t}e.exports=function(e,t){return le(e,t)}}).call(this,n("aYSr")(e))},yowR:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),s.test(e)};var i,r=(i=n("6k7E"))&&i.__esModule?i:{default:i},s=/^([A-Za-z0-9\-_~+\/]+[=]{0,2})\.([A-Za-z0-9\-_~+\/]+[=]{0,2})(?:\.([A-Za-z0-9\-_~+\/]+[=]{0,2}))?$/;e.exports=t.default,e.exports.default=t.default}}]);