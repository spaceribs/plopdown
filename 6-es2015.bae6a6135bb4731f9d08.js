(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{J4sq:function(e,t,i){"use strict";function r(e,t,i){var r=i?" !== ":" === ",n=i?" || ":" && ",s=i?"!":"",a=i?"":"!";switch(e){case"null":return t+r+"null";case"array":return s+"Array.isArray("+t+")";case"object":return"("+s+t+n+"typeof "+t+r+'"object"'+n+a+"Array.isArray("+t+"))";case"integer":return"(typeof "+t+r+'"number"'+n+a+"("+t+" % 1)"+n+t+r+t+")";default:return"typeof "+t+r+'"'+e+'"'}}e.exports={copy:function(e,t){for(var i in t=t||{},e)t[i]=e[i];return t},checkDataType:r,checkDataTypes:function(e,t){switch(e.length){case 1:return r(e[0],t,!0);default:var i="",n=s(e);for(var a in n.array&&n.object&&(i=n.null?"(":"(!"+t+" || ",i+="typeof "+t+' !== "object")',delete n.null,delete n.array,delete n.object),n.number&&delete n.integer,n)i+=(i?" && ":"")+r(a,t,!0);return i}},coerceToTypes:function(e,t){if(Array.isArray(t)){for(var i=[],r=0;r<t.length;r++){var s=t[r];(n[s]||"array"===e&&"array"===s)&&(i[i.length]=s)}if(i.length)return i}else{if(n[t])return[t];if("array"===e&&"array"===t)return["array"]}},toHash:s,getProperty:l,escapeQuotes:u,equal:i("b2e3"),ucs2length:i("Jui5"),varOccurences:function(e,t){var i=e.match(new RegExp(t+="[^0-9]","g"));return i?i.length:0},varReplace:function(e,t,i){return t+="([^0-9])",i=i.replace(/\$/g,"$$$$"),e.replace(new RegExp(t,"g"),i+"$1")},cleanUpCode:function(e){return e.replace(d,"").replace(c,"").replace(h,"if (!($1))")},finalCleanUpCode:function(e,t){var i=e.match(p);return i&&2==i.length&&(e=t?e.replace(f,"").replace(g,"return data;"):e.replace(m,"").replace("return errors === 0;","validate.errors = null; return true;")),(i=e.match(y))&&3===i.length?e.replace(b,""):e},schemaHasRules:function(e,t){if("boolean"==typeof e)return!e;for(var i in e)if(t[i])return!0},schemaHasRulesExcept:function(e,t,i){if("boolean"==typeof e)return!e&&"not"!=i;for(var r in e)if(r!=i&&t[r])return!0},schemaUnknownRules:function(e,t){if("boolean"!=typeof e)for(var i in e)if(!t[i])return i},toQuotedString:v,getPathExpr:function(e,t,i,r){return k(e,i?"'/' + "+t+(r?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):r?"'[' + "+t+" + ']'":"'[\\'' + "+t+" + '\\']'")},getPath:function(e,t,i){return k(e,v(i?"/"+O(t):l(t)))},getData:function(e,t,i){var r,n,s,a;if(""===e)return"rootData";if("/"==e[0]){if(!w.test(e))throw new Error("Invalid JSON-pointer: "+e);n=e,s="rootData"}else{if(!(a=e.match(P)))throw new Error("Invalid JSON-pointer: "+e);if(r=+a[1],"#"==(n=a[2])){if(r>=t)throw new Error("Cannot access property/index "+r+" levels up, current level is "+t);return i[t-r]}if(r>t)throw new Error("Cannot access data "+r+" levels up, current level is "+t);if(s="data"+(t-r||""),!n)return s}for(var o=s,u=n.split("/"),d=0;d<u.length;d++){var c=u[d];c&&(o+=" && "+(s+=l(T(c))))}return o},unescapeFragment:function(e){return T(decodeURIComponent(e))},unescapeJsonPointer:T,escapeFragment:function(e){return encodeURIComponent(O(e))},escapeJsonPointer:O};var n=s(["string","number","integer","boolean","null"]);function s(e){for(var t={},i=0;i<e.length;i++)t[e[i]]=!0;return t}var a=/^[a-z$_][a-z$_0-9]*$/i,o=/'|\\/g;function l(e){return"number"==typeof e?"["+e+"]":a.test(e)?"."+e:"['"+u(e)+"']"}function u(e){return e.replace(o,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}var d=/else\s*{\s*}/g,c=/if\s*\([^)]+\)\s*\{\s*\}(?!\s*else)/g,h=/if\s*\(([^)]+)\)\s*\{\s*\}\s*else(?!\s*if)/g,p=/[^v.]errors/g,m=/var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g,f=/var errors = 0;|var vErrors = null;/g,g=/if \(errors === 0\) return data;\s*else throw new ValidationError\(vErrors\);/,y=/[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g,b=/if \(rootData === undefined\) rootData = data;/;function v(e){return"'"+u(e)+"'"}var w=/^\/(?:[^~]|~0|~1)*$/,P=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function k(e,t){return'""'==e?t:(e+" + "+t).replace(/' \+ '/g,"")}function O(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function T(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}},Jui5:function(e,t,i){"use strict";e.exports=function(e){for(var t,i=0,r=e.length,n=0;n<r;)i++,(t=e.charCodeAt(n++))>=55296&&t<=56319&&n<r&&56320==(64512&(t=e.charCodeAt(n)))&&n++;return i}},SALw:function(e,t,i){"use strict";var r=i("J4sq"),n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,s=[0,31,28,31,30,31,30,31,31,30,31,30,31],a=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,o=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,l=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,u=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,d=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,c=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,h=/^(?:\/(?:[^~/]|~0|~1)*)*$/,p=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,m=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;function f(e){return r.copy(f[e="full"==e?"full":"fast"])}function g(e){var t=e.match(n);if(!t)return!1;var i,r=+t[2],a=+t[3];return r>=1&&r<=12&&a>=1&&a<=(2!=r||(i=+t[1])%4!=0||i%100==0&&i%400!=0?s[r]:29)}function y(e,t){var i=e.match(a);if(!i)return!1;var r=i[1],n=i[2],s=i[3];return(r<=23&&n<=59&&s<=59||23==r&&59==n&&60==s)&&(!t||i[5])}e.exports=f,f.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":u,url:d,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:o,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:P,uuid:c,"json-pointer":h,"json-pointer-uri-fragment":p,"relative-json-pointer":m},f.full={date:g,time:y,"date-time":function(e){var t=e.split(b);return 2==t.length&&g(t[0])&&y(t[1],!0)},uri:function(e){return v.test(e)&&l.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":u,url:d,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:o,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:P,uuid:c,"json-pointer":h,"json-pointer-uri-fragment":p,"relative-json-pointer":m};var b=/t|\s/i,v=/\/|:/,w=/[^\\]\\Z/;function P(e){if(w.test(e))return!1;try{return new RegExp(e),!0}catch(t){return!1}}},UsHt:function(e,t,i){"use strict";e.exports=i("b2e3")},Yv8S:function(e){e.exports=JSON.parse("{}")},abyM:function(e,t,i){"use strict";var r=i("SALw")(),n=i("Jui5"),s=i("UsHt"),a=function(){new RegExp("^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\))$"),new RegExp("^([0-9]+\\s)+[0-9]+$"),new RegExp("^((-?[0-9]+),(-?[0-9]+)\\s)+(-?[0-9]+),(-?[0-9]+)$"),new RegExp("^([0-9]+\\s){3}[0-9]+$");var e=[],t=(new RegExp("^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\))$"),new RegExp("^([0-9]+\\s)+[0-9]+$"),new RegExp("^((-?[0-9]+),(-?[0-9]+)\\s)+(-?[0-9]+),(-?[0-9]+)$"),new RegExp("^([0-9]+\\s){3}[0-9]+$"),function e(t,r,n,s,a){var o=null,l=0;if(void 0===a&&(a=t),!t||"object"!=typeof t||Array.isArray(t))return e.errors=[{keyword:"type",dataPath:(r||"")+"",schemaPath:"#/type",params:{type:"object"},message:"should be object"}],!1;var u=!0;for(var d in t)if("data"!=d&&"endTime"!=d&&"id"!=d&&"startTime"!=d)return u=!1,e.errors=[{keyword:"additionalProperties",dataPath:(r||"")+"",schemaPath:"#/additionalProperties",params:{additionalProperty:""+d},message:"should NOT have additional properties"}],!1;if(u){if(void 0===t.data)return u=!1,e.errors=[{keyword:"required",dataPath:(r||"")+"",schemaPath:"#/required",params:{missingProperty:"data"},message:"should have required property 'data'"}],!1;var c=l;if(i(t.data,(r||"")+".data",t,"data",a)||(l=(o=null===o?i.errors:o.concat(i.errors)).length),u=l===c){if(void 0===t.endTime)return u=!1,e.errors=[{keyword:"required",dataPath:(r||"")+"",schemaPath:"#/required",params:{missingProperty:"endTime"},message:"should have required property 'endTime'"}],!1;if(c=l,"number"!=typeof t.endTime)return e.errors=[{keyword:"type",dataPath:(r||"")+".endTime",schemaPath:"#/properties/endTime/type",params:{type:"number"},message:"should be number"}],!1;if(u=l===c){if(void 0===t.id)return u=!1,e.errors=[{keyword:"required",dataPath:(r||"")+"",schemaPath:"#/required",params:{missingProperty:"id"},message:"should have required property 'id'"}],!1;if(c=l,"string"!=typeof t.id)return e.errors=[{keyword:"type",dataPath:(r||"")+".id",schemaPath:"#/properties/id/type",params:{type:"string"},message:"should be string"}],!1;if(u=l===c){if(void 0===t.startTime)return u=!1,e.errors=[{keyword:"required",dataPath:(r||"")+"",schemaPath:"#/required",params:{missingProperty:"startTime"},message:"should have required property 'startTime'"}],!1;if(c=l,"number"!=typeof t.startTime)return e.errors=[{keyword:"type",dataPath:(r||"")+".startTime",schemaPath:"#/properties/startTime/type",params:{type:"number"},message:"should be number"}],!1;u=l===c}}}}return e.errors=o,0===l});t.schema={additionalProperties:!1,properties:{data:{$ref:"#/definitions/PlopdownTemplate"},endTime:{type:"number"},id:{type:"string"},startTime:{type:"number"}},required:["startTime","endTime","id","data"],type:"object"},t.errors=null,e[1]=t;var i=(new RegExp("^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\))$"),new RegExp("^([0-9]+\\s)+[0-9]+$"),new RegExp("^((-?[0-9]+),(-?[0-9]+)\\s)+(-?[0-9]+),(-?[0-9]+)$"),new RegExp("^([0-9]+\\s){3}[0-9]+$"),function e(t,i,r,n,s){var u=null,d=0;void 0===s&&(s=t);var c=d,h=!1,p=d;a(t,i||"",r,n,s)||(d=(u=null===u?a.errors:u.concat(a.errors)).length);var f=d===p;if((h=h||f)||(p=d,o(t,i||"",r,n,s)||(d=(u=null===u?o.errors:u.concat(o.errors)).length),f=d===p,(h=h||f)||(p=d,l(t,i||"",r,n,s)||(d=(u=null===u?l.errors:u.concat(l.errors)).length),f=d===p,(h=h||f)||(p=d,m(t,i||"",r,n,s)||(d=(u=null===u?m.errors:u.concat(m.errors)).length),f=d===p,h=h||f))),!h){var g={keyword:"anyOf",dataPath:(i||"")+"",schemaPath:"#/anyOf",params:{},message:"should match some schema in anyOf"};return null===u?u=[g]:u.push(g),d++,e.errors=u,!1}return d=c,null!==u&&(c?u.length=c:u=null),e.errors=u,0===d});i.schema={anyOf:[{$ref:"#/definitions/PlopdownInfo"},{$ref:"#/definitions/PlopdownPlop"},{$ref:"#/definitions/PlopdownAudio"},{$ref:"#/definitions/PlopdownShape"}]},i.errors=null,e[2]=i;var a=(new RegExp("^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\))$"),new RegExp("^([0-9]+\\s)+[0-9]+$"),new RegExp("^((-?[0-9]+),(-?[0-9]+)\\s)+(-?[0-9]+),(-?[0-9]+)$"),new RegExp("^([0-9]+\\s){3}[0-9]+$"),function e(t,i,a,o,l){if(!t||"object"!=typeof t||Array.isArray(t))return e.errors=[{keyword:"type",dataPath:(i||"")+"",schemaPath:"#/type",params:{type:"object"},message:"should be object"}],!1;var u=!0;for(var d in t)if("authors"!=d&&"title"!=d&&"type"!=d&&"url"!=d)return u=!1,e.errors=[{keyword:"additionalProperties",dataPath:(i||"")+"",schemaPath:"#/additionalProperties",params:{additionalProperty:""+d},message:"should NOT have additional properties"}],!1;if(u){if(void 0===(f=t.authors))return u=!1,e.errors=[{keyword:"required",dataPath:(i||"")+"",schemaPath:"#/required",params:{missingProperty:"authors"},message:"should have required property 'authors'"}],!1;var c=0;if(!Array.isArray(f))return e.errors=[{keyword:"type",dataPath:(i||"")+".authors",schemaPath:"#/properties/authors/type",params:{type:"array"},message:"should be array"}],!1;for(var h=0;h<f.length;h++){var p=f[h],m=0;if("string"!=typeof p)return e.errors=[{keyword:"type",dataPath:(i||"")+".authors["+h+"]",schemaPath:"#/definitions/Author/type",params:{type:"string"},message:"should be string"}],!1;if(n(p)>128)return e.errors=[{keyword:"maxLength",dataPath:(i||"")+".authors["+h+"]",schemaPath:"#/definitions/Author/maxLength",params:{limit:128},message:"should NOT be longer than 128 characters"}],!1;if(n(p)<2)return e.errors=[{keyword:"minLength",dataPath:(i||"")+".authors["+h+"]",schemaPath:"#/definitions/Author/minLength",params:{limit:2},message:"should NOT be shorter than 2 characters"}],!1;if(0!==m)break}if(u=0===c){if(void 0===(f=t.title))return u=!1,e.errors=[{keyword:"required",dataPath:(i||"")+"",schemaPath:"#/required",params:{missingProperty:"title"},message:"should have required property 'title'"}],!1;if(c=0,m=0,"string"!=typeof f)return e.errors=[{keyword:"type",dataPath:(i||"")+".title",schemaPath:"#/definitions/Title/type",params:{type:"string"},message:"should be string"}],!1;if(n(f)>256)return e.errors=[{keyword:"maxLength",dataPath:(i||"")+".title",schemaPath:"#/definitions/Title/maxLength",params:{limit:256},message:"should NOT be longer than 256 characters"}],!1;if(n(f)<2)return e.errors=[{keyword:"minLength",dataPath:(i||"")+".title",schemaPath:"#/definitions/Title/minLength",params:{limit:2},message:"should NOT be shorter than 2 characters"}],!1;if(u=0===c){if(void 0===(f=t.type))return u=!1,e.errors=[{keyword:"required",dataPath:(i||"")+"",schemaPath:"#/required",params:{missingProperty:"type"},message:"should have required property 'type'"}],!1;if(c=0,"string"!=typeof f)return e.errors=[{keyword:"type",dataPath:(i||"")+".type",schemaPath:"#/properties/type/type",params:{type:"string"},message:"should be string"}],!1;var f,g=e.schema.properties.type.enum;for(u=!1,h=0;h<g.length;h++)if(s(f,g[h])){u=!0;break}if(!u)return e.errors=[{keyword:"enum",dataPath:(i||"")+".type",schemaPath:"#/properties/type/enum",params:{allowedValues:g},message:"should be equal to one of the allowed values"}],!1;if(u=0===c)if(void 0===(f=t.url))u=!0;else{if(c=0,0==(m=0)){if("string"!=typeof f)return e.errors=[{keyword:"type",dataPath:(i||"")+".url",schemaPath:"#/definitions/ExternalLink/type",params:{type:"string"},message:"should be string"}],!1;if(!r.uri.test(f))return e.errors=[{keyword:"format",dataPath:(i||"")+".url",schemaPath:"#/definitions/ExternalLink/format",params:{format:"uri"},message:'should match format "uri"'}],!1}u=0===c}}}}return e.errors=null,!0});a.schema={additionalProperties:!1,properties:{authors:{items:{$ref:"#/definitions/Author"},type:"array"},title:{$ref:"#/definitions/Title"},type:{enum:["INFO"],type:"string"},url:{$ref:"#/definitions/ExternalLink"}},required:["authors","title","type"],type:"object"},a.errors=null,e[3]=a,e[4]={description:"An author to attribute composition to.",maxLength:128,minLength:2,type:"string"},e[5]={description:"A short statement.",maxLength:256,minLength:2,type:"string"},e[6]={description:"An external URL to get more information.",format:"uri",type:"string"};var o=(new RegExp("^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\))$"),new RegExp("^([0-9]+\\s)+[0-9]+$"),new RegExp("^((-?[0-9]+),(-?[0-9]+)\\s)+(-?[0-9]+),(-?[0-9]+)$"),new RegExp("^([0-9]+\\s){3}[0-9]+$"),function e(t,i,a,o,l){if(!t||"object"!=typeof t||Array.isArray(t))return e.errors=[{keyword:"type",dataPath:(i||"")+"",schemaPath:"#/type",params:{type:"object"},message:"should be object"}],!1;var u=!0;for(var d in t)if("desc"!=d&&"footnotes"!=d&&"icons"!=d&&"left"!=d&&"top"!=d&&"type"!=d&&"width"!=d)return u=!1,e.errors=[{keyword:"additionalProperties",dataPath:(i||"")+"",schemaPath:"#/additionalProperties",params:{additionalProperty:""+d},message:"should NOT have additional properties"}],!1;if(u){if(void 0===(w=t.desc))return u=!1,e.errors=[{keyword:"required",dataPath:(i||"")+"",schemaPath:"#/required",params:{missingProperty:"desc"},message:"should have required property 'desc'"}],!1;var c=0,h=0;if("string"!=typeof w)return e.errors=[{keyword:"type",dataPath:(i||"")+".desc",schemaPath:"#/definitions/Description/type",params:{type:"string"},message:"should be string"}],!1;if(n(w)>1024)return e.errors=[{keyword:"maxLength",dataPath:(i||"")+".desc",schemaPath:"#/definitions/Description/maxLength",params:{limit:1024},message:"should NOT be longer than 1024 characters"}],!1;if(n(w)<2)return e.errors=[{keyword:"minLength",dataPath:(i||"")+".desc",schemaPath:"#/definitions/Description/minLength",params:{limit:2},message:"should NOT be shorter than 2 characters"}],!1;if(u=0===c){if(void 0===(w=t.footnotes))u=!0;else{if(c=0,!Array.isArray(w))return e.errors=[{keyword:"type",dataPath:(i||"")+".footnotes",schemaPath:"#/properties/footnotes/type",params:{type:"array"},message:"should be array"}],!1;for(var p=0;p<w.length;p++){if(h=0,!(y=w[p])||"object"!=typeof y||Array.isArray(y))return e.errors=[{keyword:"type",dataPath:(i||"")+".footnotes["+p+"]",schemaPath:"#/properties/footnotes/items/type",params:{type:"object"},message:"should be object"}],!1;var m=!0;for(var f in y)if("title"!=f&&"url"!=f)return m=!1,e.errors=[{keyword:"additionalProperties",dataPath:(i||"")+".footnotes["+p+"]",schemaPath:"#/properties/footnotes/items/additionalProperties",params:{additionalProperty:""+f},message:"should NOT have additional properties"}],!1;if(m){if(void 0===(b=y.title))return m=!1,e.errors=[{keyword:"required",dataPath:(i||"")+".footnotes["+p+"]",schemaPath:"#/properties/footnotes/items/required",params:{missingProperty:"title"},message:"should have required property 'title'"}],!1;var g=0;if("string"!=typeof b)return e.errors=[{keyword:"type",dataPath:(i||"")+".footnotes["+p+"].title",schemaPath:"#/definitions/Title/type",params:{type:"string"},message:"should be string"}],!1;if(n(b)>256)return e.errors=[{keyword:"maxLength",dataPath:(i||"")+".footnotes["+p+"].title",schemaPath:"#/definitions/Title/maxLength",params:{limit:256},message:"should NOT be longer than 256 characters"}],!1;if(n(b)<2)return e.errors=[{keyword:"minLength",dataPath:(i||"")+".footnotes["+p+"].title",schemaPath:"#/definitions/Title/minLength",params:{limit:2},message:"should NOT be shorter than 2 characters"}],!1;if(m=0===g){if(void 0===(b=y.url))return m=!1,e.errors=[{keyword:"required",dataPath:(i||"")+".footnotes["+p+"]",schemaPath:"#/properties/footnotes/items/required",params:{missingProperty:"url"},message:"should have required property 'url'"}],!1;if(g=0,"string"!=typeof b)return e.errors=[{keyword:"type",dataPath:(i||"")+".footnotes["+p+"].url",schemaPath:"#/definitions/ExternalLink/type",params:{type:"string"},message:"should be string"}],!1;if(!r.uri.test(b))return e.errors=[{keyword:"format",dataPath:(i||"")+".footnotes["+p+"].url",schemaPath:"#/definitions/ExternalLink/format",params:{format:"uri"},message:'should match format "uri"'}],!1;m=0===g}}if(0!==h)break}u=0===c}if(u){if(void 0===(w=t.icons))return u=!1,e.errors=[{keyword:"required",dataPath:(i||"")+"",schemaPath:"#/required",params:{missingProperty:"icons"},message:"should have required property 'icons'"}],!1;if(c=0,!Array.isArray(w))return e.errors=[{keyword:"type",dataPath:(i||"")+".icons",schemaPath:"#/properties/icons/type",params:{type:"array"},message:"should be array"}],!1;for(p=0;p<w.length;p++){var y;if(h=0,!(y=w[p])||"object"!=typeof y||Array.isArray(y))return e.errors=[{keyword:"type",dataPath:(i||"")+".icons["+p+"]",schemaPath:"#/properties/icons/items/type",params:{type:"object"},message:"should be object"}],!1;for(var f in m=!0,y)if("emoji"!=f&&"left"!=f&&"rotate"!=f&&"size"!=f&&"top"!=f)return m=!1,e.errors=[{keyword:"additionalProperties",dataPath:(i||"")+".icons["+p+"]",schemaPath:"#/properties/icons/items/additionalProperties",params:{additionalProperty:""+f},message:"should NOT have additional properties"}],!1;if(m){if(void 0===(b=y.emoji))return m=!1,e.errors=[{keyword:"required",dataPath:(i||"")+".icons["+p+"]",schemaPath:"#/properties/icons/items/required",params:{missingProperty:"emoji"},message:"should have required property 'emoji'"}],!1;if(g=0,"string"!=typeof b)return e.errors=[{keyword:"type",dataPath:(i||"")+".icons["+p+"].emoji",schemaPath:"#/definitions/Emoji/type",params:{type:"string"},message:"should be string"}],!1;if(n(b)>32)return e.errors=[{keyword:"maxLength",dataPath:(i||"")+".icons["+p+"].emoji",schemaPath:"#/definitions/Emoji/maxLength",params:{limit:32},message:"should NOT be longer than 32 characters"}],!1;if(n(b)<1)return e.errors=[{keyword:"minLength",dataPath:(i||"")+".icons["+p+"].emoji",schemaPath:"#/definitions/Emoji/minLength",params:{limit:1},message:"should NOT be shorter than 1 characters"}],!1;if(m=0===g){if(void 0===(b=y.left))return m=!1,e.errors=[{keyword:"required",dataPath:(i||"")+".icons["+p+"]",schemaPath:"#/properties/icons/items/required",params:{missingProperty:"left"},message:"should have required property 'left'"}],!1;if(g=0,"number"!=typeof b)return e.errors=[{keyword:"type",dataPath:(i||"")+".icons["+p+"].left",schemaPath:"#/definitions/Percentage/type",params:{type:"number"},message:"should be number"}],!1;if(b>1e3||b!=b)return e.errors=[{keyword:"maximum",dataPath:(i||"")+".icons["+p+"].left",schemaPath:"#/definitions/Percentage/maximum",params:{comparison:"<=",limit:1e3,exclusive:!1},message:"should be <= 1000"}],!1;if(b<-100||b!=b)return e.errors=[{keyword:"minimum",dataPath:(i||"")+".icons["+p+"].left",schemaPath:"#/definitions/Percentage/minimum",params:{comparison:">=",limit:-100,exclusive:!1},message:"should be >= -100"}],!1;if(m=0===g){if(void 0===(b=y.rotate))return m=!1,e.errors=[{keyword:"required",dataPath:(i||"")+".icons["+p+"]",schemaPath:"#/properties/icons/items/required",params:{missingProperty:"rotate"},message:"should have required property 'rotate'"}],!1;if(g=0,"number"!=typeof b)return e.errors=[{keyword:"type",dataPath:(i||"")+".icons["+p+"].rotate",schemaPath:"#/definitions/Degree/type",params:{type:"number"},message:"should be number"}],!1;if(b>360||b!=b)return e.errors=[{keyword:"maximum",dataPath:(i||"")+".icons["+p+"].rotate",schemaPath:"#/definitions/Degree/maximum",params:{comparison:"<=",limit:360,exclusive:!1},message:"should be <= 360"}],!1;if(b<-360||b!=b)return e.errors=[{keyword:"minimum",dataPath:(i||"")+".icons["+p+"].rotate",schemaPath:"#/definitions/Degree/minimum",params:{comparison:">=",limit:-360,exclusive:!1},message:"should be >= -360"}],!1;if(m=0===g){if(void 0===(b=y.size))return m=!1,e.errors=[{keyword:"required",dataPath:(i||"")+".icons["+p+"]",schemaPath:"#/properties/icons/items/required",params:{missingProperty:"size"},message:"should have required property 'size'"}],!1;if(g=0,"number"!=typeof b)return e.errors=[{keyword:"type",dataPath:(i||"")+".icons["+p+"].size",schemaPath:"#/definitions/Percentage/type",params:{type:"number"},message:"should be number"}],!1;if(b>1e3||b!=b)return e.errors=[{keyword:"maximum",dataPath:(i||"")+".icons["+p+"].size",schemaPath:"#/definitions/Percentage/maximum",params:{comparison:"<=",limit:1e3,exclusive:!1},message:"should be <= 1000"}],!1;if(b<-100||b!=b)return e.errors=[{keyword:"minimum",dataPath:(i||"")+".icons["+p+"].size",schemaPath:"#/definitions/Percentage/minimum",params:{comparison:">=",limit:-100,exclusive:!1},message:"should be >= -100"}],!1;if(m=0===g){var b;if(void 0===(b=y.top))return m=!1,e.errors=[{keyword:"required",dataPath:(i||"")+".icons["+p+"]",schemaPath:"#/properties/icons/items/required",params:{missingProperty:"top"},message:"should have required property 'top'"}],!1;if(g=0,"number"!=typeof b)return e.errors=[{keyword:"type",dataPath:(i||"")+".icons["+p+"].top",schemaPath:"#/definitions/Percentage/type",params:{type:"number"},message:"should be number"}],!1;if(b>1e3||b!=b)return e.errors=[{keyword:"maximum",dataPath:(i||"")+".icons["+p+"].top",schemaPath:"#/definitions/Percentage/maximum",params:{comparison:"<=",limit:1e3,exclusive:!1},message:"should be <= 1000"}],!1;if(b<-100||b!=b)return e.errors=[{keyword:"minimum",dataPath:(i||"")+".icons["+p+"].top",schemaPath:"#/definitions/Percentage/minimum",params:{comparison:">=",limit:-100,exclusive:!1},message:"should be >= -100"}],!1;m=0===g}}}}}if(0!==h)break}if(u=0===c){if(void 0===(w=t.left))return u=!1,e.errors=[{keyword:"required",dataPath:(i||"")+"",schemaPath:"#/required",params:{missingProperty:"left"},message:"should have required property 'left'"}],!1;if(c=0,h=0,"number"!=typeof w)return e.errors=[{keyword:"type",dataPath:(i||"")+".left",schemaPath:"#/definitions/Percentage/type",params:{type:"number"},message:"should be number"}],!1;if(w>1e3||w!=w)return e.errors=[{keyword:"maximum",dataPath:(i||"")+".left",schemaPath:"#/definitions/Percentage/maximum",params:{comparison:"<=",limit:1e3,exclusive:!1},message:"should be <= 1000"}],!1;if(w<-100||w!=w)return e.errors=[{keyword:"minimum",dataPath:(i||"")+".left",schemaPath:"#/definitions/Percentage/minimum",params:{comparison:">=",limit:-100,exclusive:!1},message:"should be >= -100"}],!1;if(u=0===c){if(void 0===(w=t.top))return u=!1,e.errors=[{keyword:"required",dataPath:(i||"")+"",schemaPath:"#/required",params:{missingProperty:"top"},message:"should have required property 'top'"}],!1;if(c=0,h=0,"number"!=typeof w)return e.errors=[{keyword:"type",dataPath:(i||"")+".top",schemaPath:"#/definitions/Percentage/type",params:{type:"number"},message:"should be number"}],!1;if(w>1e3||w!=w)return e.errors=[{keyword:"maximum",dataPath:(i||"")+".top",schemaPath:"#/definitions/Percentage/maximum",params:{comparison:"<=",limit:1e3,exclusive:!1},message:"should be <= 1000"}],!1;if(w<-100||w!=w)return e.errors=[{keyword:"minimum",dataPath:(i||"")+".top",schemaPath:"#/definitions/Percentage/minimum",params:{comparison:">=",limit:-100,exclusive:!1},message:"should be >= -100"}],!1;if(u=0===c){if(void 0===(w=t.type))return u=!1,e.errors=[{keyword:"required",dataPath:(i||"")+"",schemaPath:"#/required",params:{missingProperty:"type"},message:"should have required property 'type'"}],!1;if(c=0,"string"!=typeof w)return e.errors=[{keyword:"type",dataPath:(i||"")+".type",schemaPath:"#/properties/type/type",params:{type:"string"},message:"should be string"}],!1;var v=e.schema.properties.type.enum;for(u=!1,p=0;p<v.length;p++)if(s(w,v[p])){u=!0;break}if(!u)return e.errors=[{keyword:"enum",dataPath:(i||"")+".type",schemaPath:"#/properties/type/enum",params:{allowedValues:v},message:"should be equal to one of the allowed values"}],!1;if(u=0===c){var w;if(void 0===(w=t.width))return u=!1,e.errors=[{keyword:"required",dataPath:(i||"")+"",schemaPath:"#/required",params:{missingProperty:"width"},message:"should have required property 'width'"}],!1;if(c=0,h=0,"number"!=typeof w)return e.errors=[{keyword:"type",dataPath:(i||"")+".width",schemaPath:"#/definitions/Percentage/type",params:{type:"number"},message:"should be number"}],!1;if(w>1e3||w!=w)return e.errors=[{keyword:"maximum",dataPath:(i||"")+".width",schemaPath:"#/definitions/Percentage/maximum",params:{comparison:"<=",limit:1e3,exclusive:!1},message:"should be <= 1000"}],!1;if(w<-100||w!=w)return e.errors=[{keyword:"minimum",dataPath:(i||"")+".width",schemaPath:"#/definitions/Percentage/minimum",params:{comparison:">=",limit:-100,exclusive:!1},message:"should be >= -100"}],!1;u=0===c}}}}}}}return e.errors=null,!0});o.schema={additionalProperties:!1,properties:{desc:{$ref:"#/definitions/Description"},footnotes:{items:{additionalProperties:!1,properties:{title:{$ref:"#/definitions/Title"},url:{$ref:"#/definitions/ExternalLink"}},required:["title","url"],type:"object"},type:"array"},icons:{items:{additionalProperties:!1,properties:{emoji:{$ref:"#/definitions/Emoji"},left:{$ref:"#/definitions/Percentage"},rotate:{$ref:"#/definitions/Degree"},size:{$ref:"#/definitions/Percentage"},top:{$ref:"#/definitions/Percentage"}},required:["top","left","size","rotate","emoji"],type:"object"},type:"array"},left:{$ref:"#/definitions/Percentage"},top:{$ref:"#/definitions/Percentage"},type:{enum:["PLOP"],type:"string"},width:{$ref:"#/definitions/Percentage"}},required:["desc","icons","left","top","type","width"],type:"object"},o.errors=null,e[7]=o,e[8]={description:"A medium long description",maxLength:1024,minLength:2,type:"string"},e[9]={description:"A single emoji character, ligatures mean the max length\ncan be up to 3 characters.",maxLength:32,minLength:1,type:"string"},e[10]={description:"A bounded percentage relative to the container.",maximum:1e3,minimum:-100,type:"number"},e[11]={description:"Degrees for rotation of elements.",maximum:360,minimum:-360,type:"number"};var l=(new RegExp("^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\))$"),new RegExp("^([0-9]+\\s)+[0-9]+$"),new RegExp("^((-?[0-9]+),(-?[0-9]+)\\s)+(-?[0-9]+),(-?[0-9]+)$"),new RegExp("^([0-9]+\\s){3}[0-9]+$"),function e(t,i,a,o,l){var d=null,c=0;if(void 0===l&&(l=t),!t||"object"!=typeof t||Array.isArray(t))return e.errors=[{keyword:"type",dataPath:(i||"")+"",schemaPath:"#/type",params:{type:"object"},message:"should be object"}],!1;var h=!0;for(var p in t)if("edits"!=p&&"left"!=p&&"title"!=p&&"top"!=p&&"type"!=p&&"url"!=p)return h=!1,e.errors=[{keyword:"additionalProperties",dataPath:(i||"")+"",schemaPath:"#/additionalProperties",params:{additionalProperty:""+p},message:"should NOT have additional properties"}],!1;if(h){if(void 0===(b=t.edits))h=!0;else{var m=c;if(!Array.isArray(b))return e.errors=[{keyword:"type",dataPath:(i||"")+".edits",schemaPath:"#/properties/edits/type",params:{type:"array"},message:"should be array"}],!1;for(var f=0;f<b.length;f++){var g=c;if(u(b[f],(i||"")+".edits["+f+"]",b,f,l)||(c=(d=null===d?u.errors:d.concat(u.errors)).length),c!==g)break}h=c===m}if(h){if(void 0===(b=t.left))return h=!1,e.errors=[{keyword:"required",dataPath:(i||"")+"",schemaPath:"#/required",params:{missingProperty:"left"},message:"should have required property 'left'"}],!1;if(m=c,g=c,"number"!=typeof b)return e.errors=[{keyword:"type",dataPath:(i||"")+".left",schemaPath:"#/definitions/Percentage/type",params:{type:"number"},message:"should be number"}],!1;if(b>1e3||b!=b)return e.errors=[{keyword:"maximum",dataPath:(i||"")+".left",schemaPath:"#/definitions/Percentage/maximum",params:{comparison:"<=",limit:1e3,exclusive:!1},message:"should be <= 1000"}],!1;if(b<-100||b!=b)return e.errors=[{keyword:"minimum",dataPath:(i||"")+".left",schemaPath:"#/definitions/Percentage/minimum",params:{comparison:">=",limit:-100,exclusive:!1},message:"should be >= -100"}],!1;if(h=c===m){if(void 0===(b=t.title))return h=!1,e.errors=[{keyword:"required",dataPath:(i||"")+"",schemaPath:"#/required",params:{missingProperty:"title"},message:"should have required property 'title'"}],!1;if(m=c,g=c,"string"!=typeof b)return e.errors=[{keyword:"type",dataPath:(i||"")+".title",schemaPath:"#/definitions/Title/type",params:{type:"string"},message:"should be string"}],!1;if(n(b)>256)return e.errors=[{keyword:"maxLength",dataPath:(i||"")+".title",schemaPath:"#/definitions/Title/maxLength",params:{limit:256},message:"should NOT be longer than 256 characters"}],!1;if(n(b)<2)return e.errors=[{keyword:"minLength",dataPath:(i||"")+".title",schemaPath:"#/definitions/Title/minLength",params:{limit:2},message:"should NOT be shorter than 2 characters"}],!1;if(h=c===m){if(void 0===(b=t.top))return h=!1,e.errors=[{keyword:"required",dataPath:(i||"")+"",schemaPath:"#/required",params:{missingProperty:"top"},message:"should have required property 'top'"}],!1;if(m=c,g=c,"number"!=typeof b)return e.errors=[{keyword:"type",dataPath:(i||"")+".top",schemaPath:"#/definitions/Percentage/type",params:{type:"number"},message:"should be number"}],!1;if(b>1e3||b!=b)return e.errors=[{keyword:"maximum",dataPath:(i||"")+".top",schemaPath:"#/definitions/Percentage/maximum",params:{comparison:"<=",limit:1e3,exclusive:!1},message:"should be <= 1000"}],!1;if(b<-100||b!=b)return e.errors=[{keyword:"minimum",dataPath:(i||"")+".top",schemaPath:"#/definitions/Percentage/minimum",params:{comparison:">=",limit:-100,exclusive:!1},message:"should be >= -100"}],!1;if(h=c===m){if(void 0===(b=t.type))return h=!1,e.errors=[{keyword:"required",dataPath:(i||"")+"",schemaPath:"#/required",params:{missingProperty:"type"},message:"should have required property 'type'"}],!1;if(m=c,"string"!=typeof b)return e.errors=[{keyword:"type",dataPath:(i||"")+".type",schemaPath:"#/properties/type/type",params:{type:"string"},message:"should be string"}],!1;var y=e.schema.properties.type.enum;for(h=!1,f=0;f<y.length;f++)if(s(b,y[f])){h=!0;break}if(!h)return e.errors=[{keyword:"enum",dataPath:(i||"")+".type",schemaPath:"#/properties/type/enum",params:{allowedValues:y},message:"should be equal to one of the allowed values"}],!1;if(h=c===m){var b;if(void 0===(b=t.url))return h=!1,e.errors=[{keyword:"required",dataPath:(i||"")+"",schemaPath:"#/required",params:{missingProperty:"url"},message:"should have required property 'url'"}],!1;if(m=c,c===(g=c)){if("string"!=typeof b)return e.errors=[{keyword:"type",dataPath:(i||"")+".url",schemaPath:"#/definitions/URIReference/type",params:{type:"string"},message:"should be string"}],!1;if(!r["uri-reference"].test(b))return e.errors=[{keyword:"format",dataPath:(i||"")+".url",schemaPath:"#/definitions/URIReference/format",params:{format:"uri-reference"},message:'should match format "uri-reference"'}],!1}h=c===m}}}}}}return e.errors=d,0===c});l.schema={additionalProperties:!1,properties:{edits:{items:{$ref:"#/definitions/AudioEdit"},type:"array"},left:{$ref:"#/definitions/Percentage"},title:{$ref:"#/definitions/Title"},top:{$ref:"#/definitions/Percentage"},type:{enum:["AUDIO"],type:"string"},url:{$ref:"#/definitions/URIReference"}},required:["left","title","top","type","url"],type:"object"},l.errors=null,e[12]=l;var u=(new RegExp("^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\))$"),new RegExp("^([0-9]+\\s)+[0-9]+$"),new RegExp("^((-?[0-9]+),(-?[0-9]+)\\s)+(-?[0-9]+),(-?[0-9]+)$"),new RegExp("^([0-9]+\\s){3}[0-9]+$"),function e(t,i,r,n,a){var o=null,l=0,u=l,m=!1,f=l;if(t&&"object"==typeof t&&!Array.isArray(t)){var g=!0;for(var y in t)if("endTime"!=y&&"startTime"!=y&&"type"!=y){g=!1;var b={keyword:"additionalProperties",dataPath:(i||"")+"",schemaPath:"#/definitions/SkipAudio/additionalProperties",params:{additionalProperty:""+y},message:"should NOT have additional properties"};null===o?o=[b]:o.push(b),l++;break}if(g){if(void 0===t.endTime)g=!1,b={keyword:"required",dataPath:(i||"")+"",schemaPath:"#/definitions/SkipAudio/required",params:{missingProperty:"endTime"},message:"should have required property 'endTime'"},null===o?o=[b]:o.push(b),l++;else{var v=l;"number"!=typeof t.endTime&&(b={keyword:"type",dataPath:(i||"")+".endTime",schemaPath:"#/definitions/SkipAudio/properties/endTime/type",params:{type:"number"},message:"should be number"},null===o?o=[b]:o.push(b),l++),g=l===v}if(g&&(void 0===t.startTime?(g=!1,b={keyword:"required",dataPath:(i||"")+"",schemaPath:"#/definitions/SkipAudio/required",params:{missingProperty:"startTime"},message:"should have required property 'startTime'"},null===o?o=[b]:o.push(b),l++):(v=l,"number"!=typeof t.startTime&&(b={keyword:"type",dataPath:(i||"")+".startTime",schemaPath:"#/definitions/SkipAudio/properties/startTime/type",params:{type:"number"},message:"should be number"},null===o?o=[b]:o.push(b),l++),g=l===v),g))if(void 0===(O=t.type))g=!1,b={keyword:"required",dataPath:(i||"")+"",schemaPath:"#/definitions/SkipAudio/required",params:{missingProperty:"type"},message:"should have required property 'type'"},null===o?o=[b]:o.push(b),l++;else{v=l,"string"!=typeof O&&(b={keyword:"type",dataPath:(i||"")+".type",schemaPath:"#/definitions/SkipAudio/properties/type/type",params:{type:"string"},message:"should be string"},null===o?o=[b]:o.push(b),l++);var w=d.properties.type.enum;g=!1;for(var P=0;P<w.length;P++)if(s(O,w[P])){g=!0;break}g||(b={keyword:"enum",dataPath:(i||"")+".type",schemaPath:"#/definitions/SkipAudio/properties/type/enum",params:{allowedValues:w},message:"should be equal to one of the allowed values"},null===o?o=[b]:o.push(b),l++),g=l===v}}}else b={keyword:"type",dataPath:(i||"")+"",schemaPath:"#/definitions/SkipAudio/type",params:{type:"object"},message:"should be object"},null===o?o=[b]:o.push(b),l++;var k=l===f;if(!(m=m||k)){if(f=l,t&&"object"==typeof t&&!Array.isArray(t)){for(var y in g=!0,t)if("duration"!=y&&"startTime"!=y&&"type"!=y){g=!1,b={keyword:"additionalProperties",dataPath:(i||"")+"",schemaPath:"#/definitions/StillAudio/additionalProperties",params:{additionalProperty:""+y},message:"should NOT have additional properties"},null===o?o=[b]:o.push(b),l++;break}if(g&&(void 0===t.duration?(g=!1,b={keyword:"required",dataPath:(i||"")+"",schemaPath:"#/definitions/StillAudio/required",params:{missingProperty:"duration"},message:"should have required property 'duration'"},null===o?o=[b]:o.push(b),l++):(v=l,"number"!=typeof t.duration&&(b={keyword:"type",dataPath:(i||"")+".duration",schemaPath:"#/definitions/StillAudio/properties/duration/type",params:{type:"number"},message:"should be number"},null===o?o=[b]:o.push(b),l++),g=l===v),g&&(void 0===t.startTime?(g=!1,b={keyword:"required",dataPath:(i||"")+"",schemaPath:"#/definitions/StillAudio/required",params:{missingProperty:"startTime"},message:"should have required property 'startTime'"},null===o?o=[b]:o.push(b),l++):(v=l,"number"!=typeof t.startTime&&(b={keyword:"type",dataPath:(i||"")+".startTime",schemaPath:"#/definitions/StillAudio/properties/startTime/type",params:{type:"number"},message:"should be number"},null===o?o=[b]:o.push(b),l++),g=l===v),g)))if(void 0===(O=t.type))g=!1,b={keyword:"required",dataPath:(i||"")+"",schemaPath:"#/definitions/StillAudio/required",params:{missingProperty:"type"},message:"should have required property 'type'"},null===o?o=[b]:o.push(b),l++;else{for(v=l,"string"!=typeof O&&(b={keyword:"type",dataPath:(i||"")+".type",schemaPath:"#/definitions/StillAudio/properties/type/type",params:{type:"string"},message:"should be string"},null===o?o=[b]:o.push(b),l++),w=c.properties.type.enum,g=!1,P=0;P<w.length;P++)if(s(O,w[P])){g=!0;break}g||(b={keyword:"enum",dataPath:(i||"")+".type",schemaPath:"#/definitions/StillAudio/properties/type/enum",params:{allowedValues:w},message:"should be equal to one of the allowed values"},null===o?o=[b]:o.push(b),l++),g=l===v}}else b={keyword:"type",dataPath:(i||"")+"",schemaPath:"#/definitions/StillAudio/type",params:{type:"object"},message:"should be object"},null===o?o=[b]:o.push(b),l++;if(k=l===f,!(m=m||k)){if(f=l,t&&"object"==typeof t&&!Array.isArray(t)){for(var y in g=!0,t)if("duration"!=y&&"startTime"!=y&&"type"!=y){g=!1,b={keyword:"additionalProperties",dataPath:(i||"")+"",schemaPath:"#/definitions/PauseAudio/additionalProperties",params:{additionalProperty:""+y},message:"should NOT have additional properties"},null===o?o=[b]:o.push(b),l++;break}if(g&&(void 0===t.duration?(g=!1,b={keyword:"required",dataPath:(i||"")+"",schemaPath:"#/definitions/PauseAudio/required",params:{missingProperty:"duration"},message:"should have required property 'duration'"},null===o?o=[b]:o.push(b),l++):(v=l,"number"!=typeof t.duration&&(b={keyword:"type",dataPath:(i||"")+".duration",schemaPath:"#/definitions/PauseAudio/properties/duration/type",params:{type:"number"},message:"should be number"},null===o?o=[b]:o.push(b),l++),g=l===v),g&&(void 0===t.startTime?(g=!1,b={keyword:"required",dataPath:(i||"")+"",schemaPath:"#/definitions/PauseAudio/required",params:{missingProperty:"startTime"},message:"should have required property 'startTime'"},null===o?o=[b]:o.push(b),l++):(v=l,"number"!=typeof t.startTime&&(b={keyword:"type",dataPath:(i||"")+".startTime",schemaPath:"#/definitions/PauseAudio/properties/startTime/type",params:{type:"number"},message:"should be number"},null===o?o=[b]:o.push(b),l++),g=l===v),g)))if(void 0===(O=t.type))g=!1,b={keyword:"required",dataPath:(i||"")+"",schemaPath:"#/definitions/PauseAudio/required",params:{missingProperty:"type"},message:"should have required property 'type'"},null===o?o=[b]:o.push(b),l++;else{for(v=l,"string"!=typeof O&&(b={keyword:"type",dataPath:(i||"")+".type",schemaPath:"#/definitions/PauseAudio/properties/type/type",params:{type:"string"},message:"should be string"},null===o?o=[b]:o.push(b),l++),w=h.properties.type.enum,g=!1,P=0;P<w.length;P++)if(s(O,w[P])){g=!0;break}g||(b={keyword:"enum",dataPath:(i||"")+".type",schemaPath:"#/definitions/PauseAudio/properties/type/enum",params:{allowedValues:w},message:"should be equal to one of the allowed values"},null===o?o=[b]:o.push(b),l++),g=l===v}}else b={keyword:"type",dataPath:(i||"")+"",schemaPath:"#/definitions/PauseAudio/type",params:{type:"object"},message:"should be object"},null===o?o=[b]:o.push(b),l++;if(k=l===f,!(m=m||k)){if(f=l,t&&"object"==typeof t&&!Array.isArray(t)){for(var y in g=!0,t)if("audio"!=y&&"endTime"!=y&&"startTime"!=y&&"type"!=y&&"video"!=y){g=!1,b={keyword:"additionalProperties",dataPath:(i||"")+"",schemaPath:"#/definitions/AdjustVolumeAudio/additionalProperties",params:{additionalProperty:""+y},message:"should NOT have additional properties"},null===o?o=[b]:o.push(b),l++;break}if(g&&(void 0===t.audio?(g=!1,b={keyword:"required",dataPath:(i||"")+"",schemaPath:"#/definitions/AdjustVolumeAudio/required",params:{missingProperty:"audio"},message:"should have required property 'audio'"},null===o?o=[b]:o.push(b),l++):(v=l,"number"!=typeof t.audio&&(b={keyword:"type",dataPath:(i||"")+".audio",schemaPath:"#/definitions/AdjustVolumeAudio/properties/audio/type",params:{type:"number"},message:"should be number"},null===o?o=[b]:o.push(b),l++),g=l===v),g&&(void 0===t.endTime?(g=!1,b={keyword:"required",dataPath:(i||"")+"",schemaPath:"#/definitions/AdjustVolumeAudio/required",params:{missingProperty:"endTime"},message:"should have required property 'endTime'"},null===o?o=[b]:o.push(b),l++):(v=l,"number"!=typeof t.endTime&&(b={keyword:"type",dataPath:(i||"")+".endTime",schemaPath:"#/definitions/AdjustVolumeAudio/properties/endTime/type",params:{type:"number"},message:"should be number"},null===o?o=[b]:o.push(b),l++),g=l===v),g&&(void 0===t.startTime?(g=!1,b={keyword:"required",dataPath:(i||"")+"",schemaPath:"#/definitions/AdjustVolumeAudio/required",params:{missingProperty:"startTime"},message:"should have required property 'startTime'"},null===o?o=[b]:o.push(b),l++):(v=l,"number"!=typeof t.startTime&&(b={keyword:"type",dataPath:(i||"")+".startTime",schemaPath:"#/definitions/AdjustVolumeAudio/properties/startTime/type",params:{type:"number"},message:"should be number"},null===o?o=[b]:o.push(b),l++),g=l===v),g)))){var O;if(void 0===(O=t.type))g=!1,b={keyword:"required",dataPath:(i||"")+"",schemaPath:"#/definitions/AdjustVolumeAudio/required",params:{missingProperty:"type"},message:"should have required property 'type'"},null===o?o=[b]:o.push(b),l++;else{for(v=l,"string"!=typeof O&&(b={keyword:"type",dataPath:(i||"")+".type",schemaPath:"#/definitions/AdjustVolumeAudio/properties/type/type",params:{type:"string"},message:"should be string"},null===o?o=[b]:o.push(b),l++),w=p.properties.type.enum,g=!1,P=0;P<w.length;P++)if(s(O,w[P])){g=!0;break}g||(b={keyword:"enum",dataPath:(i||"")+".type",schemaPath:"#/definitions/AdjustVolumeAudio/properties/type/enum",params:{allowedValues:w},message:"should be equal to one of the allowed values"},null===o?o=[b]:o.push(b),l++),g=l===v}g&&(void 0===t.video?(g=!1,b={keyword:"required",dataPath:(i||"")+"",schemaPath:"#/definitions/AdjustVolumeAudio/required",params:{missingProperty:"video"},message:"should have required property 'video'"},null===o?o=[b]:o.push(b),l++):(v=l,"number"!=typeof t.video&&(b={keyword:"type",dataPath:(i||"")+".video",schemaPath:"#/definitions/AdjustVolumeAudio/properties/video/type",params:{type:"number"},message:"should be number"},null===o?o=[b]:o.push(b),l++),g=l===v))}}else b={keyword:"type",dataPath:(i||"")+"",schemaPath:"#/definitions/AdjustVolumeAudio/type",params:{type:"object"},message:"should be object"},null===o?o=[b]:o.push(b),l++;k=l===f,m=m||k}}}return m?(l=u,null!==o&&(u?o.length=u:o=null),e.errors=o,0===l):(b={keyword:"anyOf",dataPath:(i||"")+"",schemaPath:"#/anyOf",params:{},message:"should match some schema in anyOf"},null===o?o=[b]:o.push(b),l++,e.errors=o,!1)});u.schema={anyOf:[{$ref:"#/definitions/SkipAudio"},{$ref:"#/definitions/StillAudio"},{$ref:"#/definitions/PauseAudio"},{$ref:"#/definitions/AdjustVolumeAudio"}]},u.errors=null,e[13]=u;var d={additionalProperties:!1,properties:{endTime:{type:"number"},startTime:{type:"number"},type:{enum:["SKIP"],type:"string"}},required:["type","startTime","endTime"],type:"object"};e[14]=d;var c={additionalProperties:!1,properties:{duration:{type:"number"},startTime:{type:"number"},type:{enum:["STILL"],type:"string"}},required:["type","startTime","duration"],type:"object"};e[15]=c;var h={additionalProperties:!1,properties:{duration:{type:"number"},startTime:{type:"number"},type:{enum:["PAUSE"],type:"string"}},required:["type","startTime","duration"],type:"object"};e[16]=h;var p={additionalProperties:!1,properties:{audio:{type:"number"},endTime:{type:"number"},startTime:{type:"number"},type:{enum:["VOLUME"],type:"string"},video:{type:"number"}},required:["type","startTime","endTime","audio","video"],type:"object"};e[17]=p,e[18]={description:"The location of a file.",format:"uri-reference",type:"string"};var m=function(){new RegExp("^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\))$"),new RegExp("^([0-9]+\\s)+[0-9]+$"),new RegExp("^((-?[0-9]+),(-?[0-9]+)\\s)+(-?[0-9]+),(-?[0-9]+)$");var e=new RegExp("^([0-9]+\\s){3}[0-9]+$");return function t(i,r,a,o,l){var u=null,d=0;if(void 0===l&&(l=i),!i||"object"!=typeof i||Array.isArray(i))return t.errors=[{keyword:"type",dataPath:(r||"")+"",schemaPath:"#/type",params:{type:"object"},message:"should be object"}],!1;var c=!0;for(var h in i)if(!t.schema.properties.hasOwnProperty(h))return c=!1,t.errors=[{keyword:"additionalProperties",dataPath:(r||"")+"",schemaPath:"#/additionalProperties",params:{additionalProperty:""+h},message:"should NOT have additional properties"}],!1;if(c){if(void 0===(E=i.blend))c=!0;else{var p=d;if("string"!=typeof E)return t.errors=[{keyword:"type",dataPath:(r||"")+".blend",schemaPath:"#/properties/blend/type",params:{type:"string"},message:"should be string"}],!1;var m=t.schema.properties.blend.enum;c=!1;for(var f=0;f<m.length;f++)if(s(E,m[f])){c=!0;break}if(!c)return t.errors=[{keyword:"enum",dataPath:(r||"")+".blend",schemaPath:"#/properties/blend/enum",params:{allowedValues:m},message:"should be equal to one of the allowed values"}],!1;c=d===p}if(c){if(void 0===(E=i.elements))return c=!1,t.errors=[{keyword:"required",dataPath:(r||"")+"",schemaPath:"#/required",params:{missingProperty:"elements"},message:"should have required property 'elements'"}],!1;if(p=d,!Array.isArray(E))return t.errors=[{keyword:"type",dataPath:(r||"")+".elements",schemaPath:"#/properties/elements/type",params:{type:"array"},message:"should be array"}],!1;for(f=0;f<E.length;f++){var g=d,k=d,O=!1,T=d;y(A=E[f],(r||"")+".elements["+f+"]",E,f,l)||(d=(u=null===u?y.errors:u.concat(y.errors)).length);var C=d===T;if((O=O||C)||(T=d,b(A,(r||"")+".elements["+f+"]",E,f,l)||(d=(u=null===u?b.errors:u.concat(b.errors)).length),C=d===T,(O=O||C)||(T=d,v(A,(r||"")+".elements["+f+"]",E,f,l)||(d=(u=null===u?v.errors:u.concat(v.errors)).length),C=d===T,(O=O||C)||(T=d,w(A,(r||"")+".elements["+f+"]",E,f,l)||(d=(u=null===u?w.errors:u.concat(w.errors)).length),C=d===T,(O=O||C)||(T=d,P(A,(r||"")+".elements["+f+"]",E,f,l)||(d=(u=null===u?P.errors:u.concat(P.errors)).length),C=d===T,O=O||C)))),!O){var x={keyword:"anyOf",dataPath:(r||"")+".elements["+f+"]",schemaPath:"#/properties/elements/items/anyOf",params:{},message:"should match some schema in anyOf"};return null===u?u=[x]:u.push(x),d++,t.errors=u,!1}if(d=k,null!==u&&(k?u.length=k:u=null),!(O=d===g))break}if(c=d===p){if(void 0===(E=i.height))return c=!1,t.errors=[{keyword:"required",dataPath:(r||"")+"",schemaPath:"#/required",params:{missingProperty:"height"},message:"should have required property 'height'"}],!1;if(p=d,g=d,"number"!=typeof E)return t.errors=[{keyword:"type",dataPath:(r||"")+".height",schemaPath:"#/definitions/Percentage/type",params:{type:"number"},message:"should be number"}],!1;if(E>1e3||E!=E)return t.errors=[{keyword:"maximum",dataPath:(r||"")+".height",schemaPath:"#/definitions/Percentage/maximum",params:{comparison:"<=",limit:1e3,exclusive:!1},message:"should be <= 1000"}],!1;if(E<-100||E!=E)return t.errors=[{keyword:"minimum",dataPath:(r||"")+".height",schemaPath:"#/definitions/Percentage/minimum",params:{comparison:">=",limit:-100,exclusive:!1},message:"should be >= -100"}],!1;if(O=d===g,c=d===p){if(void 0===(E=i.left))return c=!1,t.errors=[{keyword:"required",dataPath:(r||"")+"",schemaPath:"#/required",params:{missingProperty:"left"},message:"should have required property 'left'"}],!1;if(p=d,g=d,"number"!=typeof E)return t.errors=[{keyword:"type",dataPath:(r||"")+".left",schemaPath:"#/definitions/Percentage/type",params:{type:"number"},message:"should be number"}],!1;if(E>1e3||E!=E)return t.errors=[{keyword:"maximum",dataPath:(r||"")+".left",schemaPath:"#/definitions/Percentage/maximum",params:{comparison:"<=",limit:1e3,exclusive:!1},message:"should be <= 1000"}],!1;if(E<-100||E!=E)return t.errors=[{keyword:"minimum",dataPath:(r||"")+".left",schemaPath:"#/definitions/Percentage/minimum",params:{comparison:">=",limit:-100,exclusive:!1},message:"should be >= -100"}],!1;if(O=d===g,c=d===p){if(void 0===(E=i.title))return c=!1,t.errors=[{keyword:"required",dataPath:(r||"")+"",schemaPath:"#/required",params:{missingProperty:"title"},message:"should have required property 'title'"}],!1;if(p=d,!E||"object"!=typeof E||Array.isArray(E))return t.errors=[{keyword:"type",dataPath:(r||"")+".title",schemaPath:"#/properties/title/type",params:{type:"object"},message:"should be object"}],!1;for(var _ in O=!0,E)if("show"!=_&&"text"!=_)return O=!1,t.errors=[{keyword:"additionalProperties",dataPath:(r||"")+".title",schemaPath:"#/properties/title/additionalProperties",params:{additionalProperty:""+_},message:"should NOT have additional properties"}],!1;if(O){if(void 0===E.show)return O=!1,t.errors=[{keyword:"required",dataPath:(r||"")+".title",schemaPath:"#/properties/title/required",params:{missingProperty:"show"},message:"should have required property 'show'"}],!1;if(g=d,"boolean"!=typeof E.show)return t.errors=[{keyword:"type",dataPath:(r||"")+".title.show",schemaPath:"#/properties/title/properties/show/type",params:{type:"boolean"},message:"should be boolean"}],!1;if(O=d===g){var A;if(void 0===(A=E.text))return O=!1,t.errors=[{keyword:"required",dataPath:(r||"")+".title",schemaPath:"#/properties/title/required",params:{missingProperty:"text"},message:"should have required property 'text'"}],!1;if(g=d,T=d,"string"!=typeof A)return t.errors=[{keyword:"type",dataPath:(r||"")+".title.text",schemaPath:"#/definitions/Title/type",params:{type:"string"},message:"should be string"}],!1;if(n(A)>256)return t.errors=[{keyword:"maxLength",dataPath:(r||"")+".title.text",schemaPath:"#/definitions/Title/maxLength",params:{limit:256},message:"should NOT be longer than 256 characters"}],!1;if(n(A)<2)return t.errors=[{keyword:"minLength",dataPath:(r||"")+".title.text",schemaPath:"#/definitions/Title/minLength",params:{limit:2},message:"should NOT be shorter than 2 characters"}],!1;C=d===T,O=d===g}}if(c=d===p){if(void 0===(E=i.top))return c=!1,t.errors=[{keyword:"required",dataPath:(r||"")+"",schemaPath:"#/required",params:{missingProperty:"top"},message:"should have required property 'top'"}],!1;if(p=d,g=d,"number"!=typeof E)return t.errors=[{keyword:"type",dataPath:(r||"")+".top",schemaPath:"#/definitions/Percentage/type",params:{type:"number"},message:"should be number"}],!1;if(E>1e3||E!=E)return t.errors=[{keyword:"maximum",dataPath:(r||"")+".top",schemaPath:"#/definitions/Percentage/maximum",params:{comparison:"<=",limit:1e3,exclusive:!1},message:"should be <= 1000"}],!1;if(E<-100||E!=E)return t.errors=[{keyword:"minimum",dataPath:(r||"")+".top",schemaPath:"#/definitions/Percentage/minimum",params:{comparison:">=",limit:-100,exclusive:!1},message:"should be >= -100"}],!1;if(O=d===g,c=d===p){if(void 0===(E=i.type))return c=!1,t.errors=[{keyword:"required",dataPath:(r||"")+"",schemaPath:"#/required",params:{missingProperty:"type"},message:"should have required property 'type'"}],!1;if(p=d,"string"!=typeof E)return t.errors=[{keyword:"type",dataPath:(r||"")+".type",schemaPath:"#/properties/type/type",params:{type:"string"},message:"should be string"}],!1;for(m=t.schema.properties.type.enum,c=!1,f=0;f<m.length;f++)if(s(E,m[f])){c=!0;break}if(!c)return t.errors=[{keyword:"enum",dataPath:(r||"")+".type",schemaPath:"#/properties/type/enum",params:{allowedValues:m},message:"should be equal to one of the allowed values"}],!1;if(c=d===p){if(void 0===(E=i.viewBox))return c=!1,t.errors=[{keyword:"required",dataPath:(r||"")+"",schemaPath:"#/required",params:{missingProperty:"viewBox"},message:"should have required property 'viewBox'"}],!1;if(p=d,g=d,"string"!=typeof E)return t.errors=[{keyword:"type",dataPath:(r||"")+".viewBox",schemaPath:"#/definitions/ViewBox/type",params:{type:"string"},message:"should be string"}],!1;if(!e.test(E))return t.errors=[{keyword:"pattern",dataPath:(r||"")+".viewBox",schemaPath:"#/definitions/ViewBox/pattern",params:{pattern:"^([0-9]+\\s){3}[0-9]+$"},message:'should match pattern "^([0-9]+\\s){3}[0-9]+$"'}],!1;if(O=d===g,c=d===p){var E;if(void 0===(E=i.width))return c=!1,t.errors=[{keyword:"required",dataPath:(r||"")+"",schemaPath:"#/required",params:{missingProperty:"width"},message:"should have required property 'width'"}],!1;if(p=d,g=d,"number"!=typeof E)return t.errors=[{keyword:"type",dataPath:(r||"")+".width",schemaPath:"#/definitions/Percentage/type",params:{type:"number"},message:"should be number"}],!1;if(E>1e3||E!=E)return t.errors=[{keyword:"maximum",dataPath:(r||"")+".width",schemaPath:"#/definitions/Percentage/maximum",params:{comparison:"<=",limit:1e3,exclusive:!1},message:"should be <= 1000"}],!1;if(E<-100||E!=E)return t.errors=[{keyword:"minimum",dataPath:(r||"")+".width",schemaPath:"#/definitions/Percentage/minimum",params:{comparison:">=",limit:-100,exclusive:!1},message:"should be >= -100"}],!1;O=d===g,c=d===p}}}}}}}}}return t.errors=u,0===d}}();m.schema={additionalProperties:!1,properties:{blend:{enum:["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],type:"string"},elements:{items:{anyOf:[{$ref:"#/definitions/PlopdownShapeEllipse"},{$ref:"#/definitions/PlopdownShapeRect"},{$ref:"#/definitions/PlopdownShapePath"},{$ref:"#/definitions/PlopdownShapePolygon"},{$ref:"#/definitions/PlopdownShapePolyline"}]},type:"array"},height:{$ref:"#/definitions/Percentage"},left:{$ref:"#/definitions/Percentage"},title:{additionalProperties:!1,properties:{show:{type:"boolean"},text:{$ref:"#/definitions/Title"}},required:["text","show"],type:"object"},top:{$ref:"#/definitions/Percentage"},type:{enum:["SHAPE"],type:"string"},viewBox:{$ref:"#/definitions/ViewBox"},width:{$ref:"#/definitions/Percentage"}},required:["elements","height","left","title","top","type","viewBox","width"],type:"object"},m.errors=null,e[19]=m;var f,g,y=(f=new RegExp("^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\))$"),g=new RegExp("^([0-9]+\\s)+[0-9]+$"),new RegExp("^((-?[0-9]+),(-?[0-9]+)\\s)+(-?[0-9]+),(-?[0-9]+)$"),new RegExp("^([0-9]+\\s){3}[0-9]+$"),function e(t,i,r,a,o){if(!t||"object"!=typeof t||Array.isArray(t))return e.errors=[{keyword:"type",dataPath:(i||"")+"",schemaPath:"#/type",params:{type:"object"},message:"should be object"}],!1;var l=!0;for(var u in t)if(!e.schema.properties.hasOwnProperty(u))return l=!1,e.errors=[{keyword:"additionalProperties",dataPath:(i||"")+"",schemaPath:"#/additionalProperties",params:{additionalProperty:""+u},message:"should NOT have additional properties"}],!1;if(l){if(void 0===(P=t.cx))return l=!1,e.errors=[{keyword:"required",dataPath:(i||"")+"",schemaPath:"#/required",params:{missingProperty:"cx"},message:"should have required property 'cx'"}],!1;var d=0,c=0;if("number"!=typeof P)return e.errors=[{keyword:"type",dataPath:(i||"")+".cx",schemaPath:"#/definitions/ViewportCoordinate/type",params:{type:"number"},message:"should be number"}],!1;if(P<0||P!=P)return e.errors=[{keyword:"minimum",dataPath:(i||"")+".cx",schemaPath:"#/definitions/ViewportCoordinate/minimum",params:{comparison:">=",limit:0,exclusive:!1},message:"should be >= 0"}],!1;var h=0===c;if(l=0===d){if(void 0===(P=t.cy))return l=!1,e.errors=[{keyword:"required",dataPath:(i||"")+"",schemaPath:"#/required",params:{missingProperty:"cy"},message:"should have required property 'cy'"}],!1;if(d=0,c=0,"number"!=typeof P)return e.errors=[{keyword:"type",dataPath:(i||"")+".cy",schemaPath:"#/definitions/ViewportCoordinate/type",params:{type:"number"},message:"should be number"}],!1;if(P<0||P!=P)return e.errors=[{keyword:"minimum",dataPath:(i||"")+".cy",schemaPath:"#/definitions/ViewportCoordinate/minimum",params:{comparison:">=",limit:0,exclusive:!1},message:"should be >= 0"}],!1;if(h=0===c,l=0===d){if(void 0===(P=t.element))return l=!1,e.errors=[{keyword:"required",dataPath:(i||"")+"",schemaPath:"#/required",params:{missingProperty:"element"},message:"should have required property 'element'"}],!1;if(d=0,"string"!=typeof P)return e.errors=[{keyword:"type",dataPath:(i||"")+".element",schemaPath:"#/properties/element/type",params:{type:"string"},message:"should be string"}],!1;var p=e.schema.properties.element.enum;l=!1;for(var m=0;m<p.length;m++)if(s(P,p[m])){l=!0;break}if(!l)return e.errors=[{keyword:"enum",dataPath:(i||"")+".element",schemaPath:"#/properties/element/enum",params:{allowedValues:p},message:"should be equal to one of the allowed values"}],!1;if(l=0===d){if(void 0===(P=t.fill))l=!0;else{if(d=0,!P||"object"!=typeof P||Array.isArray(P))return e.errors=[{keyword:"type",dataPath:(i||"")+".fill",schemaPath:"#/properties/fill/type",params:{type:"object"},message:"should be object"}],!1;for(var y in h=!0,P)if("color"!=y&&"opacity"!=y&&"rule"!=y)return h=!1,e.errors=[{keyword:"additionalProperties",dataPath:(i||"")+".fill",schemaPath:"#/properties/fill/additionalProperties",params:{additionalProperty:""+y},message:"should NOT have additional properties"}],!1;if(h){if(void 0===(w=P.color))h=!0;else{if(c=0,"string"!=typeof w)return e.errors=[{keyword:"type",dataPath:(i||"")+".fill.color",schemaPath:"#/definitions/Color/type",params:{type:"string"},message:"should be string"}],!1;if(!f.test(w))return e.errors=[{keyword:"pattern",dataPath:(i||"")+".fill.color",schemaPath:"#/definitions/Color/pattern",params:{pattern:"^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\))$"},message:'should match pattern "^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\))$"'}],!1;h=0===c}if(h){if(void 0===(w=P.opacity))h=!0;else{if(c=0,"number"!=typeof w)return e.errors=[{keyword:"type",dataPath:(i||"")+".fill.opacity",schemaPath:"#/definitions/Opacity/type",params:{type:"number"},message:"should be number"}],!1;if(w>1||w!=w)return e.errors=[{keyword:"maximum",dataPath:(i||"")+".fill.opacity",schemaPath:"#/definitions/Opacity/maximum",params:{comparison:"<=",limit:1,exclusive:!1},message:"should be <= 1"}],!1;if(w<0||w!=w)return e.errors=[{keyword:"minimum",dataPath:(i||"")+".fill.opacity",schemaPath:"#/definitions/Opacity/minimum",params:{comparison:">=",limit:0,exclusive:!1},message:"should be >= 0"}],!1;h=0===c}if(h)if(void 0===(w=P.rule))h=!0;else{if(c=0,"string"!=typeof w)return e.errors=[{keyword:"type",dataPath:(i||"")+".fill.rule",schemaPath:"#/properties/fill/properties/rule/type",params:{type:"string"},message:"should be string"}],!1;var b=e.schema.properties.fill.properties.rule.enum;h=!1;for(var v=0;v<b.length;v++)if(s(w,b[v])){h=!0;break}if(!h)return e.errors=[{keyword:"enum",dataPath:(i||"")+".fill.rule",schemaPath:"#/properties/fill/properties/rule/enum",params:{allowedValues:b},message:"should be equal to one of the allowed values"}],!1;h=0===c}}}l=0===d}if(l){if(void 0===(P=t.opacity))l=!0;else{if(d=0,c=0,"number"!=typeof P)return e.errors=[{keyword:"type",dataPath:(i||"")+".opacity",schemaPath:"#/definitions/Opacity/type",params:{type:"number"},message:"should be number"}],!1;if(P>1||P!=P)return e.errors=[{keyword:"maximum",dataPath:(i||"")+".opacity",schemaPath:"#/definitions/Opacity/maximum",params:{comparison:"<=",limit:1,exclusive:!1},message:"should be <= 1"}],!1;if(P<0||P!=P)return e.errors=[{keyword:"minimum",dataPath:(i||"")+".opacity",schemaPath:"#/definitions/Opacity/minimum",params:{comparison:">=",limit:0,exclusive:!1},message:"should be >= 0"}],!1;h=0===c,l=0===d}if(l){if(void 0===(P=t.rx))return l=!1,e.errors=[{keyword:"required",dataPath:(i||"")+"",schemaPath:"#/required",params:{missingProperty:"rx"},message:"should have required property 'rx'"}],!1;if(d=0,c=0,"number"!=typeof P)return e.errors=[{keyword:"type",dataPath:(i||"")+".rx",schemaPath:"#/definitions/ViewportCoordinate/type",params:{type:"number"},message:"should be number"}],!1;if(P<0||P!=P)return e.errors=[{keyword:"minimum",dataPath:(i||"")+".rx",schemaPath:"#/definitions/ViewportCoordinate/minimum",params:{comparison:">=",limit:0,exclusive:!1},message:"should be >= 0"}],!1;if(h=0===c,l=0===d){if(void 0===(P=t.ry))return l=!1,e.errors=[{keyword:"required",dataPath:(i||"")+"",schemaPath:"#/required",params:{missingProperty:"ry"},message:"should have required property 'ry'"}],!1;if(d=0,c=0,"number"!=typeof P)return e.errors=[{keyword:"type",dataPath:(i||"")+".ry",schemaPath:"#/definitions/ViewportCoordinate/type",params:{type:"number"},message:"should be number"}],!1;if(P<0||P!=P)return e.errors=[{keyword:"minimum",dataPath:(i||"")+".ry",schemaPath:"#/definitions/ViewportCoordinate/minimum",params:{comparison:">=",limit:0,exclusive:!1},message:"should be >= 0"}],!1;if(h=0===c,l=0===d){if(void 0===(P=t.stroke))l=!0;else{if(d=0,!P||"object"!=typeof P||Array.isArray(P))return e.errors=[{keyword:"type",dataPath:(i||"")+".stroke",schemaPath:"#/properties/stroke/type",params:{type:"object"},message:"should be object"}],!1;for(var y in h=!0,P)if("color"!=y&&"dasharray"!=y&&"dashoffset"!=y&&"linecap"!=y&&"linejoin"!=y&&"opacity"!=y&&"width"!=y)return h=!1,e.errors=[{keyword:"additionalProperties",dataPath:(i||"")+".stroke",schemaPath:"#/properties/stroke/additionalProperties",params:{additionalProperty:""+y},message:"should NOT have additional properties"}],!1;if(h){if(void 0===(w=P.color))h=!0;else{if(c=0,"string"!=typeof w)return e.errors=[{keyword:"type",dataPath:(i||"")+".stroke.color",schemaPath:"#/definitions/Color/type",params:{type:"string"},message:"should be string"}],!1;if(!f.test(w))return e.errors=[{keyword:"pattern",dataPath:(i||"")+".stroke.color",schemaPath:"#/definitions/Color/pattern",params:{pattern:"^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\))$"},message:'should match pattern "^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\))$"'}],!1;h=0===c}if(h){if(void 0===(w=P.dasharray))h=!0;else{if(c=0,"string"!=typeof w)return e.errors=[{keyword:"type",dataPath:(i||"")+".stroke.dasharray",schemaPath:"#/definitions/DashArray/type",params:{type:"string"},message:"should be string"}],!1;if(!g.test(w))return e.errors=[{keyword:"pattern",dataPath:(i||"")+".stroke.dasharray",schemaPath:"#/definitions/DashArray/pattern",params:{pattern:"^([0-9]+\\s)+[0-9]+$"},message:'should match pattern "^([0-9]+\\s)+[0-9]+$"'}],!1;h=0===c}if(h){if(void 0===(w=P.dashoffset))h=!0;else{if(c=0,"number"!=typeof w||w%1||w!=w)return e.errors=[{keyword:"type",dataPath:(i||"")+".stroke.dashoffset",schemaPath:"#/definitions/DashOffset/type",params:{type:"integer"},message:"should be integer"}],!1;if("number"==typeof w){if(w>100||w!=w)return e.errors=[{keyword:"maximum",dataPath:(i||"")+".stroke.dashoffset",schemaPath:"#/definitions/DashOffset/maximum",params:{comparison:"<=",limit:100,exclusive:!1},message:"should be <= 100"}],!1;if(w<-100||w!=w)return e.errors=[{keyword:"minimum",dataPath:(i||"")+".stroke.dashoffset",schemaPath:"#/definitions/DashOffset/minimum",params:{comparison:">=",limit:-100,exclusive:!1},message:"should be >= -100"}],!1}h=0===c}if(h){if(void 0===(w=P.linecap))h=!0;else{if(c=0,"string"!=typeof w)return e.errors=[{keyword:"type",dataPath:(i||"")+".stroke.linecap",schemaPath:"#/properties/stroke/properties/linecap/type",params:{type:"string"},message:"should be string"}],!1;for(b=e.schema.properties.stroke.properties.linecap.enum,h=!1,v=0;v<b.length;v++)if(s(w,b[v])){h=!0;break}if(!h)return e.errors=[{keyword:"enum",dataPath:(i||"")+".stroke.linecap",schemaPath:"#/properties/stroke/properties/linecap/enum",params:{allowedValues:b},message:"should be equal to one of the allowed values"}],!1;h=0===c}if(h){if(void 0===(w=P.linejoin))h=!0;else{if(c=0,"string"!=typeof w)return e.errors=[{keyword:"type",dataPath:(i||"")+".stroke.linejoin",schemaPath:"#/properties/stroke/properties/linejoin/type",params:{type:"string"},message:"should be string"}],!1;for(b=e.schema.properties.stroke.properties.linejoin.enum,h=!1,v=0;v<b.length;v++)if(s(w,b[v])){h=!0;break}if(!h)return e.errors=[{keyword:"enum",dataPath:(i||"")+".stroke.linejoin",schemaPath:"#/properties/stroke/properties/linejoin/enum",params:{allowedValues:b},message:"should be equal to one of the allowed values"}],!1;h=0===c}if(h){var w;if(void 0===(w=P.opacity))h=!0;else{if(c=0,"number"!=typeof w)return e.errors=[{keyword:"type",dataPath:(i||"")+".stroke.opacity",schemaPath:"#/definitions/Opacity/type",params:{type:"number"},message:"should be number"}],!1;if(w>1||w!=w)return e.errors=[{keyword:"maximum",dataPath:(i||"")+".stroke.opacity",schemaPath:"#/definitions/Opacity/maximum",params:{comparison:"<=",limit:1,exclusive:!1},message:"should be <= 1"}],!1;if(w<0||w!=w)return e.errors=[{keyword:"minimum",dataPath:(i||"")+".stroke.opacity",schemaPath:"#/definitions/Opacity/minimum",params:{comparison:">=",limit:0,exclusive:!1},message:"should be >= 0"}],!1;h=0===c}if(h)if(void 0===(w=P.width))h=!0;else{if(c=0,"number"!=typeof w)return e.errors=[{keyword:"type",dataPath:(i||"")+".stroke.width",schemaPath:"#/definitions/ViewportCoordinate/type",params:{type:"number"},message:"should be number"}],!1;if(w<0||w!=w)return e.errors=[{keyword:"minimum",dataPath:(i||"")+".stroke.width",schemaPath:"#/definitions/ViewportCoordinate/minimum",params:{comparison:">=",limit:0,exclusive:!1},message:"should be >= 0"}],!1;h=0===c}}}}}}}l=0===d}if(l){var P;if(void 0===(P=t.transform))l=!0;else{if(d=0,c=0,"string"!=typeof P)return e.errors=[{keyword:"type",dataPath:(i||"")+".transform",schemaPath:"#/definitions/Transform/type",params:{type:"string"},message:"should be string"}],!1;if(n(P)>128)return e.errors=[{keyword:"maxLength",dataPath:(i||"")+".transform",schemaPath:"#/definitions/Transform/maxLength",params:{limit:128},message:"should NOT be longer than 128 characters"}],!1;if(n(P)<2)return e.errors=[{keyword:"minLength",dataPath:(i||"")+".transform",schemaPath:"#/definitions/Transform/minLength",params:{limit:2},message:"should NOT be shorter than 2 characters"}],!1;h=0===c,l=0===d}if(l)if(void 0===(P=t.transformOrigin))l=!0;else{if(d=0,c=0,"string"!=typeof P)return e.errors=[{keyword:"type",dataPath:(i||"")+".transformOrigin",schemaPath:"#/definitions/TransformOrigin/type",params:{type:"string"},message:"should be string"}],!1;if(n(P)>128)return e.errors=[{keyword:"maxLength",dataPath:(i||"")+".transformOrigin",schemaPath:"#/definitions/TransformOrigin/maxLength",params:{limit:128},message:"should NOT be longer than 128 characters"}],!1;if(n(P)<2)return e.errors=[{keyword:"minLength",dataPath:(i||"")+".transformOrigin",schemaPath:"#/definitions/TransformOrigin/minLength",params:{limit:2},message:"should NOT be shorter than 2 characters"}],!1;h=0===c,l=0===d}}}}}}}}}}return e.errors=null,!0});y.schema={additionalProperties:!1,properties:{cx:{$ref:"#/definitions/ViewportCoordinate"},cy:{$ref:"#/definitions/ViewportCoordinate"},element:{enum:["ellipse"],type:"string"},fill:{additionalProperties:!1,properties:{color:{$ref:"#/definitions/Color"},opacity:{$ref:"#/definitions/Opacity"},rule:{enum:["nonzero","evenodd"],type:"string"}},type:"object"},opacity:{$ref:"#/definitions/Opacity"},rx:{$ref:"#/definitions/ViewportCoordinate"},ry:{$ref:"#/definitions/ViewportCoordinate"},stroke:{additionalProperties:!1,properties:{color:{$ref:"#/definitions/Color"},dasharray:{$ref:"#/definitions/DashArray"},dashoffset:{$ref:"#/definitions/DashOffset"},linecap:{enum:["butt","square","round"],type:"string"},linejoin:{enum:["miter","round","bevel"],type:"string"},opacity:{$ref:"#/definitions/Opacity"},width:{$ref:"#/definitions/ViewportCoordinate"}},type:"object"},transform:{$ref:"#/definitions/Transform"},transformOrigin:{$ref:"#/definitions/TransformOrigin"}},required:["cx","cy","element","rx","ry"],type:"object"},y.errors=null,e[20]=y,e[21]={description:"An integer representing the dash offset of a stroke.",minimum:0,type:"number"},e[22]={description:"A hex, hsl, hsla or rgba color string:\n#FA9, #FFAA99, rgba(1, 1, 2, 0.5)",pattern:"^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\))$",type:"string"},e[23]={description:"A normalized opacity ranged between 0.0 and 1.0",maximum:1,minimum:0,type:"number"},e[24]={description:'A dash array in the form of "2 3 4"',pattern:"^([0-9]+\\s)+[0-9]+$",type:"string"},e[25]={description:"An integer representing the dash offset of a stroke.",maximum:100,minimum:-100,type:"integer"},e[26]={description:"A short css transform string.",maxLength:128,minLength:2,type:"string"},e[27]={description:"A transform origin string.",maxLength:128,minLength:2,type:"string"};var b=function(){var e=new RegExp("^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\))$"),t=new RegExp("^([0-9]+\\s)+[0-9]+$");return new RegExp("^((-?[0-9]+),(-?[0-9]+)\\s)+(-?[0-9]+),(-?[0-9]+)$"),new RegExp("^([0-9]+\\s){3}[0-9]+$"),function i(r,a,o,l,u){if(!r||"object"!=typeof r||Array.isArray(r))return i.errors=[{keyword:"type",dataPath:(a||"")+"",schemaPath:"#/type",params:{type:"object"},message:"should be object"}],!1;var d=!0;for(var c in r)if(!i.schema.properties.hasOwnProperty(c))return d=!1,i.errors=[{keyword:"additionalProperties",dataPath:(a||"")+"",schemaPath:"#/additionalProperties",params:{additionalProperty:""+c},message:"should NOT have additional properties"}],!1;if(d){if(void 0===(P=r.element))return d=!1,i.errors=[{keyword:"required",dataPath:(a||"")+"",schemaPath:"#/required",params:{missingProperty:"element"},message:"should have required property 'element'"}],!1;var h=0;if("string"!=typeof P)return i.errors=[{keyword:"type",dataPath:(a||"")+".element",schemaPath:"#/properties/element/type",params:{type:"string"},message:"should be string"}],!1;var p=i.schema.properties.element.enum;d=!1;for(var m=0;m<p.length;m++)if(s(P,p[m])){d=!0;break}if(!d)return i.errors=[{keyword:"enum",dataPath:(a||"")+".element",schemaPath:"#/properties/element/enum",params:{allowedValues:p},message:"should be equal to one of the allowed values"}],!1;if(d=0===h){if(void 0===(P=r.fill))d=!0;else{if(h=0,!P||"object"!=typeof P||Array.isArray(P))return i.errors=[{keyword:"type",dataPath:(a||"")+".fill",schemaPath:"#/properties/fill/type",params:{type:"object"},message:"should be object"}],!1;var f=!0;for(var g in P)if("color"!=g&&"opacity"!=g&&"rule"!=g)return f=!1,i.errors=[{keyword:"additionalProperties",dataPath:(a||"")+".fill",schemaPath:"#/properties/fill/additionalProperties",params:{additionalProperty:""+g},message:"should NOT have additional properties"}],!1;if(f){if(void 0===(w=P.color))f=!0;else{var y=0;if("string"!=typeof w)return i.errors=[{keyword:"type",dataPath:(a||"")+".fill.color",schemaPath:"#/definitions/Color/type",params:{type:"string"},message:"should be string"}],!1;if(!e.test(w))return i.errors=[{keyword:"pattern",dataPath:(a||"")+".fill.color",schemaPath:"#/definitions/Color/pattern",params:{pattern:"^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\))$"},message:'should match pattern "^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\))$"'}],!1;f=0===y}if(f){if(void 0===(w=P.opacity))f=!0;else{if(y=0,"number"!=typeof w)return i.errors=[{keyword:"type",dataPath:(a||"")+".fill.opacity",schemaPath:"#/definitions/Opacity/type",params:{type:"number"},message:"should be number"}],!1;if(w>1||w!=w)return i.errors=[{keyword:"maximum",dataPath:(a||"")+".fill.opacity",schemaPath:"#/definitions/Opacity/maximum",params:{comparison:"<=",limit:1,exclusive:!1},message:"should be <= 1"}],!1;if(w<0||w!=w)return i.errors=[{keyword:"minimum",dataPath:(a||"")+".fill.opacity",schemaPath:"#/definitions/Opacity/minimum",params:{comparison:">=",limit:0,exclusive:!1},message:"should be >= 0"}],!1;f=0===y}if(f)if(void 0===(w=P.rule))f=!0;else{if(y=0,"string"!=typeof w)return i.errors=[{keyword:"type",dataPath:(a||"")+".fill.rule",schemaPath:"#/properties/fill/properties/rule/type",params:{type:"string"},message:"should be string"}],!1;var b=i.schema.properties.fill.properties.rule.enum;f=!1;for(var v=0;v<b.length;v++)if(s(w,b[v])){f=!0;break}if(!f)return i.errors=[{keyword:"enum",dataPath:(a||"")+".fill.rule",schemaPath:"#/properties/fill/properties/rule/enum",params:{allowedValues:b},message:"should be equal to one of the allowed values"}],!1;f=0===y}}}d=0===h}if(d){if(void 0===(P=r.height))return d=!1,i.errors=[{keyword:"required",dataPath:(a||"")+"",schemaPath:"#/required",params:{missingProperty:"height"},message:"should have required property 'height'"}],!1;if(h=0,y=0,"number"!=typeof P)return i.errors=[{keyword:"type",dataPath:(a||"")+".height",schemaPath:"#/definitions/ViewportCoordinate/type",params:{type:"number"},message:"should be number"}],!1;if(P<0||P!=P)return i.errors=[{keyword:"minimum",dataPath:(a||"")+".height",schemaPath:"#/definitions/ViewportCoordinate/minimum",params:{comparison:">=",limit:0,exclusive:!1},message:"should be >= 0"}],!1;if(f=0===y,d=0===h){if(void 0===(P=r.opacity))d=!0;else{if(h=0,y=0,"number"!=typeof P)return i.errors=[{keyword:"type",dataPath:(a||"")+".opacity",schemaPath:"#/definitions/Opacity/type",params:{type:"number"},message:"should be number"}],!1;if(P>1||P!=P)return i.errors=[{keyword:"maximum",dataPath:(a||"")+".opacity",schemaPath:"#/definitions/Opacity/maximum",params:{comparison:"<=",limit:1,exclusive:!1},message:"should be <= 1"}],!1;if(P<0||P!=P)return i.errors=[{keyword:"minimum",dataPath:(a||"")+".opacity",schemaPath:"#/definitions/Opacity/minimum",params:{comparison:">=",limit:0,exclusive:!1},message:"should be >= 0"}],!1;f=0===y,d=0===h}if(d){if(void 0===(P=r.rx))d=!0;else{if(h=0,y=0,"number"!=typeof P)return i.errors=[{keyword:"type",dataPath:(a||"")+".rx",schemaPath:"#/definitions/ViewportCoordinate/type",params:{type:"number"},message:"should be number"}],!1;if(P<0||P!=P)return i.errors=[{keyword:"minimum",dataPath:(a||"")+".rx",schemaPath:"#/definitions/ViewportCoordinate/minimum",params:{comparison:">=",limit:0,exclusive:!1},message:"should be >= 0"}],!1;f=0===y,d=0===h}if(d){if(void 0===(P=r.ry))d=!0;else{if(h=0,y=0,"number"!=typeof P)return i.errors=[{keyword:"type",dataPath:(a||"")+".ry",schemaPath:"#/definitions/ViewportCoordinate/type",params:{type:"number"},message:"should be number"}],!1;if(P<0||P!=P)return i.errors=[{keyword:"minimum",dataPath:(a||"")+".ry",schemaPath:"#/definitions/ViewportCoordinate/minimum",params:{comparison:">=",limit:0,exclusive:!1},message:"should be >= 0"}],!1;f=0===y,d=0===h}if(d){if(void 0===(P=r.stroke))d=!0;else{if(h=0,!P||"object"!=typeof P||Array.isArray(P))return i.errors=[{keyword:"type",dataPath:(a||"")+".stroke",schemaPath:"#/properties/stroke/type",params:{type:"object"},message:"should be object"}],!1;for(var g in f=!0,P)if("color"!=g&&"dasharray"!=g&&"dashoffset"!=g&&"linecap"!=g&&"linejoin"!=g&&"opacity"!=g&&"width"!=g)return f=!1,i.errors=[{keyword:"additionalProperties",dataPath:(a||"")+".stroke",schemaPath:"#/properties/stroke/additionalProperties",params:{additionalProperty:""+g},message:"should NOT have additional properties"}],!1;if(f){if(void 0===(w=P.color))f=!0;else{if(y=0,"string"!=typeof w)return i.errors=[{keyword:"type",dataPath:(a||"")+".stroke.color",schemaPath:"#/definitions/Color/type",params:{type:"string"},message:"should be string"}],!1;if(!e.test(w))return i.errors=[{keyword:"pattern",dataPath:(a||"")+".stroke.color",schemaPath:"#/definitions/Color/pattern",params:{pattern:"^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\))$"},message:'should match pattern "^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\))$"'}],!1;f=0===y}if(f){if(void 0===(w=P.dasharray))f=!0;else{if(y=0,"string"!=typeof w)return i.errors=[{keyword:"type",dataPath:(a||"")+".stroke.dasharray",schemaPath:"#/definitions/DashArray/type",params:{type:"string"},message:"should be string"}],!1;if(!t.test(w))return i.errors=[{keyword:"pattern",dataPath:(a||"")+".stroke.dasharray",schemaPath:"#/definitions/DashArray/pattern",params:{pattern:"^([0-9]+\\s)+[0-9]+$"},message:'should match pattern "^([0-9]+\\s)+[0-9]+$"'}],!1;f=0===y}if(f){if(void 0===(w=P.dashoffset))f=!0;else{if(y=0,"number"!=typeof w||w%1||w!=w)return i.errors=[{keyword:"type",dataPath:(a||"")+".stroke.dashoffset",schemaPath:"#/definitions/DashOffset/type",params:{type:"integer"},message:"should be integer"}],!1;if("number"==typeof w){if(w>100||w!=w)return i.errors=[{keyword:"maximum",dataPath:(a||"")+".stroke.dashoffset",schemaPath:"#/definitions/DashOffset/maximum",params:{comparison:"<=",limit:100,exclusive:!1},message:"should be <= 100"}],!1;if(w<-100||w!=w)return i.errors=[{keyword:"minimum",dataPath:(a||"")+".stroke.dashoffset",schemaPath:"#/definitions/DashOffset/minimum",params:{comparison:">=",limit:-100,exclusive:!1},message:"should be >= -100"}],!1}f=0===y}if(f){if(void 0===(w=P.linecap))f=!0;else{if(y=0,"string"!=typeof w)return i.errors=[{keyword:"type",dataPath:(a||"")+".stroke.linecap",schemaPath:"#/properties/stroke/properties/linecap/type",params:{type:"string"},message:"should be string"}],!1;for(b=i.schema.properties.stroke.properties.linecap.enum,f=!1,v=0;v<b.length;v++)if(s(w,b[v])){f=!0;break}if(!f)return i.errors=[{keyword:"enum",dataPath:(a||"")+".stroke.linecap",schemaPath:"#/properties/stroke/properties/linecap/enum",params:{allowedValues:b},message:"should be equal to one of the allowed values"}],!1;f=0===y}if(f){if(void 0===(w=P.linejoin))f=!0;else{if(y=0,"string"!=typeof w)return i.errors=[{keyword:"type",dataPath:(a||"")+".stroke.linejoin",schemaPath:"#/properties/stroke/properties/linejoin/type",params:{type:"string"},message:"should be string"}],!1;for(b=i.schema.properties.stroke.properties.linejoin.enum,f=!1,v=0;v<b.length;v++)if(s(w,b[v])){f=!0;break}if(!f)return i.errors=[{keyword:"enum",dataPath:(a||"")+".stroke.linejoin",schemaPath:"#/properties/stroke/properties/linejoin/enum",params:{allowedValues:b},message:"should be equal to one of the allowed values"}],!1;f=0===y}if(f){var w;if(void 0===(w=P.opacity))f=!0;else{if(y=0,"number"!=typeof w)return i.errors=[{keyword:"type",dataPath:(a||"")+".stroke.opacity",schemaPath:"#/definitions/Opacity/type",params:{type:"number"},message:"should be number"}],!1;if(w>1||w!=w)return i.errors=[{keyword:"maximum",dataPath:(a||"")+".stroke.opacity",schemaPath:"#/definitions/Opacity/maximum",params:{comparison:"<=",limit:1,exclusive:!1},message:"should be <= 1"}],!1;if(w<0||w!=w)return i.errors=[{keyword:"minimum",dataPath:(a||"")+".stroke.opacity",schemaPath:"#/definitions/Opacity/minimum",params:{comparison:">=",limit:0,exclusive:!1},message:"should be >= 0"}],!1;f=0===y}if(f)if(void 0===(w=P.width))f=!0;else{if(y=0,"number"!=typeof w)return i.errors=[{keyword:"type",dataPath:(a||"")+".stroke.width",schemaPath:"#/definitions/ViewportCoordinate/type",params:{type:"number"},message:"should be number"}],!1;if(w<0||w!=w)return i.errors=[{keyword:"minimum",dataPath:(a||"")+".stroke.width",schemaPath:"#/definitions/ViewportCoordinate/minimum",params:{comparison:">=",limit:0,exclusive:!1},message:"should be >= 0"}],!1;f=0===y}}}}}}}d=0===h}if(d){if(void 0===(P=r.transform))d=!0;else{if(h=0,y=0,"string"!=typeof P)return i.errors=[{keyword:"type",dataPath:(a||"")+".transform",schemaPath:"#/definitions/Transform/type",params:{type:"string"},message:"should be string"}],!1;if(n(P)>128)return i.errors=[{keyword:"maxLength",dataPath:(a||"")+".transform",schemaPath:"#/definitions/Transform/maxLength",params:{limit:128},message:"should NOT be longer than 128 characters"}],!1;if(n(P)<2)return i.errors=[{keyword:"minLength",dataPath:(a||"")+".transform",schemaPath:"#/definitions/Transform/minLength",params:{limit:2},message:"should NOT be shorter than 2 characters"}],!1;f=0===y,d=0===h}if(d){if(void 0===(P=r.transformOrigin))d=!0;else{if(h=0,y=0,"string"!=typeof P)return i.errors=[{keyword:"type",dataPath:(a||"")+".transformOrigin",schemaPath:"#/definitions/TransformOrigin/type",params:{type:"string"},message:"should be string"}],!1;if(n(P)>128)return i.errors=[{keyword:"maxLength",dataPath:(a||"")+".transformOrigin",schemaPath:"#/definitions/TransformOrigin/maxLength",params:{limit:128},message:"should NOT be longer than 128 characters"}],!1;if(n(P)<2)return i.errors=[{keyword:"minLength",dataPath:(a||"")+".transformOrigin",schemaPath:"#/definitions/TransformOrigin/minLength",params:{limit:2},message:"should NOT be shorter than 2 characters"}],!1;f=0===y,d=0===h}if(d){if(void 0===(P=r.width))return d=!1,i.errors=[{keyword:"required",dataPath:(a||"")+"",schemaPath:"#/required",params:{missingProperty:"width"},message:"should have required property 'width'"}],!1;if(h=0,y=0,"number"!=typeof P)return i.errors=[{keyword:"type",dataPath:(a||"")+".width",schemaPath:"#/definitions/ViewportCoordinate/type",params:{type:"number"},message:"should be number"}],!1;if(P<0||P!=P)return i.errors=[{keyword:"minimum",dataPath:(a||"")+".width",schemaPath:"#/definitions/ViewportCoordinate/minimum",params:{comparison:">=",limit:0,exclusive:!1},message:"should be >= 0"}],!1;if(f=0===y,d=0===h){if(void 0===(P=r.x))return d=!1,i.errors=[{keyword:"required",dataPath:(a||"")+"",schemaPath:"#/required",params:{missingProperty:"x"},message:"should have required property 'x'"}],!1;if(h=0,y=0,"number"!=typeof P)return i.errors=[{keyword:"type",dataPath:(a||"")+".x",schemaPath:"#/definitions/ViewportCoordinate/type",params:{type:"number"},message:"should be number"}],!1;if(P<0||P!=P)return i.errors=[{keyword:"minimum",dataPath:(a||"")+".x",schemaPath:"#/definitions/ViewportCoordinate/minimum",params:{comparison:">=",limit:0,exclusive:!1},message:"should be >= 0"}],!1;if(f=0===y,d=0===h){var P;if(void 0===(P=r.y))return d=!1,i.errors=[{keyword:"required",dataPath:(a||"")+"",schemaPath:"#/required",params:{missingProperty:"y"},message:"should have required property 'y'"}],!1;if(h=0,y=0,"number"!=typeof P)return i.errors=[{keyword:"type",dataPath:(a||"")+".y",schemaPath:"#/definitions/ViewportCoordinate/type",params:{type:"number"},message:"should be number"}],!1;if(P<0||P!=P)return i.errors=[{keyword:"minimum",dataPath:(a||"")+".y",schemaPath:"#/definitions/ViewportCoordinate/minimum",params:{comparison:">=",limit:0,exclusive:!1},message:"should be >= 0"}],!1;f=0===y,d=0===h}}}}}}}}}}}}return i.errors=null,!0}}();b.schema={additionalProperties:!1,properties:{element:{enum:["rect"],type:"string"},fill:{additionalProperties:!1,properties:{color:{$ref:"#/definitions/Color"},opacity:{$ref:"#/definitions/Opacity"},rule:{enum:["nonzero","evenodd"],type:"string"}},type:"object"},height:{$ref:"#/definitions/ViewportCoordinate"},opacity:{$ref:"#/definitions/Opacity"},rx:{$ref:"#/definitions/ViewportCoordinate"},ry:{$ref:"#/definitions/ViewportCoordinate"},stroke:{additionalProperties:!1,properties:{color:{$ref:"#/definitions/Color"},dasharray:{$ref:"#/definitions/DashArray"},dashoffset:{$ref:"#/definitions/DashOffset"},linecap:{enum:["butt","square","round"],type:"string"},linejoin:{enum:["miter","round","bevel"],type:"string"},opacity:{$ref:"#/definitions/Opacity"},width:{$ref:"#/definitions/ViewportCoordinate"}},type:"object"},transform:{$ref:"#/definitions/Transform"},transformOrigin:{$ref:"#/definitions/TransformOrigin"},width:{$ref:"#/definitions/ViewportCoordinate"},x:{$ref:"#/definitions/ViewportCoordinate"},y:{$ref:"#/definitions/ViewportCoordinate"}},required:["element","height","width","x","y"],type:"object"},b.errors=null,e[28]=b;var v=function(){var e=new RegExp("^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\))$"),t=new RegExp("^([0-9]+\\s)+[0-9]+$");return new RegExp("^((-?[0-9]+),(-?[0-9]+)\\s)+(-?[0-9]+),(-?[0-9]+)$"),new RegExp("^([0-9]+\\s){3}[0-9]+$"),function i(r,a,o,l,u){if(!r||"object"!=typeof r||Array.isArray(r))return i.errors=[{keyword:"type",dataPath:(a||"")+"",schemaPath:"#/type",params:{type:"object"},message:"should be object"}],!1;var d=!0;for(var c in r)if("d"!=c&&"element"!=c&&"fill"!=c&&"opacity"!=c&&"stroke"!=c&&"transform"!=c&&"transformOrigin"!=c)return d=!1,i.errors=[{keyword:"additionalProperties",dataPath:(a||"")+"",schemaPath:"#/additionalProperties",params:{additionalProperty:""+c},message:"should NOT have additional properties"}],!1;if(d){if(void 0===(P=r.d))return d=!1,i.errors=[{keyword:"required",dataPath:(a||"")+"",schemaPath:"#/required",params:{missingProperty:"d"},message:"should have required property 'd'"}],!1;var h=0,p=0;if("string"!=typeof P)return i.errors=[{keyword:"type",dataPath:(a||"")+".d",schemaPath:"#/definitions/ViewportPath/type",params:{type:"string"},message:"should be string"}],!1;if(n(P)>1024)return i.errors=[{keyword:"maxLength",dataPath:(a||"")+".d",schemaPath:"#/definitions/ViewportPath/maxLength",params:{limit:1024},message:"should NOT be longer than 1024 characters"}],!1;if(n(P)<2)return i.errors=[{keyword:"minLength",dataPath:(a||"")+".d",schemaPath:"#/definitions/ViewportPath/minLength",params:{limit:2},message:"should NOT be shorter than 2 characters"}],!1;var m=0===p;if(d=0===h){if(void 0===(P=r.element))return d=!1,i.errors=[{keyword:"required",dataPath:(a||"")+"",schemaPath:"#/required",params:{missingProperty:"element"},message:"should have required property 'element'"}],!1;if(h=0,"string"!=typeof P)return i.errors=[{keyword:"type",dataPath:(a||"")+".element",schemaPath:"#/properties/element/type",params:{type:"string"},message:"should be string"}],!1;var f=i.schema.properties.element.enum;d=!1;for(var g=0;g<f.length;g++)if(s(P,f[g])){d=!0;break}if(!d)return i.errors=[{keyword:"enum",dataPath:(a||"")+".element",schemaPath:"#/properties/element/enum",params:{allowedValues:f},message:"should be equal to one of the allowed values"}],!1;if(d=0===h){if(void 0===(P=r.fill))d=!0;else{if(h=0,!P||"object"!=typeof P||Array.isArray(P))return i.errors=[{keyword:"type",dataPath:(a||"")+".fill",schemaPath:"#/properties/fill/type",params:{type:"object"},message:"should be object"}],!1;for(var y in m=!0,P)if("color"!=y&&"opacity"!=y&&"rule"!=y)return m=!1,i.errors=[{keyword:"additionalProperties",dataPath:(a||"")+".fill",schemaPath:"#/properties/fill/additionalProperties",params:{additionalProperty:""+y},message:"should NOT have additional properties"}],!1;if(m){if(void 0===(w=P.color))m=!0;else{if(p=0,"string"!=typeof w)return i.errors=[{keyword:"type",dataPath:(a||"")+".fill.color",schemaPath:"#/definitions/Color/type",params:{type:"string"},message:"should be string"}],!1;if(!e.test(w))return i.errors=[{keyword:"pattern",dataPath:(a||"")+".fill.color",schemaPath:"#/definitions/Color/pattern",params:{pattern:"^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\))$"},message:'should match pattern "^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\))$"'}],!1;m=0===p}if(m){if(void 0===(w=P.opacity))m=!0;else{if(p=0,"number"!=typeof w)return i.errors=[{keyword:"type",dataPath:(a||"")+".fill.opacity",schemaPath:"#/definitions/Opacity/type",params:{type:"number"},message:"should be number"}],!1;if(w>1||w!=w)return i.errors=[{keyword:"maximum",dataPath:(a||"")+".fill.opacity",schemaPath:"#/definitions/Opacity/maximum",params:{comparison:"<=",limit:1,exclusive:!1},message:"should be <= 1"}],!1;if(w<0||w!=w)return i.errors=[{keyword:"minimum",dataPath:(a||"")+".fill.opacity",schemaPath:"#/definitions/Opacity/minimum",params:{comparison:">=",limit:0,exclusive:!1},message:"should be >= 0"}],!1;m=0===p}if(m)if(void 0===(w=P.rule))m=!0;else{if(p=0,"string"!=typeof w)return i.errors=[{keyword:"type",dataPath:(a||"")+".fill.rule",schemaPath:"#/properties/fill/properties/rule/type",params:{type:"string"},message:"should be string"}],!1;var b=i.schema.properties.fill.properties.rule.enum;m=!1;for(var v=0;v<b.length;v++)if(s(w,b[v])){m=!0;break}if(!m)return i.errors=[{keyword:"enum",dataPath:(a||"")+".fill.rule",schemaPath:"#/properties/fill/properties/rule/enum",params:{allowedValues:b},message:"should be equal to one of the allowed values"}],!1;m=0===p}}}d=0===h}if(d){if(void 0===(P=r.opacity))d=!0;else{if(h=0,p=0,"number"!=typeof P)return i.errors=[{keyword:"type",dataPath:(a||"")+".opacity",schemaPath:"#/definitions/Opacity/type",params:{type:"number"},message:"should be number"}],!1;if(P>1||P!=P)return i.errors=[{keyword:"maximum",dataPath:(a||"")+".opacity",schemaPath:"#/definitions/Opacity/maximum",params:{comparison:"<=",limit:1,exclusive:!1},message:"should be <= 1"}],!1;if(P<0||P!=P)return i.errors=[{keyword:"minimum",dataPath:(a||"")+".opacity",schemaPath:"#/definitions/Opacity/minimum",params:{comparison:">=",limit:0,exclusive:!1},message:"should be >= 0"}],!1;m=0===p,d=0===h}if(d){if(void 0===(P=r.stroke))d=!0;else{if(h=0,!P||"object"!=typeof P||Array.isArray(P))return i.errors=[{keyword:"type",dataPath:(a||"")+".stroke",schemaPath:"#/properties/stroke/type",params:{type:"object"},message:"should be object"}],!1;for(var y in m=!0,P)if("color"!=y&&"dasharray"!=y&&"dashoffset"!=y&&"linecap"!=y&&"linejoin"!=y&&"opacity"!=y&&"width"!=y)return m=!1,i.errors=[{keyword:"additionalProperties",dataPath:(a||"")+".stroke",schemaPath:"#/properties/stroke/additionalProperties",params:{additionalProperty:""+y},message:"should NOT have additional properties"}],!1;if(m){if(void 0===(w=P.color))m=!0;else{if(p=0,"string"!=typeof w)return i.errors=[{keyword:"type",dataPath:(a||"")+".stroke.color",schemaPath:"#/definitions/Color/type",params:{type:"string"},message:"should be string"}],!1;if(!e.test(w))return i.errors=[{keyword:"pattern",dataPath:(a||"")+".stroke.color",schemaPath:"#/definitions/Color/pattern",params:{pattern:"^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\))$"},message:'should match pattern "^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\))$"'}],!1;m=0===p}if(m){if(void 0===(w=P.dasharray))m=!0;else{if(p=0,"string"!=typeof w)return i.errors=[{keyword:"type",dataPath:(a||"")+".stroke.dasharray",schemaPath:"#/definitions/DashArray/type",params:{type:"string"},message:"should be string"}],!1;if(!t.test(w))return i.errors=[{keyword:"pattern",dataPath:(a||"")+".stroke.dasharray",schemaPath:"#/definitions/DashArray/pattern",params:{pattern:"^([0-9]+\\s)+[0-9]+$"},message:'should match pattern "^([0-9]+\\s)+[0-9]+$"'}],!1;m=0===p}if(m){if(void 0===(w=P.dashoffset))m=!0;else{if(p=0,"number"!=typeof w||w%1||w!=w)return i.errors=[{keyword:"type",dataPath:(a||"")+".stroke.dashoffset",schemaPath:"#/definitions/DashOffset/type",params:{type:"integer"},message:"should be integer"}],!1;if("number"==typeof w){if(w>100||w!=w)return i.errors=[{keyword:"maximum",dataPath:(a||"")+".stroke.dashoffset",schemaPath:"#/definitions/DashOffset/maximum",params:{comparison:"<=",limit:100,exclusive:!1},message:"should be <= 100"}],!1;if(w<-100||w!=w)return i.errors=[{keyword:"minimum",dataPath:(a||"")+".stroke.dashoffset",schemaPath:"#/definitions/DashOffset/minimum",params:{comparison:">=",limit:-100,exclusive:!1},message:"should be >= -100"}],!1}m=0===p}if(m){if(void 0===(w=P.linecap))m=!0;else{if(p=0,"string"!=typeof w)return i.errors=[{keyword:"type",dataPath:(a||"")+".stroke.linecap",schemaPath:"#/properties/stroke/properties/linecap/type",params:{type:"string"},message:"should be string"}],!1;for(b=i.schema.properties.stroke.properties.linecap.enum,m=!1,v=0;v<b.length;v++)if(s(w,b[v])){m=!0;break}if(!m)return i.errors=[{keyword:"enum",dataPath:(a||"")+".stroke.linecap",schemaPath:"#/properties/stroke/properties/linecap/enum",params:{allowedValues:b},message:"should be equal to one of the allowed values"}],!1;m=0===p}if(m){if(void 0===(w=P.linejoin))m=!0;else{if(p=0,"string"!=typeof w)return i.errors=[{keyword:"type",dataPath:(a||"")+".stroke.linejoin",schemaPath:"#/properties/stroke/properties/linejoin/type",params:{type:"string"},message:"should be string"}],!1;for(b=i.schema.properties.stroke.properties.linejoin.enum,m=!1,v=0;v<b.length;v++)if(s(w,b[v])){m=!0;break}if(!m)return i.errors=[{keyword:"enum",dataPath:(a||"")+".stroke.linejoin",schemaPath:"#/properties/stroke/properties/linejoin/enum",params:{allowedValues:b},message:"should be equal to one of the allowed values"}],!1;m=0===p}if(m){var w;if(void 0===(w=P.opacity))m=!0;else{if(p=0,"number"!=typeof w)return i.errors=[{keyword:"type",dataPath:(a||"")+".stroke.opacity",schemaPath:"#/definitions/Opacity/type",params:{type:"number"},message:"should be number"}],!1;if(w>1||w!=w)return i.errors=[{keyword:"maximum",dataPath:(a||"")+".stroke.opacity",schemaPath:"#/definitions/Opacity/maximum",params:{comparison:"<=",limit:1,exclusive:!1},message:"should be <= 1"}],!1;if(w<0||w!=w)return i.errors=[{keyword:"minimum",dataPath:(a||"")+".stroke.opacity",schemaPath:"#/definitions/Opacity/minimum",params:{comparison:">=",limit:0,exclusive:!1},message:"should be >= 0"}],!1;m=0===p}if(m)if(void 0===(w=P.width))m=!0;else{if(p=0,"number"!=typeof w)return i.errors=[{keyword:"type",dataPath:(a||"")+".stroke.width",schemaPath:"#/definitions/ViewportCoordinate/type",params:{type:"number"},message:"should be number"}],!1;if(w<0||w!=w)return i.errors=[{keyword:"minimum",dataPath:(a||"")+".stroke.width",schemaPath:"#/definitions/ViewportCoordinate/minimum",params:{comparison:">=",limit:0,exclusive:!1},message:"should be >= 0"}],!1;m=0===p}}}}}}}d=0===h}if(d){var P;if(void 0===(P=r.transform))d=!0;else{if(h=0,p=0,"string"!=typeof P)return i.errors=[{keyword:"type",dataPath:(a||"")+".transform",schemaPath:"#/definitions/Transform/type",params:{type:"string"},message:"should be string"}],!1;if(n(P)>128)return i.errors=[{keyword:"maxLength",dataPath:(a||"")+".transform",schemaPath:"#/definitions/Transform/maxLength",params:{limit:128},message:"should NOT be longer than 128 characters"}],!1;if(n(P)<2)return i.errors=[{keyword:"minLength",dataPath:(a||"")+".transform",schemaPath:"#/definitions/Transform/minLength",params:{limit:2},message:"should NOT be shorter than 2 characters"}],!1;m=0===p,d=0===h}if(d)if(void 0===(P=r.transformOrigin))d=!0;else{if(h=0,p=0,"string"!=typeof P)return i.errors=[{keyword:"type",dataPath:(a||"")+".transformOrigin",schemaPath:"#/definitions/TransformOrigin/type",params:{type:"string"},message:"should be string"}],!1;if(n(P)>128)return i.errors=[{keyword:"maxLength",dataPath:(a||"")+".transformOrigin",schemaPath:"#/definitions/TransformOrigin/maxLength",params:{limit:128},message:"should NOT be longer than 128 characters"}],!1;if(n(P)<2)return i.errors=[{keyword:"minLength",dataPath:(a||"")+".transformOrigin",schemaPath:"#/definitions/TransformOrigin/minLength",params:{limit:2},message:"should NOT be shorter than 2 characters"}],!1;m=0===p,d=0===h}}}}}}}return i.errors=null,!0}}();v.schema={additionalProperties:!1,properties:{d:{$ref:"#/definitions/ViewportPath"},element:{enum:["path"],type:"string"},fill:{additionalProperties:!1,properties:{color:{$ref:"#/definitions/Color"},opacity:{$ref:"#/definitions/Opacity"},rule:{enum:["nonzero","evenodd"],type:"string"}},type:"object"},opacity:{$ref:"#/definitions/Opacity"},stroke:{additionalProperties:!1,properties:{color:{$ref:"#/definitions/Color"},dasharray:{$ref:"#/definitions/DashArray"},dashoffset:{$ref:"#/definitions/DashOffset"},linecap:{enum:["butt","square","round"],type:"string"},linejoin:{enum:["miter","round","bevel"],type:"string"},opacity:{$ref:"#/definitions/Opacity"},width:{$ref:"#/definitions/ViewportCoordinate"}},type:"object"},transform:{$ref:"#/definitions/Transform"},transformOrigin:{$ref:"#/definitions/TransformOrigin"}},required:["d","element"],type:"object"},v.errors=null,e[29]=v,e[30]={description:'The "d" parameter of an svg path.',maxLength:1024,minLength:2,type:"string"};var w=function(){var e=new RegExp("^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\))$"),t=new RegExp("^([0-9]+\\s)+[0-9]+$"),i=new RegExp("^((-?[0-9]+),(-?[0-9]+)\\s)+(-?[0-9]+),(-?[0-9]+)$");return new RegExp("^([0-9]+\\s){3}[0-9]+$"),function r(a,o,l,u,d){if(!a||"object"!=typeof a||Array.isArray(a))return r.errors=[{keyword:"type",dataPath:(o||"")+"",schemaPath:"#/type",params:{type:"object"},message:"should be object"}],!1;var c=!0;for(var h in a)if("element"!=h&&"fill"!=h&&"opacity"!=h&&"points"!=h&&"stroke"!=h&&"transform"!=h&&"transformOrigin"!=h)return c=!1,r.errors=[{keyword:"additionalProperties",dataPath:(o||"")+"",schemaPath:"#/additionalProperties",params:{additionalProperty:""+h},message:"should NOT have additional properties"}],!1;if(c){if(void 0===(k=a.element))return c=!1,r.errors=[{keyword:"required",dataPath:(o||"")+"",schemaPath:"#/required",params:{missingProperty:"element"},message:"should have required property 'element'"}],!1;var p=0;if("string"!=typeof k)return r.errors=[{keyword:"type",dataPath:(o||"")+".element",schemaPath:"#/properties/element/type",params:{type:"string"},message:"should be string"}],!1;var m=r.schema.properties.element.enum;c=!1;for(var f=0;f<m.length;f++)if(s(k,m[f])){c=!0;break}if(!c)return r.errors=[{keyword:"enum",dataPath:(o||"")+".element",schemaPath:"#/properties/element/enum",params:{allowedValues:m},message:"should be equal to one of the allowed values"}],!1;if(c=0===p){if(void 0===(k=a.fill))c=!0;else{if(p=0,!k||"object"!=typeof k||Array.isArray(k))return r.errors=[{keyword:"type",dataPath:(o||"")+".fill",schemaPath:"#/properties/fill/type",params:{type:"object"},message:"should be object"}],!1;var g=!0;for(var y in k)if("color"!=y&&"opacity"!=y&&"rule"!=y)return g=!1,r.errors=[{keyword:"additionalProperties",dataPath:(o||"")+".fill",schemaPath:"#/properties/fill/additionalProperties",params:{additionalProperty:""+y},message:"should NOT have additional properties"}],!1;if(g){if(void 0===(P=k.color))g=!0;else{var b=0;if("string"!=typeof P)return r.errors=[{keyword:"type",dataPath:(o||"")+".fill.color",schemaPath:"#/definitions/Color/type",params:{type:"string"},message:"should be string"}],!1;if(!e.test(P))return r.errors=[{keyword:"pattern",dataPath:(o||"")+".fill.color",schemaPath:"#/definitions/Color/pattern",params:{pattern:"^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\))$"},message:'should match pattern "^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\))$"'}],!1;g=0===b}if(g){if(void 0===(P=k.opacity))g=!0;else{if(b=0,"number"!=typeof P)return r.errors=[{keyword:"type",dataPath:(o||"")+".fill.opacity",schemaPath:"#/definitions/Opacity/type",params:{type:"number"},message:"should be number"}],!1;if(P>1||P!=P)return r.errors=[{keyword:"maximum",dataPath:(o||"")+".fill.opacity",schemaPath:"#/definitions/Opacity/maximum",params:{comparison:"<=",limit:1,exclusive:!1},message:"should be <= 1"}],!1;if(P<0||P!=P)return r.errors=[{keyword:"minimum",dataPath:(o||"")+".fill.opacity",schemaPath:"#/definitions/Opacity/minimum",params:{comparison:">=",limit:0,exclusive:!1},message:"should be >= 0"}],!1;g=0===b}if(g)if(void 0===(P=k.rule))g=!0;else{if(b=0,"string"!=typeof P)return r.errors=[{keyword:"type",dataPath:(o||"")+".fill.rule",schemaPath:"#/properties/fill/properties/rule/type",params:{type:"string"},message:"should be string"}],!1;var v=r.schema.properties.fill.properties.rule.enum;g=!1;for(var w=0;w<v.length;w++)if(s(P,v[w])){g=!0;break}if(!g)return r.errors=[{keyword:"enum",dataPath:(o||"")+".fill.rule",schemaPath:"#/properties/fill/properties/rule/enum",params:{allowedValues:v},message:"should be equal to one of the allowed values"}],!1;g=0===b}}}c=0===p}if(c){if(void 0===(k=a.opacity))c=!0;else{if(p=0,b=0,"number"!=typeof k)return r.errors=[{keyword:"type",dataPath:(o||"")+".opacity",schemaPath:"#/definitions/Opacity/type",params:{type:"number"},message:"should be number"}],!1;if(k>1||k!=k)return r.errors=[{keyword:"maximum",dataPath:(o||"")+".opacity",schemaPath:"#/definitions/Opacity/maximum",params:{comparison:"<=",limit:1,exclusive:!1},message:"should be <= 1"}],!1;if(k<0||k!=k)return r.errors=[{keyword:"minimum",dataPath:(o||"")+".opacity",schemaPath:"#/definitions/Opacity/minimum",params:{comparison:">=",limit:0,exclusive:!1},message:"should be >= 0"}],!1;g=0===b,c=0===p}if(c){if(void 0===(k=a.points))return c=!1,r.errors=[{keyword:"required",dataPath:(o||"")+"",schemaPath:"#/required",params:{missingProperty:"points"},message:"should have required property 'points'"}],!1;if(p=0,b=0,"string"!=typeof k)return r.errors=[{keyword:"type",dataPath:(o||"")+".points",schemaPath:"#/definitions/ViewportCoordinatePairs/type",params:{type:"string"},message:"should be string"}],!1;if(!i.test(k))return r.errors=[{keyword:"pattern",dataPath:(o||"")+".points",schemaPath:"#/definitions/ViewportCoordinatePairs/pattern",params:{pattern:"^((-?[0-9]+),(-?[0-9]+)\\s)+(-?[0-9]+),(-?[0-9]+)$"},message:'should match pattern "^((-?[0-9]+),(-?[0-9]+)\\s)+(-?[0-9]+),(-?[0-9]+)$"'}],!1;if(g=0===b,c=0===p){if(void 0===(k=a.stroke))c=!0;else{if(p=0,!k||"object"!=typeof k||Array.isArray(k))return r.errors=[{keyword:"type",dataPath:(o||"")+".stroke",schemaPath:"#/properties/stroke/type",params:{type:"object"},message:"should be object"}],!1;for(var y in g=!0,k)if("color"!=y&&"dasharray"!=y&&"dashoffset"!=y&&"linecap"!=y&&"linejoin"!=y&&"opacity"!=y&&"width"!=y)return g=!1,r.errors=[{keyword:"additionalProperties",dataPath:(o||"")+".stroke",schemaPath:"#/properties/stroke/additionalProperties",params:{additionalProperty:""+y},message:"should NOT have additional properties"}],!1;if(g){if(void 0===(P=k.color))g=!0;else{if(b=0,"string"!=typeof P)return r.errors=[{keyword:"type",dataPath:(o||"")+".stroke.color",schemaPath:"#/definitions/Color/type",params:{type:"string"},message:"should be string"}],!1;if(!e.test(P))return r.errors=[{keyword:"pattern",dataPath:(o||"")+".stroke.color",schemaPath:"#/definitions/Color/pattern",params:{pattern:"^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\))$"},message:'should match pattern "^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\))$"'}],!1;g=0===b}if(g){if(void 0===(P=k.dasharray))g=!0;else{if(b=0,"string"!=typeof P)return r.errors=[{keyword:"type",dataPath:(o||"")+".stroke.dasharray",schemaPath:"#/definitions/DashArray/type",params:{type:"string"},message:"should be string"}],!1;if(!t.test(P))return r.errors=[{keyword:"pattern",dataPath:(o||"")+".stroke.dasharray",schemaPath:"#/definitions/DashArray/pattern",params:{pattern:"^([0-9]+\\s)+[0-9]+$"},message:'should match pattern "^([0-9]+\\s)+[0-9]+$"'}],!1;g=0===b}if(g){if(void 0===(P=k.dashoffset))g=!0;else{if(b=0,"number"!=typeof P||P%1||P!=P)return r.errors=[{keyword:"type",dataPath:(o||"")+".stroke.dashoffset",schemaPath:"#/definitions/DashOffset/type",params:{type:"integer"},message:"should be integer"}],!1;if("number"==typeof P){if(P>100||P!=P)return r.errors=[{keyword:"maximum",dataPath:(o||"")+".stroke.dashoffset",schemaPath:"#/definitions/DashOffset/maximum",params:{comparison:"<=",limit:100,exclusive:!1},message:"should be <= 100"}],!1;if(P<-100||P!=P)return r.errors=[{keyword:"minimum",dataPath:(o||"")+".stroke.dashoffset",schemaPath:"#/definitions/DashOffset/minimum",params:{comparison:">=",limit:-100,exclusive:!1},message:"should be >= -100"}],!1}g=0===b}if(g){if(void 0===(P=k.linecap))g=!0;else{if(b=0,"string"!=typeof P)return r.errors=[{keyword:"type",dataPath:(o||"")+".stroke.linecap",schemaPath:"#/properties/stroke/properties/linecap/type",params:{type:"string"},message:"should be string"}],!1;for(v=r.schema.properties.stroke.properties.linecap.enum,g=!1,w=0;w<v.length;w++)if(s(P,v[w])){g=!0;break}if(!g)return r.errors=[{keyword:"enum",dataPath:(o||"")+".stroke.linecap",schemaPath:"#/properties/stroke/properties/linecap/enum",params:{allowedValues:v},message:"should be equal to one of the allowed values"}],!1;g=0===b}if(g){if(void 0===(P=k.linejoin))g=!0;else{if(b=0,"string"!=typeof P)return r.errors=[{keyword:"type",dataPath:(o||"")+".stroke.linejoin",schemaPath:"#/properties/stroke/properties/linejoin/type",params:{type:"string"},message:"should be string"}],!1;for(v=r.schema.properties.stroke.properties.linejoin.enum,g=!1,w=0;w<v.length;w++)if(s(P,v[w])){g=!0;break}if(!g)return r.errors=[{keyword:"enum",dataPath:(o||"")+".stroke.linejoin",schemaPath:"#/properties/stroke/properties/linejoin/enum",params:{allowedValues:v},message:"should be equal to one of the allowed values"}],!1;g=0===b}if(g){var P;if(void 0===(P=k.opacity))g=!0;else{if(b=0,"number"!=typeof P)return r.errors=[{keyword:"type",dataPath:(o||"")+".stroke.opacity",schemaPath:"#/definitions/Opacity/type",params:{type:"number"},message:"should be number"}],!1;if(P>1||P!=P)return r.errors=[{keyword:"maximum",dataPath:(o||"")+".stroke.opacity",schemaPath:"#/definitions/Opacity/maximum",params:{comparison:"<=",limit:1,exclusive:!1},message:"should be <= 1"}],!1;if(P<0||P!=P)return r.errors=[{keyword:"minimum",dataPath:(o||"")+".stroke.opacity",schemaPath:"#/definitions/Opacity/minimum",params:{comparison:">=",limit:0,exclusive:!1},message:"should be >= 0"}],!1;g=0===b}if(g)if(void 0===(P=k.width))g=!0;else{if(b=0,"number"!=typeof P)return r.errors=[{keyword:"type",dataPath:(o||"")+".stroke.width",schemaPath:"#/definitions/ViewportCoordinate/type",params:{type:"number"},message:"should be number"}],!1;if(P<0||P!=P)return r.errors=[{keyword:"minimum",dataPath:(o||"")+".stroke.width",schemaPath:"#/definitions/ViewportCoordinate/minimum",params:{comparison:">=",limit:0,exclusive:!1},message:"should be >= 0"}],!1;g=0===b}}}}}}}c=0===p}if(c){var k;if(void 0===(k=a.transform))c=!0;else{if(p=0,b=0,"string"!=typeof k)return r.errors=[{keyword:"type",dataPath:(o||"")+".transform",schemaPath:"#/definitions/Transform/type",params:{type:"string"},message:"should be string"}],!1;if(n(k)>128)return r.errors=[{keyword:"maxLength",dataPath:(o||"")+".transform",schemaPath:"#/definitions/Transform/maxLength",params:{limit:128},message:"should NOT be longer than 128 characters"}],!1;if(n(k)<2)return r.errors=[{keyword:"minLength",dataPath:(o||"")+".transform",schemaPath:"#/definitions/Transform/minLength",params:{limit:2},message:"should NOT be shorter than 2 characters"}],!1;g=0===b,c=0===p}if(c)if(void 0===(k=a.transformOrigin))c=!0;else{if(p=0,b=0,"string"!=typeof k)return r.errors=[{keyword:"type",dataPath:(o||"")+".transformOrigin",schemaPath:"#/definitions/TransformOrigin/type",params:{type:"string"},message:"should be string"}],!1;if(n(k)>128)return r.errors=[{keyword:"maxLength",dataPath:(o||"")+".transformOrigin",schemaPath:"#/definitions/TransformOrigin/maxLength",params:{limit:128},message:"should NOT be longer than 128 characters"}],!1;if(n(k)<2)return r.errors=[{keyword:"minLength",dataPath:(o||"")+".transformOrigin",schemaPath:"#/definitions/TransformOrigin/minLength",params:{limit:2},message:"should NOT be shorter than 2 characters"}],!1;g=0===b,c=0===p}}}}}}}return r.errors=null,!0}}();w.schema={additionalProperties:!1,properties:{element:{enum:["polygon"],type:"string"},fill:{additionalProperties:!1,properties:{color:{$ref:"#/definitions/Color"},opacity:{$ref:"#/definitions/Opacity"},rule:{enum:["nonzero","evenodd"],type:"string"}},type:"object"},opacity:{$ref:"#/definitions/Opacity"},points:{$ref:"#/definitions/ViewportCoordinatePairs"},stroke:{additionalProperties:!1,properties:{color:{$ref:"#/definitions/Color"},dasharray:{$ref:"#/definitions/DashArray"},dashoffset:{$ref:"#/definitions/DashOffset"},linecap:{enum:["butt","square","round"],type:"string"},linejoin:{enum:["miter","round","bevel"],type:"string"},opacity:{$ref:"#/definitions/Opacity"},width:{$ref:"#/definitions/ViewportCoordinate"}},type:"object"},transform:{$ref:"#/definitions/Transform"},transformOrigin:{$ref:"#/definitions/TransformOrigin"}},required:["element","points"],type:"object"},w.errors=null,e[31]=w,e[32]={description:'A dash array in the form of "2 3 4"',pattern:"^((-?[0-9]+),(-?[0-9]+)\\s)+(-?[0-9]+),(-?[0-9]+)$",type:"string"};var P=function(){var e=new RegExp("^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\))$"),t=new RegExp("^([0-9]+\\s)+[0-9]+$"),i=new RegExp("^((-?[0-9]+),(-?[0-9]+)\\s)+(-?[0-9]+),(-?[0-9]+)$");return new RegExp("^([0-9]+\\s){3}[0-9]+$"),function r(a,o,l,u,d){if(!a||"object"!=typeof a||Array.isArray(a))return r.errors=[{keyword:"type",dataPath:(o||"")+"",schemaPath:"#/type",params:{type:"object"},message:"should be object"}],!1;var c=!0;for(var h in a)if("element"!=h&&"fill"!=h&&"opacity"!=h&&"points"!=h&&"stroke"!=h&&"transform"!=h&&"transformOrigin"!=h)return c=!1,r.errors=[{keyword:"additionalProperties",dataPath:(o||"")+"",schemaPath:"#/additionalProperties",params:{additionalProperty:""+h},message:"should NOT have additional properties"}],!1;if(c){if(void 0===(k=a.element))return c=!1,r.errors=[{keyword:"required",dataPath:(o||"")+"",schemaPath:"#/required",params:{missingProperty:"element"},message:"should have required property 'element'"}],!1;var p=0;if("string"!=typeof k)return r.errors=[{keyword:"type",dataPath:(o||"")+".element",schemaPath:"#/properties/element/type",params:{type:"string"},message:"should be string"}],!1;var m=r.schema.properties.element.enum;c=!1;for(var f=0;f<m.length;f++)if(s(k,m[f])){c=!0;break}if(!c)return r.errors=[{keyword:"enum",dataPath:(o||"")+".element",schemaPath:"#/properties/element/enum",params:{allowedValues:m},message:"should be equal to one of the allowed values"}],!1;if(c=0===p){if(void 0===(k=a.fill))c=!0;else{if(p=0,!k||"object"!=typeof k||Array.isArray(k))return r.errors=[{keyword:"type",dataPath:(o||"")+".fill",schemaPath:"#/properties/fill/type",params:{type:"object"},message:"should be object"}],!1;var g=!0;for(var y in k)if("color"!=y&&"opacity"!=y&&"rule"!=y)return g=!1,r.errors=[{keyword:"additionalProperties",dataPath:(o||"")+".fill",schemaPath:"#/properties/fill/additionalProperties",params:{additionalProperty:""+y},message:"should NOT have additional properties"}],!1;if(g){if(void 0===(P=k.color))g=!0;else{var b=0;if("string"!=typeof P)return r.errors=[{keyword:"type",dataPath:(o||"")+".fill.color",schemaPath:"#/definitions/Color/type",params:{type:"string"},message:"should be string"}],!1;if(!e.test(P))return r.errors=[{keyword:"pattern",dataPath:(o||"")+".fill.color",schemaPath:"#/definitions/Color/pattern",params:{pattern:"^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\))$"},message:'should match pattern "^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\))$"'}],!1;g=0===b}if(g){if(void 0===(P=k.opacity))g=!0;else{if(b=0,"number"!=typeof P)return r.errors=[{keyword:"type",dataPath:(o||"")+".fill.opacity",schemaPath:"#/definitions/Opacity/type",params:{type:"number"},message:"should be number"}],!1;if(P>1||P!=P)return r.errors=[{keyword:"maximum",dataPath:(o||"")+".fill.opacity",schemaPath:"#/definitions/Opacity/maximum",params:{comparison:"<=",limit:1,exclusive:!1},message:"should be <= 1"}],!1;if(P<0||P!=P)return r.errors=[{keyword:"minimum",dataPath:(o||"")+".fill.opacity",schemaPath:"#/definitions/Opacity/minimum",params:{comparison:">=",limit:0,exclusive:!1},message:"should be >= 0"}],!1;g=0===b}if(g)if(void 0===(P=k.rule))g=!0;else{if(b=0,"string"!=typeof P)return r.errors=[{keyword:"type",dataPath:(o||"")+".fill.rule",schemaPath:"#/properties/fill/properties/rule/type",params:{type:"string"},message:"should be string"}],!1;var v=r.schema.properties.fill.properties.rule.enum;g=!1;for(var w=0;w<v.length;w++)if(s(P,v[w])){g=!0;break}if(!g)return r.errors=[{keyword:"enum",dataPath:(o||"")+".fill.rule",schemaPath:"#/properties/fill/properties/rule/enum",params:{allowedValues:v},message:"should be equal to one of the allowed values"}],!1;g=0===b}}}c=0===p}if(c){if(void 0===(k=a.opacity))c=!0;else{if(p=0,b=0,"number"!=typeof k)return r.errors=[{keyword:"type",dataPath:(o||"")+".opacity",schemaPath:"#/definitions/Opacity/type",params:{type:"number"},message:"should be number"}],!1;if(k>1||k!=k)return r.errors=[{keyword:"maximum",dataPath:(o||"")+".opacity",schemaPath:"#/definitions/Opacity/maximum",params:{comparison:"<=",limit:1,exclusive:!1},message:"should be <= 1"}],!1;if(k<0||k!=k)return r.errors=[{keyword:"minimum",dataPath:(o||"")+".opacity",schemaPath:"#/definitions/Opacity/minimum",params:{comparison:">=",limit:0,exclusive:!1},message:"should be >= 0"}],!1;g=0===b,c=0===p}if(c){if(void 0===(k=a.points))return c=!1,r.errors=[{keyword:"required",dataPath:(o||"")+"",schemaPath:"#/required",params:{missingProperty:"points"},message:"should have required property 'points'"}],!1;if(p=0,b=0,"string"!=typeof k)return r.errors=[{keyword:"type",dataPath:(o||"")+".points",schemaPath:"#/definitions/ViewportCoordinatePairs/type",params:{type:"string"},message:"should be string"}],!1;if(!i.test(k))return r.errors=[{keyword:"pattern",dataPath:(o||"")+".points",schemaPath:"#/definitions/ViewportCoordinatePairs/pattern",params:{pattern:"^((-?[0-9]+),(-?[0-9]+)\\s)+(-?[0-9]+),(-?[0-9]+)$"},message:'should match pattern "^((-?[0-9]+),(-?[0-9]+)\\s)+(-?[0-9]+),(-?[0-9]+)$"'}],!1;if(g=0===b,c=0===p){if(void 0===(k=a.stroke))c=!0;else{if(p=0,!k||"object"!=typeof k||Array.isArray(k))return r.errors=[{keyword:"type",dataPath:(o||"")+".stroke",schemaPath:"#/properties/stroke/type",params:{type:"object"},message:"should be object"}],!1;for(var y in g=!0,k)if("color"!=y&&"dasharray"!=y&&"dashoffset"!=y&&"linecap"!=y&&"linejoin"!=y&&"opacity"!=y&&"width"!=y)return g=!1,r.errors=[{keyword:"additionalProperties",dataPath:(o||"")+".stroke",schemaPath:"#/properties/stroke/additionalProperties",params:{additionalProperty:""+y},message:"should NOT have additional properties"}],!1;if(g){if(void 0===(P=k.color))g=!0;else{if(b=0,"string"!=typeof P)return r.errors=[{keyword:"type",dataPath:(o||"")+".stroke.color",schemaPath:"#/definitions/Color/type",params:{type:"string"},message:"should be string"}],!1;if(!e.test(P))return r.errors=[{keyword:"pattern",dataPath:(o||"")+".stroke.color",schemaPath:"#/definitions/Color/pattern",params:{pattern:"^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\))$"},message:'should match pattern "^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\))$"'}],!1;g=0===b}if(g){if(void 0===(P=k.dasharray))g=!0;else{if(b=0,"string"!=typeof P)return r.errors=[{keyword:"type",dataPath:(o||"")+".stroke.dasharray",schemaPath:"#/definitions/DashArray/type",params:{type:"string"},message:"should be string"}],!1;if(!t.test(P))return r.errors=[{keyword:"pattern",dataPath:(o||"")+".stroke.dasharray",schemaPath:"#/definitions/DashArray/pattern",params:{pattern:"^([0-9]+\\s)+[0-9]+$"},message:'should match pattern "^([0-9]+\\s)+[0-9]+$"'}],!1;g=0===b}if(g){if(void 0===(P=k.dashoffset))g=!0;else{if(b=0,"number"!=typeof P||P%1||P!=P)return r.errors=[{keyword:"type",dataPath:(o||"")+".stroke.dashoffset",schemaPath:"#/definitions/DashOffset/type",params:{type:"integer"},message:"should be integer"}],!1;if("number"==typeof P){if(P>100||P!=P)return r.errors=[{keyword:"maximum",dataPath:(o||"")+".stroke.dashoffset",schemaPath:"#/definitions/DashOffset/maximum",params:{comparison:"<=",limit:100,exclusive:!1},message:"should be <= 100"}],!1;if(P<-100||P!=P)return r.errors=[{keyword:"minimum",dataPath:(o||"")+".stroke.dashoffset",schemaPath:"#/definitions/DashOffset/minimum",params:{comparison:">=",limit:-100,exclusive:!1},message:"should be >= -100"}],!1}g=0===b}if(g){if(void 0===(P=k.linecap))g=!0;else{if(b=0,"string"!=typeof P)return r.errors=[{keyword:"type",dataPath:(o||"")+".stroke.linecap",schemaPath:"#/properties/stroke/properties/linecap/type",params:{type:"string"},message:"should be string"}],!1;for(v=r.schema.properties.stroke.properties.linecap.enum,g=!1,w=0;w<v.length;w++)if(s(P,v[w])){g=!0;break}if(!g)return r.errors=[{keyword:"enum",dataPath:(o||"")+".stroke.linecap",schemaPath:"#/properties/stroke/properties/linecap/enum",params:{allowedValues:v},message:"should be equal to one of the allowed values"}],!1;g=0===b}if(g){if(void 0===(P=k.linejoin))g=!0;else{if(b=0,"string"!=typeof P)return r.errors=[{keyword:"type",dataPath:(o||"")+".stroke.linejoin",schemaPath:"#/properties/stroke/properties/linejoin/type",params:{type:"string"},message:"should be string"}],!1;for(v=r.schema.properties.stroke.properties.linejoin.enum,g=!1,w=0;w<v.length;w++)if(s(P,v[w])){g=!0;break}if(!g)return r.errors=[{keyword:"enum",dataPath:(o||"")+".stroke.linejoin",schemaPath:"#/properties/stroke/properties/linejoin/enum",params:{allowedValues:v},message:"should be equal to one of the allowed values"}],!1;g=0===b}if(g){var P;if(void 0===(P=k.opacity))g=!0;else{if(b=0,"number"!=typeof P)return r.errors=[{keyword:"type",dataPath:(o||"")+".stroke.opacity",schemaPath:"#/definitions/Opacity/type",params:{type:"number"},message:"should be number"}],!1;if(P>1||P!=P)return r.errors=[{keyword:"maximum",dataPath:(o||"")+".stroke.opacity",schemaPath:"#/definitions/Opacity/maximum",params:{comparison:"<=",limit:1,exclusive:!1},message:"should be <= 1"}],!1;if(P<0||P!=P)return r.errors=[{keyword:"minimum",dataPath:(o||"")+".stroke.opacity",schemaPath:"#/definitions/Opacity/minimum",params:{comparison:">=",limit:0,exclusive:!1},message:"should be >= 0"}],!1;g=0===b}if(g)if(void 0===(P=k.width))g=!0;else{if(b=0,"number"!=typeof P)return r.errors=[{keyword:"type",dataPath:(o||"")+".stroke.width",schemaPath:"#/definitions/ViewportCoordinate/type",params:{type:"number"},message:"should be number"}],!1;if(P<0||P!=P)return r.errors=[{keyword:"minimum",dataPath:(o||"")+".stroke.width",schemaPath:"#/definitions/ViewportCoordinate/minimum",params:{comparison:">=",limit:0,exclusive:!1},message:"should be >= 0"}],!1;g=0===b}}}}}}}c=0===p}if(c){var k;if(void 0===(k=a.transform))c=!0;else{if(p=0,b=0,"string"!=typeof k)return r.errors=[{keyword:"type",dataPath:(o||"")+".transform",schemaPath:"#/definitions/Transform/type",params:{type:"string"},message:"should be string"}],!1;if(n(k)>128)return r.errors=[{keyword:"maxLength",dataPath:(o||"")+".transform",schemaPath:"#/definitions/Transform/maxLength",params:{limit:128},message:"should NOT be longer than 128 characters"}],!1;if(n(k)<2)return r.errors=[{keyword:"minLength",dataPath:(o||"")+".transform",schemaPath:"#/definitions/Transform/minLength",params:{limit:2},message:"should NOT be shorter than 2 characters"}],!1;g=0===b,c=0===p}if(c)if(void 0===(k=a.transformOrigin))c=!0;else{if(p=0,b=0,"string"!=typeof k)return r.errors=[{keyword:"type",dataPath:(o||"")+".transformOrigin",schemaPath:"#/definitions/TransformOrigin/type",params:{type:"string"},message:"should be string"}],!1;if(n(k)>128)return r.errors=[{keyword:"maxLength",dataPath:(o||"")+".transformOrigin",schemaPath:"#/definitions/TransformOrigin/maxLength",params:{limit:128},message:"should NOT be longer than 128 characters"}],!1;if(n(k)<2)return r.errors=[{keyword:"minLength",dataPath:(o||"")+".transformOrigin",schemaPath:"#/definitions/TransformOrigin/minLength",params:{limit:2},message:"should NOT be shorter than 2 characters"}],!1;g=0===b,c=0===p}}}}}}}return r.errors=null,!0}}();return P.schema={additionalProperties:!1,properties:{element:{enum:["polyline"],type:"string"},fill:{additionalProperties:!1,properties:{color:{$ref:"#/definitions/Color"},opacity:{$ref:"#/definitions/Opacity"},rule:{enum:["nonzero","evenodd"],type:"string"}},type:"object"},opacity:{$ref:"#/definitions/Opacity"},points:{$ref:"#/definitions/ViewportCoordinatePairs"},stroke:{additionalProperties:!1,properties:{color:{$ref:"#/definitions/Color"},dasharray:{$ref:"#/definitions/DashArray"},dashoffset:{$ref:"#/definitions/DashOffset"},linecap:{enum:["butt","square","round"],type:"string"},linejoin:{enum:["miter","round","bevel"],type:"string"},opacity:{$ref:"#/definitions/Opacity"},width:{$ref:"#/definitions/ViewportCoordinate"}},type:"object"},transform:{$ref:"#/definitions/Transform"},transformOrigin:{$ref:"#/definitions/TransformOrigin"}},required:["element","points"],type:"object"},P.errors=null,e[33]=P,e[34]={description:'An svg viewbox in the form of "0 0 100 100"',pattern:"^([0-9]+\\s){3}[0-9]+$",type:"string"},function e(i,r,n,a,o){var l=null,u=0;if(void 0===o&&(o=i),!i||"object"!=typeof i||Array.isArray(i))return e.errors=[{keyword:"type",dataPath:(r||"")+"",schemaPath:"#/type",params:{type:"object"},message:"should be object"}],!1;var d=!0;for(var c in i)if("cues"!=c&&"files"!=c&&"headers"!=c)return d=!1,e.errors=[{keyword:"additionalProperties",dataPath:(r||"")+"",schemaPath:"#/additionalProperties",params:{additionalProperty:""+c},message:"should NOT have additional properties"}],!1;if(d){if(void 0===(f=i.cues))return d=!1,e.errors=[{keyword:"required",dataPath:(r||"")+"",schemaPath:"#/required",params:{missingProperty:"cues"},message:"should have required property 'cues'"}],!1;var h=u;if(!Array.isArray(f))return e.errors=[{keyword:"type",dataPath:(r||"")+".cues",schemaPath:"#/properties/cues/type",params:{type:"array"},message:"should be array"}],!1;for(var p=0;p<f.length;p++){var m=u;if(t(f[p],(r||"")+".cues["+p+"]",f,p,o)||(u=(l=null===l?t.errors:l.concat(t.errors)).length),!(g=u===m))break}if(d=u===h){if(void 0===(f=i.files))d=!0;else{if(h=u,!Array.isArray(f))return e.errors=[{keyword:"type",dataPath:(r||"")+".files",schemaPath:"#/properties/files/type",params:{type:"array"},message:"should be array"}],!1;for(p=0;p<f.length;p++){if(m=u,"string"!=typeof f[p])return e.errors=[{keyword:"type",dataPath:(r||"")+".files["+p+"]",schemaPath:"#/properties/files/items/type",params:{type:"string"},message:"should be string"}],!1;if(!(g=u===m))break}d=u===h}if(d){var f;if(void 0===(f=i.headers))return d=!1,e.errors=[{keyword:"required",dataPath:(r||"")+"",schemaPath:"#/required",params:{missingProperty:"headers"},message:"should have required property 'headers'"}],!1;if(h=u,!f||"object"!=typeof f||Array.isArray(f))return e.errors=[{keyword:"type",dataPath:(r||"")+".headers",schemaPath:"#/properties/headers/type",params:{type:"object"},message:"should be object"}],!1;var g=!0;for(var y in f)if(!e.schema.properties.headers.properties.hasOwnProperty(y))return g=!1,e.errors=[{keyword:"additionalProperties",dataPath:(r||"")+".headers",schemaPath:"#/properties/headers/additionalProperties",params:{additionalProperty:""+y},message:"should NOT have additional properties"}],!1;if(g){if(void 0===f.authors)g=!0;else{if(m=u,"string"!=typeof f.authors)return e.errors=[{keyword:"type",dataPath:(r||"")+".headers.authors",schemaPath:"#/properties/headers/properties/authors/type",params:{type:"string"},message:"should be string"}],!1;g=u===m}if(g){if(void 0===f.created)return g=!1,e.errors=[{keyword:"required",dataPath:(r||"")+".headers",schemaPath:"#/properties/headers/required",params:{missingProperty:"created"},message:"should have required property 'created'"}],!1;if(m=u,"string"!=typeof f.created)return e.errors=[{keyword:"type",dataPath:(r||"")+".headers.created",schemaPath:"#/properties/headers/properties/created/type",params:{type:"string"},message:"should be string"}],!1;if(g=u===m){if(void 0===f.for)return g=!1,e.errors=[{keyword:"required",dataPath:(r||"")+".headers",schemaPath:"#/properties/headers/required",params:{missingProperty:"for"},message:"should have required property 'for'"}],!1;if(m=u,"string"!=typeof f.for)return e.errors=[{keyword:"type",dataPath:(r||"")+".headers.for",schemaPath:"#/properties/headers/properties/for/type",params:{type:"string"},message:"should be string"}],!1;if(g=u===m){if(void 0===f.language)g=!0;else{if(m=u,"string"!=typeof f.language)return e.errors=[{keyword:"type",dataPath:(r||"")+".headers.language",schemaPath:"#/properties/headers/properties/language/type",params:{type:"string"},message:"should be string"}],!1;g=u===m}if(g){if(void 0===f.license)g=!0;else{if(m=u,"string"!=typeof f.license)return e.errors=[{keyword:"type",dataPath:(r||"")+".headers.license",schemaPath:"#/properties/headers/properties/license/type",params:{type:"string"},message:"should be string"}],!1;g=u===m}if(g){if(void 0===f.origin)g=!0;else{if(m=u,"string"!=typeof f.origin)return e.errors=[{keyword:"type",dataPath:(r||"")+".headers.origin",schemaPath:"#/properties/headers/properties/origin/type",params:{type:"string"},message:"should be string"}],!1;g=u===m}if(g){if(void 0===(b=f.path))g=!0;else{if(m=u,"string"!=typeof b&&null!==b)return e.errors=[{keyword:"type",dataPath:(r||"")+".headers.path",schemaPath:"#/properties/headers/properties/path/type",params:{type:"string,null"},message:"should be string,null"}],!1;g=u===m}if(g){if(void 0===(b=f.search))g=!0;else{if(m=u,"string"!=typeof b&&null!==b)return e.errors=[{keyword:"type",dataPath:(r||"")+".headers.search",schemaPath:"#/properties/headers/properties/search/type",params:{type:"string,null"},message:"should be string,null"}],!1;g=u===m}if(g){if(void 0===f.thumbnail)g=!0;else{if(m=u,"string"!=typeof f.thumbnail)return e.errors=[{keyword:"type",dataPath:(r||"")+".headers.thumbnail",schemaPath:"#/properties/headers/properties/thumbnail/type",params:{type:"string"},message:"should be string"}],!1;g=u===m}if(g){if(void 0===f.title)return g=!1,e.errors=[{keyword:"required",dataPath:(r||"")+".headers",schemaPath:"#/properties/headers/required",params:{missingProperty:"title"},message:"should have required property 'title'"}],!1;if(m=u,"string"!=typeof f.title)return e.errors=[{keyword:"type",dataPath:(r||"")+".headers.title",schemaPath:"#/properties/headers/properties/title/type",params:{type:"string"},message:"should be string"}],!1;if(g=u===m){var b;if(void 0===(b=f.type))return g=!1,e.errors=[{keyword:"required",dataPath:(r||"")+".headers",schemaPath:"#/properties/headers/required",params:{missingProperty:"type"},message:"should have required property 'type'"}],!1;if(m=u,"string"!=typeof b)return e.errors=[{keyword:"type",dataPath:(r||"")+".headers.type",schemaPath:"#/properties/headers/properties/type/type",params:{type:"string"},message:"should be string"}],!1;var v=e.schema.properties.headers.properties.type.enum;g=!1;for(var w=0;w<v.length;w++)if(s(b,v[w])){g=!0;break}if(!g)return e.errors=[{keyword:"enum",dataPath:(r||"")+".headers.type",schemaPath:"#/properties/headers/properties/type/enum",params:{allowedValues:v},message:"should be equal to one of the allowed values"}],!1;if(g=u===m){if(void 0===f.updated)g=!0;else{if(m=u,"string"!=typeof f.updated)return e.errors=[{keyword:"type",dataPath:(r||"")+".headers.updated",schemaPath:"#/properties/headers/properties/updated/type",params:{type:"string"},message:"should be string"}],!1;g=u===m}if(g){if(void 0===f.url)g=!0;else{if(m=u,"string"!=typeof f.url)return e.errors=[{keyword:"type",dataPath:(r||"")+".headers.url",schemaPath:"#/properties/headers/properties/url/type",params:{type:"string"},message:"should be string"}],!1;g=u===m}if(g)if(void 0===f.xpath)g=!0;else{if(m=u,"string"!=typeof f.xpath)return e.errors=[{keyword:"type",dataPath:(r||"")+".headers.xpath",schemaPath:"#/properties/headers/properties/xpath/type",params:{type:"string"},message:"should be string"}],!1;g=u===m}}}}}}}}}}}}}}d=u===h}}}return e.errors=l,0===u}}();a.schema={$schema:"http://json-schema.org/draft-07/schema#",additionalProperties:!1,definitions:{AdjustVolumeAudio:{additionalProperties:!1,properties:{audio:{type:"number"},endTime:{type:"number"},startTime:{type:"number"},type:{enum:["VOLUME"],type:"string"},video:{type:"number"}},required:["type","startTime","endTime","audio","video"],type:"object"},AudioEdit:{anyOf:[{$ref:"#/definitions/SkipAudio"},{$ref:"#/definitions/StillAudio"},{$ref:"#/definitions/PauseAudio"},{$ref:"#/definitions/AdjustVolumeAudio"}]},Author:{description:"An author to attribute composition to.",maxLength:128,minLength:2,type:"string"},Color:{description:"A hex, hsl, hsla or rgba color string:\n#FA9, #FFAA99, rgba(1, 1, 2, 0.5)",pattern:"^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\))$",type:"string"},Cue:{additionalProperties:!1,properties:{data:{$ref:"#/definitions/PlopdownTemplate"},endTime:{type:"number"},id:{type:"string"},startTime:{type:"number"}},required:["startTime","endTime","id","data"],type:"object"},DashArray:{description:'A dash array in the form of "2 3 4"',pattern:"^([0-9]+\\s)+[0-9]+$",type:"string"},DashOffset:{description:"An integer representing the dash offset of a stroke.",maximum:100,minimum:-100,type:"integer"},Degree:{description:"Degrees for rotation of elements.",maximum:360,minimum:-360,type:"number"},Description:{description:"A medium long description",maxLength:1024,minLength:2,type:"string"},Emoji:{description:"A single emoji character, ligatures mean the max length\ncan be up to 3 characters.",maxLength:32,minLength:1,type:"string"},ExternalLink:{description:"An external URL to get more information.",format:"uri",type:"string"},Opacity:{description:"A normalized opacity ranged between 0.0 and 1.0",maximum:1,minimum:0,type:"number"},PauseAudio:{additionalProperties:!1,properties:{duration:{type:"number"},startTime:{type:"number"},type:{enum:["PAUSE"],type:"string"}},required:["type","startTime","duration"],type:"object"},Percentage:{description:"A bounded percentage relative to the container.",maximum:1e3,minimum:-100,type:"number"},PlopdownAudio:{additionalProperties:!1,properties:{edits:{items:{$ref:"#/definitions/AudioEdit"},type:"array"},left:{$ref:"#/definitions/Percentage"},title:{$ref:"#/definitions/Title"},top:{$ref:"#/definitions/Percentage"},type:{enum:["AUDIO"],type:"string"},url:{$ref:"#/definitions/URIReference"}},required:["left","title","top","type","url"],type:"object"},PlopdownInfo:{additionalProperties:!1,properties:{authors:{items:{$ref:"#/definitions/Author"},type:"array"},title:{$ref:"#/definitions/Title"},type:{enum:["INFO"],type:"string"},url:{$ref:"#/definitions/ExternalLink"}},required:["authors","title","type"],type:"object"},PlopdownPlop:{additionalProperties:!1,properties:{desc:{$ref:"#/definitions/Description"},footnotes:{items:{additionalProperties:!1,properties:{title:{$ref:"#/definitions/Title"},url:{$ref:"#/definitions/ExternalLink"}},required:["title","url"],type:"object"},type:"array"},icons:{items:{additionalProperties:!1,properties:{emoji:{$ref:"#/definitions/Emoji"},left:{$ref:"#/definitions/Percentage"},rotate:{$ref:"#/definitions/Degree"},size:{$ref:"#/definitions/Percentage"},top:{$ref:"#/definitions/Percentage"}},required:["top","left","size","rotate","emoji"],type:"object"},type:"array"},left:{$ref:"#/definitions/Percentage"},top:{$ref:"#/definitions/Percentage"},type:{enum:["PLOP"],type:"string"},width:{$ref:"#/definitions/Percentage"}},required:["desc","icons","left","top","type","width"],type:"object"},PlopdownShape:{additionalProperties:!1,properties:{blend:{enum:["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],type:"string"},elements:{items:{anyOf:[{$ref:"#/definitions/PlopdownShapeEllipse"},{$ref:"#/definitions/PlopdownShapeRect"},{$ref:"#/definitions/PlopdownShapePath"},{$ref:"#/definitions/PlopdownShapePolygon"},{$ref:"#/definitions/PlopdownShapePolyline"}]},type:"array"},height:{$ref:"#/definitions/Percentage"},left:{$ref:"#/definitions/Percentage"},title:{additionalProperties:!1,properties:{show:{type:"boolean"},text:{$ref:"#/definitions/Title"}},required:["text","show"],type:"object"},top:{$ref:"#/definitions/Percentage"},type:{enum:["SHAPE"],type:"string"},viewBox:{$ref:"#/definitions/ViewBox"},width:{$ref:"#/definitions/Percentage"}},required:["elements","height","left","title","top","type","viewBox","width"],type:"object"},PlopdownShapeEllipse:{additionalProperties:!1,properties:{cx:{$ref:"#/definitions/ViewportCoordinate"},cy:{$ref:"#/definitions/ViewportCoordinate"},element:{enum:["ellipse"],type:"string"},fill:{additionalProperties:!1,properties:{color:{$ref:"#/definitions/Color"},opacity:{$ref:"#/definitions/Opacity"},rule:{enum:["nonzero","evenodd"],type:"string"}},type:"object"},opacity:{$ref:"#/definitions/Opacity"},rx:{$ref:"#/definitions/ViewportCoordinate"},ry:{$ref:"#/definitions/ViewportCoordinate"},stroke:{additionalProperties:!1,properties:{color:{$ref:"#/definitions/Color"},dasharray:{$ref:"#/definitions/DashArray"},dashoffset:{$ref:"#/definitions/DashOffset"},linecap:{enum:["butt","square","round"],type:"string"},linejoin:{enum:["miter","round","bevel"],type:"string"},opacity:{$ref:"#/definitions/Opacity"},width:{$ref:"#/definitions/ViewportCoordinate"}},type:"object"},transform:{$ref:"#/definitions/Transform"},transformOrigin:{$ref:"#/definitions/TransformOrigin"}},required:["cx","cy","element","rx","ry"],type:"object"},PlopdownShapePath:{additionalProperties:!1,properties:{d:{$ref:"#/definitions/ViewportPath"},element:{enum:["path"],type:"string"},fill:{additionalProperties:!1,properties:{color:{$ref:"#/definitions/Color"},opacity:{$ref:"#/definitions/Opacity"},rule:{enum:["nonzero","evenodd"],type:"string"}},type:"object"},opacity:{$ref:"#/definitions/Opacity"},stroke:{additionalProperties:!1,properties:{color:{$ref:"#/definitions/Color"},dasharray:{$ref:"#/definitions/DashArray"},dashoffset:{$ref:"#/definitions/DashOffset"},linecap:{enum:["butt","square","round"],type:"string"},linejoin:{enum:["miter","round","bevel"],type:"string"},opacity:{$ref:"#/definitions/Opacity"},width:{$ref:"#/definitions/ViewportCoordinate"}},type:"object"},transform:{$ref:"#/definitions/Transform"},transformOrigin:{$ref:"#/definitions/TransformOrigin"}},required:["d","element"],type:"object"},PlopdownShapePolygon:{additionalProperties:!1,properties:{element:{enum:["polygon"],type:"string"},fill:{additionalProperties:!1,properties:{color:{$ref:"#/definitions/Color"},opacity:{$ref:"#/definitions/Opacity"},rule:{enum:["nonzero","evenodd"],type:"string"}},type:"object"},opacity:{$ref:"#/definitions/Opacity"},points:{$ref:"#/definitions/ViewportCoordinatePairs"},stroke:{additionalProperties:!1,properties:{color:{$ref:"#/definitions/Color"},dasharray:{$ref:"#/definitions/DashArray"},dashoffset:{$ref:"#/definitions/DashOffset"},linecap:{enum:["butt","square","round"],type:"string"},linejoin:{enum:["miter","round","bevel"],type:"string"},opacity:{$ref:"#/definitions/Opacity"},width:{$ref:"#/definitions/ViewportCoordinate"}},type:"object"},transform:{$ref:"#/definitions/Transform"},transformOrigin:{$ref:"#/definitions/TransformOrigin"}},required:["element","points"],type:"object"},PlopdownShapePolyline:{additionalProperties:!1,properties:{element:{enum:["polyline"],type:"string"},fill:{additionalProperties:!1,properties:{color:{$ref:"#/definitions/Color"},opacity:{$ref:"#/definitions/Opacity"},rule:{enum:["nonzero","evenodd"],type:"string"}},type:"object"},opacity:{$ref:"#/definitions/Opacity"},points:{$ref:"#/definitions/ViewportCoordinatePairs"},stroke:{additionalProperties:!1,properties:{color:{$ref:"#/definitions/Color"},dasharray:{$ref:"#/definitions/DashArray"},dashoffset:{$ref:"#/definitions/DashOffset"},linecap:{enum:["butt","square","round"],type:"string"},linejoin:{enum:["miter","round","bevel"],type:"string"},opacity:{$ref:"#/definitions/Opacity"},width:{$ref:"#/definitions/ViewportCoordinate"}},type:"object"},transform:{$ref:"#/definitions/Transform"},transformOrigin:{$ref:"#/definitions/TransformOrigin"}},required:["element","points"],type:"object"},PlopdownShapeRect:{additionalProperties:!1,properties:{element:{enum:["rect"],type:"string"},fill:{additionalProperties:!1,properties:{color:{$ref:"#/definitions/Color"},opacity:{$ref:"#/definitions/Opacity"},rule:{enum:["nonzero","evenodd"],type:"string"}},type:"object"},height:{$ref:"#/definitions/ViewportCoordinate"},opacity:{$ref:"#/definitions/Opacity"},rx:{$ref:"#/definitions/ViewportCoordinate"},ry:{$ref:"#/definitions/ViewportCoordinate"},stroke:{additionalProperties:!1,properties:{color:{$ref:"#/definitions/Color"},dasharray:{$ref:"#/definitions/DashArray"},dashoffset:{$ref:"#/definitions/DashOffset"},linecap:{enum:["butt","square","round"],type:"string"},linejoin:{enum:["miter","round","bevel"],type:"string"},opacity:{$ref:"#/definitions/Opacity"},width:{$ref:"#/definitions/ViewportCoordinate"}},type:"object"},transform:{$ref:"#/definitions/Transform"},transformOrigin:{$ref:"#/definitions/TransformOrigin"},width:{$ref:"#/definitions/ViewportCoordinate"},x:{$ref:"#/definitions/ViewportCoordinate"},y:{$ref:"#/definitions/ViewportCoordinate"}},required:["element","height","width","x","y"],type:"object"},PlopdownTemplate:{anyOf:[{$ref:"#/definitions/PlopdownInfo"},{$ref:"#/definitions/PlopdownPlop"},{$ref:"#/definitions/PlopdownAudio"},{$ref:"#/definitions/PlopdownShape"}]},SkipAudio:{additionalProperties:!1,properties:{endTime:{type:"number"},startTime:{type:"number"},type:{enum:["SKIP"],type:"string"}},required:["type","startTime","endTime"],type:"object"},StillAudio:{additionalProperties:!1,properties:{duration:{type:"number"},startTime:{type:"number"},type:{enum:["STILL"],type:"string"}},required:["type","startTime","duration"],type:"object"},Title:{description:"A short statement.",maxLength:256,minLength:2,type:"string"},Transform:{description:"A short css transform string.",maxLength:128,minLength:2,type:"string"},TransformOrigin:{description:"A transform origin string.",maxLength:128,minLength:2,type:"string"},URIReference:{description:"The location of a file.",format:"uri-reference",type:"string"},ViewBox:{description:'An svg viewbox in the form of "0 0 100 100"',pattern:"^([0-9]+\\s){3}[0-9]+$",type:"string"},ViewportCoordinate:{description:"An integer representing the dash offset of a stroke.",minimum:0,type:"number"},ViewportCoordinatePairs:{description:'A dash array in the form of "2 3 4"',pattern:"^((-?[0-9]+),(-?[0-9]+)\\s)+(-?[0-9]+),(-?[0-9]+)$",type:"string"},ViewportPath:{description:'The "d" parameter of an svg path.',maxLength:1024,minLength:2,type:"string"}},description:"File containing an exported plopdown video reference and track.",properties:{cues:{description:"The cues associated with this track.",items:{$ref:"#/definitions/Cue"},type:"array"},files:{items:{type:"string"},type:"array"},headers:{additionalProperties:!1,description:"Unofficially, WebVTT supports simple key/value storage at the top\nof the file. We use that to allow creators to hint which video the\nplopdown should be overlayed to, as well as other authorship info.",properties:{authors:{description:"Author names in whatever form makes sense",type:"string"},created:{description:"The date in which this track was created.",type:"string"},for:{description:"Name of the video this track was intended for.",type:"string"},language:{description:'Language of the track in "en-US" format\nSee: https://gist.github.com/ndbroadbent/588fefab8e0f1b459fcec8181b41b39c',type:"string"},license:{description:"Capitalized license associated with this file",type:"string"},origin:{type:"string"},path:{type:["string","null"]},search:{type:["string","null"]},thumbnail:{description:"The thumbnail image of the track, usually packaged alongside\nthe track or fetched remotely.",type:"string"},title:{description:"Name of the plopdown",type:"string"},type:{description:"Schema version number",enum:["plopdown_v1"],type:"string"},updated:{description:"The date in which this track was last updated.",type:"string"},url:{description:"URL of this track's homepage.",type:"string"},xpath:{type:"string"}},required:["type","title","for","created"],type:"object"}},required:["headers","cues"],type:"object"},a.errors=null,e.exports=a},b2e3:function(e,t,i){"use strict";e.exports=function e(t,i){if(t===i)return!0;if(t&&i&&"object"==typeof t&&"object"==typeof i){if(t.constructor!==i.constructor)return!1;var r,n,s;if(Array.isArray(t)){if((r=t.length)!=i.length)return!1;for(n=r;0!=n--;)if(!e(t[n],i[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===i.source&&t.flags===i.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===i.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===i.toString();if((r=(s=Object.keys(t)).length)!==Object.keys(i).length)return!1;for(n=r;0!=n--;)if(!Object.prototype.hasOwnProperty.call(i,s[n]))return!1;for(n=r;0!=n--;){var a=s[n];if(!e(t[a],i[a]))return!1}return!0}return t!=t&&i!=i}},"c/iL":function(e,t,i){"object"==typeof navigator&&(e.exports=function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function s(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach((function(t){r(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var i=[],r=!0,n=!1,s=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done)&&(i.push(a.value),!t||i.length!==t);r=!0);}catch(e){n=!0,s=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw s}}return i}}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(e){if("string"==typeof e)return u(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function d(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function h(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function p(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?h(Object(i),!0).forEach((function(t){c(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var m={addCSS:!0,thumbWidth:15,watch:!0};function f(e,t){return(function(){return Array.from(document.querySelectorAll(t)).includes(this)}).call(e,t)}var g,y,b,v=function(e){return null!=e?e.constructor:null},w=function(e,t){return!!(e&&t&&e instanceof t)},P=function(e){return v(e)===String},k=function(e){return Array.isArray(e)},O=function(e){return w(e,NodeList)},T=P,C=k,x=O,_=function(e){return w(e,Element)},A=function(e){return w(e,Event)},E=function(e){return function(e){return null==e}(e)||(P(e)||k(e)||O(e))&&!e.length||function(e){return v(e)===Object}(e)&&!Object.keys(e).length},j=function(){function e(t,i){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),_(t)?this.element=t:T(t)&&(this.element=document.querySelector(t)),_(this.element)&&E(this.element.rangeTouch)&&(this.config=p({},m,{},i),this.init())}return function(e,t,i){t&&d(e.prototype,t),i&&d(e,i)}(e,[{key:"init",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="",this.element.style.webKitUserSelect="",this.element.style.touchAction=""),this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(e){var t=this,i=e?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach((function(e){t.element[i](e,(function(e){return t.set(e)}),!1)}))}},{key:"get",value:function(t){if(!e.enabled||!A(t))return null;var i,r=t.target,n=t.changedTouches[0],s=parseFloat(r.getAttribute("min"))||0,a=parseFloat(r.getAttribute("max"))||100,o=parseFloat(r.getAttribute("step"))||1,l=r.getBoundingClientRect(),u=100/l.width*(this.config.thumbWidth/2)/100;return 0>(i=100/l.width*(n.clientX-l.left))?i=0:100<i&&(i=100),50>i?i-=(100-2*i)*u:50<i&&(i+=2*(i-50)*u),s+function(e,t){if(1>t){var i=function(e){var t="".concat(e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}(t);return parseFloat(e.toFixed(i))}return Math.round(e/t)*t}(i/100*(a-s),o)}},{key:"set",value:function(t){e.enabled&&A(t)&&!t.target.disabled&&(t.preventDefault(),t.target.value=this.get(t),function(e,t){if(e&&t){var i=new Event(t,{bubbles:!0});e.dispatchEvent(i)}}(t.target,"touchend"===t.type?"change":"input"))}}],[{key:"setup",value:function(t){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=null;if(E(t)||T(t)?r=Array.from(document.querySelectorAll(T(t)?t:'input[type="range"]')):_(t)?r=[t]:x(t)?r=Array.from(t):C(t)&&(r=t.filter(_)),E(r))return null;var n=p({},m,{},i);if(T(t)&&n.watch){var s=new MutationObserver((function(i){Array.from(i).forEach((function(i){Array.from(i.addedNodes).forEach((function(i){_(i)&&f(i,t)&&new e(i,n)}))}))}));s.observe(document.body,{childList:!0,subtree:!0})}return r.map((function(t){return new e(t,i)}))}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}]),e}(),V=function(e){return null!=e?e.constructor:null},$=function(e,t){return Boolean(e&&t&&e instanceof t)},S=function(e){return null==e},q=function(e){return V(e)===Object},M=function(e){return V(e)===String},D=function(e){return V(e)===Function},N=function(e){return Array.isArray(e)},L=function(e){return $(e,NodeList)},F=function(e){return S(e)||(M(e)||N(e)||L(e))&&!e.length||q(e)&&!Object.keys(e).length},I=S,R=q,z=function(e){return V(e)===Number&&!Number.isNaN(e)},H=M,B=function(e){return V(e)===Boolean},U=D,J=N,W=L,G=function(e){return $(e,Element)},K=function(e){return $(e,Event)},Y=function(e){return $(e,KeyboardEvent)},X=function(e){return $(e,TextTrack)||!S(e)&&M(e.kind)},Z=function(e){if($(e,window.URL))return!0;if(!M(e))return!1;var t=e;e.startsWith("http://")&&e.startsWith("https://")||(t="http://".concat(e));try{return!F(new URL(t).hostname)}catch(e){return!1}},Q=F,ee=(g=document.createElement("span"),y={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},b=Object.keys(y).find((function(e){return void 0!==g.style[e]})),!!H(b)&&y[b]);function te(e,t){setTimeout((function(){try{e.hidden=!0,e.hidden=!1}catch(e){}}),t)}var ie={isIE:!!document.documentMode,isEdge:window.navigator.userAgent.includes("Edge"),isWebkit:"WebkitAppearance"in document.documentElement.style&&!/Edge/.test(navigator.userAgent),isIPhone:/(iPhone|iPod)/gi.test(navigator.platform),isIos:/(iPad|iPhone|iPod)/gi.test(navigator.platform)};function re(e,t){return t.split(".").reduce((function(e,t){return e&&e[t]}),e)}function ne(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];if(!i.length)return e;var s=i.shift();return R(s)?(Object.keys(s).forEach((function(t){R(s[t])?(Object.keys(e).includes(t)||Object.assign(e,r({},t,{})),ne(e[t],s[t])):Object.assign(e,r({},t,s[t]))})),ne.apply(void 0,[e].concat(i))):e}function se(e,t){Array.from(e.length?e:[e]).reverse().forEach((function(e,i){var r=i>0?t.cloneNode(!0):t,n=e.parentNode,s=e.nextSibling;r.appendChild(e),s?n.insertBefore(r,s):n.appendChild(r)}))}function ae(e,t){G(e)&&!Q(t)&&Object.entries(t).filter((function(e){var t=a(e,2)[1];return!I(t)})).forEach((function(t){var i=a(t,2);return e.setAttribute(i[0],i[1])}))}function oe(e,t,i){var r=document.createElement(e);return R(t)&&ae(r,t),H(i)&&(r.innerText=i),r}function le(e,t,i,r){G(t)&&t.appendChild(oe(e,i,r))}function ue(e){W(e)||J(e)?Array.from(e).forEach(ue):G(e)&&G(e.parentNode)&&e.parentNode.removeChild(e)}function de(e){if(G(e))for(var t=e.childNodes.length;t>0;)e.removeChild(e.lastChild),t-=1}function ce(e,t){return G(t)&&G(t.parentNode)&&G(e)?(t.parentNode.replaceChild(e,t),e):null}function he(e,t){if(!H(e)||Q(e))return{};var i={},r=ne({},t);return e.split(",").forEach((function(e){var t=e.trim(),n=t.replace(".",""),s=t.replace(/[[\]]/g,"").split("="),o=a(s,1)[0],l=s.length>1?s[1].replace(/["']/g,""):"";switch(t.charAt(0)){case".":i.class=H(r.class)?"".concat(r.class," ").concat(n):n;break;case"#":i.id=t.replace("#","");break;case"[":i[o]=l}})),ne(r,i)}function pe(e,t){if(G(e)){var i=t;B(i)||(i=!e.hidden),e.hidden=i}}function me(e,t,i){if(W(e))return Array.from(e).map((function(e){return me(e,t,i)}));if(G(e)){var r="toggle";return void 0!==i&&(r=i?"add":"remove"),e.classList[r](t),e.classList.contains(t)}return!1}function fe(e,t){return G(e)&&e.classList.contains(t)}function ge(e,t){var i=Element.prototype;return(i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||function(){return Array.from(document.querySelectorAll(t)).includes(this)}).call(e,t)}function ye(e){return this.elements.container.querySelectorAll(e)}function be(e){return this.elements.container.querySelector(e)}function ve(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];G(e)&&(e.focus({preventScroll:!0}),t&&me(e,this.config.classNames.tabFocus))}var we,Pe={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},ke={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check:function(e,t,i){var r=ke[e]||"html5"!==t;return{api:r,ui:r&&ke.rangeInput&&("video"!==e||!ie.isIPhone||ie.isIPhone&&i&&ke.playsinline)}},pip:!(ie.isIPhone||!U(oe("video").webkitSetPresentationMode)&&(!document.pictureInPictureEnabled||oe("video").disablePictureInPicture)),airplay:U(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime:function(e){if(Q(e))return!1;var t=a(e.split("/"),1)[0],i=e;if(!this.isHTML5||t!==this.type)return!1;Object.keys(Pe).includes(i)&&(i+='; codecs="'.concat(Pe[e],'"'));try{return Boolean(i&&this.media.canPlayType(i).replace(/no/,""))}catch(e){return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:(we=document.createElement("input"),we.type="range","range"===we.type),touch:"ontouchstart"in document.documentElement,transitions:!1!==ee,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},Oe=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){return e=!0,null}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(e){}return e}();function Te(e,t,i){var r=this,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(e&&"addEventListener"in e&&!Q(t)&&U(i)){var o=t.split(" "),l=a;Oe&&(l={passive:s,capture:a}),o.forEach((function(t){r&&r.eventListeners&&n&&r.eventListeners.push({element:e,type:t,callback:i,options:l}),e[n?"addEventListener":"removeEventListener"](t,i,l)}))}}function Ce(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Te.call(this,e,t,i,!0,r,n)}function xe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Te.call(this,e,t,i,!1,r,n)}function _e(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=function a(){xe(e,i,a,n,s);for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];r.apply(t,l)};Te.call(this,e,i,a,!0,n,s)}function Ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(G(e)&&!Q(t)){var n=new CustomEvent(t,{bubbles:i,detail:s(s({},r),{},{plyr:this})});e.dispatchEvent(n)}}function Ee(){this&&this.eventListeners&&(this.eventListeners.forEach((function(e){e.element.removeEventListener(e.type,e.callback,e.options)})),this.eventListeners=[])}function je(){var e=this;return new Promise((function(t){return e.ready?setTimeout(t,0):Ce.call(e,e.elements.container,"ready",t)})).then((function(){}))}function Ve(e){(function(e){return $(e,Promise)&&D(e.then)})(e)&&e.then(null,(function(){}))}function $e(e){return!!(J(e)||H(e)&&e.includes(":"))&&(J(e)?e:e.split(":")).map(Number).every(z)}function Se(e){if(!J(e)||!e.every(z))return null;var t=a(e,2),i=t[0],r=t[1],n=function e(t,i){return 0===i?t:e(i,t%i)}(i,r);return[i/n,r/n]}function qe(e){var t=function(e){return $e(e)?e.split(":").map(Number):null},i=t(e);if(null===i&&(i=t(this.config.ratio)),null===i&&!Q(this.embed)&&J(this.embed.ratio)&&(i=this.embed.ratio),null===i&&this.isHTML5){var r=this.media;i=Se([r.videoWidth,r.videoHeight])}return i}function Me(e){if(!this.isVideo)return{};var t=this.elements.wrapper,i=qe.call(this,e),r=a(J(i)?i:[0,0],2),n=100/r[0]*r[1];if(t.style.paddingBottom="".concat(n,"%"),this.isVimeo&&!this.config.vimeo.premium&&this.supported.ui){var s=100/this.media.offsetWidth*parseInt(window.getComputedStyle(this.media).paddingBottom,10);this.media.style.transform="translateY(-".concat((s-n)/(s/50),"%)")}else this.isHTML5&&t.classList.toggle(this.config.classNames.videoFixedRatio,null!==i);return{padding:n,ratio:i}}var De={getSources:function(){var e=this;return this.isHTML5?Array.from(this.media.querySelectorAll("source")).filter((function(t){var i=t.getAttribute("type");return!!Q(i)||ke.mime.call(e,i)})):[]},getQualityOptions:function(){return this.config.quality.forced?this.config.quality.options:De.getSources.call(this).map((function(e){return Number(e.getAttribute("size"))})).filter(Boolean)},setup:function(){if(this.isHTML5){var e=this;e.options.speed=e.config.speed.options,Q(this.config.ratio)||Me.call(e),Object.defineProperty(e.media,"quality",{get:function(){var t=De.getSources.call(e).find((function(t){return t.getAttribute("src")===e.source}));return t&&Number(t.getAttribute("size"))},set:function(t){if(e.quality!==t){if(e.config.quality.forced&&U(e.config.quality.onChange))e.config.quality.onChange(t);else{var i=De.getSources.call(e).find((function(e){return Number(e.getAttribute("size"))===t}));if(!i)return;var r=e.media,n=r.currentTime,s=r.paused,a=r.preload,o=r.readyState,l=r.playbackRate;e.media.src=i.getAttribute("src"),("none"!==a||o)&&(e.once("loadedmetadata",(function(){e.speed=l,e.currentTime=n,s||Ve(e.play())})),e.media.load())}Ae.call(e,e.media,"qualitychange",!1,{quality:t})}}})}},cancelRequests:function(){this.isHTML5&&(ue(De.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}};function Ne(e){return J(e)?e.filter((function(t,i){return e.indexOf(t)===i})):e}function Le(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return Q(e)?e:e.toString().replace(/{(\d+)}/g,(function(e,t){return i[t].toString()}))}var Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e.replace(new RegExp(t.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),i.toString())},Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.toString().replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))};function Re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.toString();return t=Fe(t,"-"," "),t=Fe(t,"_"," "),t=Ie(t),Fe(t," ","")}function ze(e){var t=document.createElement("div");return t.appendChild(e),t.innerHTML}var He={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Q(e)||Q(t))return"";var i=re(t.i18n,e);if(Q(i))return Object.keys(He).includes(e)?He[e]:"";var r={"{seektime}":t.seekTime,"{title}":t.title};return Object.entries(r).forEach((function(e){var t=a(e,2);i=Fe(i,t[0],t[1])})),i},Ue=function(){function t(i){e(this,t),this.enabled=i.config.storage.enabled,this.key=i.config.storage.key}return i(t,[{key:"get",value:function(e){if(!t.supported||!this.enabled)return null;var i=window.localStorage.getItem(this.key);if(Q(i))return null;var r=JSON.parse(i);return H(e)&&e.length?r[e]:r}},{key:"set",value:function(e){if(t.supported&&this.enabled&&R(e)){var i=this.get();Q(i)&&(i={}),ne(i,e),window.localStorage.setItem(this.key,JSON.stringify(i))}}}],[{key:"supported",get:function(){try{return"localStorage"in window&&(window.localStorage.setItem("___test","___test"),window.localStorage.removeItem("___test"),!0)}catch(e){return!1}}}]),t}();function Je(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";return new Promise((function(i,r){try{var n=new XMLHttpRequest;if(!("withCredentials"in n))return;n.addEventListener("load",(function(){if("text"===t)try{i(JSON.parse(n.responseText))}catch(e){i(n.responseText)}else i(n.response)})),n.addEventListener("error",(function(){throw new Error(n.status)})),n.open("GET",e,!0),n.responseType=t,n.send()}catch(e){r(e)}}))}function We(e,t){if(H(e)){var i=H(t),r=function(){return null!==document.getElementById(t)},n=function(e,t){e.innerHTML=t,i&&r()||document.body.insertAdjacentElement("afterbegin",e)};if(!i||!r()){var s=Ue.supported,a=document.createElement("div");if(a.setAttribute("hidden",""),i&&a.setAttribute("id",t),s){var o=window.localStorage.getItem("".concat("cache","-").concat(t));if(null!==o){var l=JSON.parse(o);n(a,l.content)}}Je(e).then((function(e){Q(e)||(s&&window.localStorage.setItem("".concat("cache","-").concat(t),JSON.stringify({content:e})),n(a,e))})).catch((function(){}))}}}var Ge=function(e){return Math.trunc(e/60/60%60,10)},Ke=function(e){return Math.trunc(e/60%60,10)},Ye=function(e){return Math.trunc(e%60,10)};function Xe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!z(e))return Xe(void 0,t,i);var r=function(e){return"0".concat(e).slice(-2)},n=Ge(e),s=Ke(e),a=Ye(e);return n=t||n>0?"".concat(n,":"):"","".concat(i&&e>0?"-":"").concat(n).concat(r(s),":").concat(r(a))}var Ze={getIconUrl:function(){var e=new URL(this.config.iconUrl,window.location).host!==window.location.host||ie.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:e}},findElements:function(){try{return this.elements.controls=be.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:ye.call(this,this.config.selectors.buttons.play),pause:be.call(this,this.config.selectors.buttons.pause),restart:be.call(this,this.config.selectors.buttons.restart),rewind:be.call(this,this.config.selectors.buttons.rewind),fastForward:be.call(this,this.config.selectors.buttons.fastForward),mute:be.call(this,this.config.selectors.buttons.mute),pip:be.call(this,this.config.selectors.buttons.pip),airplay:be.call(this,this.config.selectors.buttons.airplay),settings:be.call(this,this.config.selectors.buttons.settings),captions:be.call(this,this.config.selectors.buttons.captions),fullscreen:be.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=be.call(this,this.config.selectors.progress),this.elements.inputs={seek:be.call(this,this.config.selectors.inputs.seek),volume:be.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:be.call(this,this.config.selectors.display.buffer),currentTime:be.call(this,this.config.selectors.display.currentTime),duration:be.call(this,this.config.selectors.display.duration)},G(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(".".concat(this.config.classNames.tooltip))),!0}catch(e){return this.debug.warn("It looks like there is a problem with your custom controls HTML",e),this.toggleNativeControls(!0),!1}},createIcon:function(e,t){var i=Ze.getIconUrl.call(this),r="".concat(i.cors?"":i.url,"#").concat(this.config.iconPrefix),n=document.createElementNS("http://www.w3.org/2000/svg","svg");ae(n,ne(t,{"aria-hidden":"true",focusable:"false"}));var s=document.createElementNS("http://www.w3.org/2000/svg","use"),a="".concat(r,"-").concat(e);return"href"in s&&s.setAttributeNS("http://www.w3.org/1999/xlink","href",a),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a),n.appendChild(s),n},createLabel:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=Be(e,this.config),r=s(s({},t),{},{class:[t.class,this.config.classNames.hidden].filter(Boolean).join(" ")});return oe("span",r,i)},createBadge:function(e){if(Q(e))return null;var t=oe("span",{class:this.config.classNames.menu.value});return t.appendChild(oe("span",{class:this.config.classNames.menu.badge},e)),t},createButton:function(e,t){var i=this,r=ne({},t),n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.toString();return(t=Re(t)).charAt(0).toLowerCase()+t.slice(1)}(e),s={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach((function(e){Object.keys(r).includes(e)&&(s[e]=r[e],delete r[e])})),"button"!==s.element||Object.keys(r).includes("type")||(r.type="button"),Object.keys(r).includes("class")?r.class.split(" ").some((function(e){return e===i.config.classNames.control}))||ne(r,{class:"".concat(r.class," ").concat(this.config.classNames.control)}):r.class=this.config.classNames.control,e){case"play":s.toggle=!0,s.label="play",s.labelPressed="pause",s.icon="play",s.iconPressed="pause";break;case"mute":s.toggle=!0,s.label="mute",s.labelPressed="unmute",s.icon="volume",s.iconPressed="muted";break;case"captions":s.toggle=!0,s.label="enableCaptions",s.labelPressed="disableCaptions",s.icon="captions-off",s.iconPressed="captions-on";break;case"fullscreen":s.toggle=!0,s.label="enterFullscreen",s.labelPressed="exitFullscreen",s.icon="enter-fullscreen",s.iconPressed="exit-fullscreen";break;case"play-large":r.class+=" ".concat(this.config.classNames.control,"--overlaid"),n="play",s.label="play",s.icon="play";break;default:Q(s.label)&&(s.label=n),Q(s.icon)&&(s.icon=e)}var a=oe(s.element);return s.toggle?(a.appendChild(Ze.createIcon.call(this,s.iconPressed,{class:"icon--pressed"})),a.appendChild(Ze.createIcon.call(this,s.icon,{class:"icon--not-pressed"})),a.appendChild(Ze.createLabel.call(this,s.labelPressed,{class:"label--pressed"})),a.appendChild(Ze.createLabel.call(this,s.label,{class:"label--not-pressed"}))):(a.appendChild(Ze.createIcon.call(this,s.icon)),a.appendChild(Ze.createLabel.call(this,s.label))),ne(r,he(this.config.selectors.buttons[n],r)),ae(a,r),"play"===n?(J(this.elements.buttons[n])||(this.elements.buttons[n]=[]),this.elements.buttons[n].push(a)):this.elements.buttons[n]=a,a},createRange:function(e,t){var i=oe("input",ne(he(this.config.selectors.inputs[e]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":Be(e,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},t));return this.elements.inputs[e]=i,Ze.updateRangeFill.call(this,i),j.setup(i),i},createProgress:function(e,t){var i=oe("progress",ne(he(this.config.selectors.display[e]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},t));if("volume"!==e){i.appendChild(oe("span",null,"0"));var r={played:"played",buffer:"buffered"}[e],n=r?Be(r,this.config):"";i.innerText="% ".concat(n.toLowerCase())}return this.elements.display[e]=i,i},createTime:function(e,t){var i=he(this.config.selectors.display[e],t),r=oe("div",ne(i,{class:"".concat(i.class?i.class:""," ").concat(this.config.classNames.display.time," ").trim(),"aria-label":Be(e,this.config)}),"00:00");return this.elements.display[e]=r,r},bindMenuItemShortcuts:function(e,t){var i=this;Ce.call(this,e,"keydown keyup",(function(r){if([32,38,39,40].includes(r.which)&&(r.preventDefault(),r.stopPropagation(),"keydown"!==r.type)){var n,s=ge(e,'[role="menuitemradio"]');!s&&[32,39].includes(r.which)?Ze.showMenuPanel.call(i,t,!0):32!==r.which&&(40===r.which||s&&39===r.which?G(n=e.nextElementSibling)||(n=e.parentNode.firstElementChild):G(n=e.previousElementSibling)||(n=e.parentNode.lastElementChild),ve.call(i,n,!0))}}),!1),Ce.call(this,e,"keyup",(function(e){13===e.which&&Ze.focusFirstMenuItem.call(i,null,!0)}))},createMenuItem:function(e){var t=this,i=e.value,r=e.list,n=e.type,s=e.title,a=e.badge,o=void 0===a?null:a,l=e.checked,u=void 0!==l&&l,d=he(this.config.selectors.inputs[n]),c=oe("button",ne(d,{type:"button",role:"menuitemradio",class:"".concat(this.config.classNames.control," ").concat(d.class?d.class:"").trim(),"aria-checked":u,value:i})),h=oe("span");h.innerHTML=s,G(o)&&h.appendChild(o),c.appendChild(h),Object.defineProperty(c,"checked",{enumerable:!0,get:function(){return"true"===c.getAttribute("aria-checked")},set:function(e){e&&Array.from(c.parentNode.children).filter((function(e){return ge(e,'[role="menuitemradio"]')})).forEach((function(e){return e.setAttribute("aria-checked","false")})),c.setAttribute("aria-checked",e?"true":"false")}}),this.listeners.bind(c,"click keyup",(function(e){if(!Y(e)||32===e.which){switch(e.preventDefault(),e.stopPropagation(),c.checked=!0,n){case"language":t.currentTrack=Number(i);break;case"quality":t.quality=i;break;case"speed":t.speed=parseFloat(i)}Ze.showMenuPanel.call(t,"home",Y(e))}}),n,!1),Ze.bindMenuItemShortcuts.call(this,c,n),r.appendChild(c)},formatTime:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!z(e))return e;var i=Ge(this.duration)>0;return Xe(e,i,t)},updateTimeDisplay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];G(e)&&z(t)&&(e.innerText=Ze.formatTime(t,i))},updateVolume:function(){this.supported.ui&&(G(this.elements.inputs.volume)&&Ze.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),G(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||0===this.volume))},setRange:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;G(e)&&(e.value=t,Ze.updateRangeFill.call(this,e))},updateProgress:function(e){var t=this;if(this.supported.ui&&K(e)){var i,r,n=0;if(e)switch(e.type){case"timeupdate":case"seeking":case"seeked":r=this.duration,n=0===(i=this.currentTime)||0===r||Number.isNaN(i)||Number.isNaN(r)?0:(i/r*100).toFixed(2),"timeupdate"===e.type&&Ze.setRange.call(this,this.elements.inputs.seek,n);break;case"playing":case"progress":!function(e,i){var r=z(i)?i:0,n=G(e)?e:t.elements.display.buffer;if(G(n)){n.value=r;var s=n.getElementsByTagName("span")[0];G(s)&&(s.childNodes[0].nodeValue=r)}}(this.elements.display.buffer,100*this.buffered)}}},updateRangeFill:function(e){var t=K(e)?e.target:e;if(G(t)&&"range"===t.getAttribute("type")){if(ge(t,this.config.selectors.inputs.seek)){t.setAttribute("aria-valuenow",this.currentTime);var i=Ze.formatTime(this.currentTime),r=Ze.formatTime(this.duration),n=Be("seekLabel",this.config);t.setAttribute("aria-valuetext",n.replace("{currentTime}",i).replace("{duration}",r))}else if(ge(t,this.config.selectors.inputs.volume)){var s=100*t.value;t.setAttribute("aria-valuenow",s),t.setAttribute("aria-valuetext","".concat(s.toFixed(1),"%"))}else t.setAttribute("aria-valuenow",t.value);ie.isWebkit&&t.style.setProperty("--value","".concat(t.value/t.max*100,"%"))}},updateSeekTooltip:function(e){var t=this;if(this.config.tooltips.seek&&G(this.elements.inputs.seek)&&G(this.elements.display.seekTooltip)&&0!==this.duration){var i="".concat(this.config.classNames.tooltip,"--visible"),r=function(e){return me(t.elements.display.seekTooltip,i,e)};if(this.touch)r(!1);else{var n=0,s=this.elements.progress.getBoundingClientRect();if(K(e))n=100/s.width*(e.pageX-s.left);else{if(!fe(this.elements.display.seekTooltip,i))return;n=parseFloat(this.elements.display.seekTooltip.style.left,10)}n<0?n=0:n>100&&(n=100),Ze.updateTimeDisplay.call(this,this.elements.display.seekTooltip,this.duration/100*n),this.elements.display.seekTooltip.style.left="".concat(n,"%"),K(e)&&["mouseenter","mouseleave"].includes(e.type)&&r("mouseenter"===e.type)}}},timeUpdate:function(e){var t=!G(this.elements.display.duration)&&this.config.invertTime;Ze.updateTimeDisplay.call(this,this.elements.display.currentTime,t?this.duration-this.currentTime:this.currentTime,t),e&&"timeupdate"===e.type&&this.media.seeking||Ze.updateProgress.call(this,e)},durationUpdate:function(){if(this.supported.ui&&(this.config.invertTime||!this.currentTime)){if(this.duration>=Math.pow(2,32))return pe(this.elements.display.currentTime,!0),void pe(this.elements.progress,!0);G(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);var e=G(this.elements.display.duration);!e&&this.config.displayDuration&&this.paused&&Ze.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),e&&Ze.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),Ze.updateSeekTooltip.call(this)}},toggleMenuButton:function(e,t){pe(this.elements.settings.buttons[e],!t)},updateSetting:function(e,t,i){var r=this.elements.settings.panels[e],n=null,s=t;if("captions"===e)n=this.currentTrack;else{if(n=Q(i)?this[e]:i,Q(n)&&(n=this.config[e].default),!Q(this.options[e])&&!this.options[e].includes(n))return void this.debug.warn("Unsupported value of '".concat(n,"' for ").concat(e));if(!this.config[e].options.includes(n))return void this.debug.warn("Disabled value of '".concat(n,"' for ").concat(e))}if(G(s)||(s=r&&r.querySelector('[role="menu"]')),G(s)){this.elements.settings.buttons[e].querySelector(".".concat(this.config.classNames.menu.value)).innerHTML=Ze.getLabel.call(this,e,n);var a=s&&s.querySelector('[value="'.concat(n,'"]'));G(a)&&(a.checked=!0)}},getLabel:function(e,t){switch(e){case"speed":return 1===t?Be("normal",this.config):"".concat(t,"&times;");case"quality":if(z(t)){var i=Be("qualityLabel.".concat(t),this.config);return i.length?i:"".concat(t,"p")}return Ie(t);case"captions":return tt.getLabel.call(this);default:return null}},setQualityMenu:function(e){var t=this;if(G(this.elements.settings.panels.quality)){var i=this.elements.settings.panels.quality.querySelector('[role="menu"]');J(e)&&(this.options.quality=Ne(e).filter((function(e){return t.config.quality.options.includes(e)})));var r=!Q(this.options.quality)&&this.options.quality.length>1;if(Ze.toggleMenuButton.call(this,"quality",r),de(i),Ze.checkMenu.call(this),r){var n=function(e){var i=Be("qualityBadge.".concat(e),t.config);return i.length?Ze.createBadge.call(t,i):null};this.options.quality.sort((function(e,i){var r=t.config.quality.options;return r.indexOf(e)>r.indexOf(i)?1:-1})).forEach((function(e){Ze.createMenuItem.call(t,{value:e,list:i,type:"quality",title:Ze.getLabel.call(t,"quality",e),badge:n(e)})})),Ze.updateSetting.call(this,"quality",i)}}},setCaptionsMenu:function(){var e=this;if(G(this.elements.settings.panels.captions)){var t=this.elements.settings.panels.captions.querySelector('[role="menu"]'),i=tt.getTracks.call(this),r=Boolean(i.length);if(Ze.toggleMenuButton.call(this,"captions",r),de(t),Ze.checkMenu.call(this),r){var n=i.map((function(i,r){return{value:r,checked:e.captions.toggled&&e.currentTrack===r,title:tt.getLabel.call(e,i),badge:i.language&&Ze.createBadge.call(e,i.language.toUpperCase()),list:t,type:"language"}}));n.unshift({value:-1,checked:!this.captions.toggled,title:Be("disabled",this.config),list:t,type:"language"}),n.forEach(Ze.createMenuItem.bind(this)),Ze.updateSetting.call(this,"captions",t)}}},setSpeedMenu:function(){var e=this;if(G(this.elements.settings.panels.speed)){var t=this.elements.settings.panels.speed.querySelector('[role="menu"]');this.options.speed=this.options.speed.filter((function(t){return t>=e.minimumSpeed&&t<=e.maximumSpeed}));var i=!Q(this.options.speed)&&this.options.speed.length>1;Ze.toggleMenuButton.call(this,"speed",i),de(t),Ze.checkMenu.call(this),i&&(this.options.speed.forEach((function(i){Ze.createMenuItem.call(e,{value:i,list:t,type:"speed",title:Ze.getLabel.call(e,"speed",i)})})),Ze.updateSetting.call(this,"speed",t))}},checkMenu:function(){var e=this.elements.settings.buttons,t=!Q(e)&&Object.values(e).some((function(e){return!e.hidden}));pe(this.elements.settings.menu,!t)},focusFirstMenuItem:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.elements.settings.popup.hidden){var i=e;G(i)||(i=Object.values(this.elements.settings.panels).find((function(e){return!e.hidden})));var r=i.querySelector('[role^="menuitem"]');ve.call(this,r,t)}},toggleMenu:function(e){var t=this.elements.settings.popup,i=this.elements.buttons.settings;if(G(t)&&G(i)){var r=t.hidden,n=r;if(B(e))n=e;else if(Y(e)&&27===e.which)n=!1;else if(K(e)){var s=U(e.composedPath)?e.composedPath()[0]:e.target,a=t.contains(s);if(a||!a&&e.target!==i&&n)return}i.setAttribute("aria-expanded",n),pe(t,!n),me(this.elements.container,this.config.classNames.menu.open,n),n&&Y(e)?Ze.focusFirstMenuItem.call(this,null,!0):n||r||ve.call(this,i,Y(e))}},getMenuSize:function(e){var t=e.cloneNode(!0);t.style.position="absolute",t.style.opacity=0,t.removeAttribute("hidden"),e.parentNode.appendChild(t);var i=t.scrollWidth,r=t.scrollHeight;return ue(t),{width:i,height:r}},showMenuPanel:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.elements.container.querySelector("#plyr-settings-".concat(this.id,"-").concat(t));if(G(r)){var n=r.parentNode,s=Array.from(n.children).find((function(e){return!e.hidden}));if(ke.transitions&&!ke.reducedMotion){n.style.width="".concat(s.scrollWidth,"px"),n.style.height="".concat(s.scrollHeight,"px");var a=Ze.getMenuSize.call(this,r),o=function t(i){i.target===n&&["width","height"].includes(i.propertyName)&&(n.style.width="",n.style.height="",xe.call(e,n,ee,t))};Ce.call(this,n,ee,o),n.style.width="".concat(a.width,"px"),n.style.height="".concat(a.height,"px")}pe(s,!0),pe(r,!1),Ze.focusFirstMenuItem.call(this,r,i)}},setDownloadUrl:function(){var e=this.elements.buttons.download;G(e)&&e.setAttribute("href",this.download)},create:function(e){var t=this,i=Ze.bindMenuItemShortcuts,r=Ze.createButton,n=Ze.createProgress,s=Ze.createRange,a=Ze.createTime,o=Ze.setQualityMenu,l=Ze.setSpeedMenu,u=Ze.showMenuPanel;this.elements.controls=null,J(this.config.controls)&&this.config.controls.includes("play-large")&&this.elements.container.appendChild(r.call(this,"play-large"));var d=oe("div",he(this.config.selectors.controls.wrapper));this.elements.controls=d;var c={class:"plyr__controls__item"};return Ne(J(this.config.controls)?this.config.controls:[]).forEach((function(o){if("restart"===o&&d.appendChild(r.call(t,"restart",c)),"rewind"===o&&d.appendChild(r.call(t,"rewind",c)),"play"===o&&d.appendChild(r.call(t,"play",c)),"fast-forward"===o&&d.appendChild(r.call(t,"fast-forward",c)),"progress"===o){var l=oe("div",{class:"".concat(c.class," plyr__progress__container")}),h=oe("div",he(t.config.selectors.progress));if(h.appendChild(s.call(t,"seek",{id:"plyr-seek-".concat(e.id)})),h.appendChild(n.call(t,"buffer")),t.config.tooltips.seek){var p=oe("span",{class:t.config.classNames.tooltip},"00:00");h.appendChild(p),t.elements.display.seekTooltip=p}t.elements.progress=h,l.appendChild(t.elements.progress),d.appendChild(l)}if("current-time"===o&&d.appendChild(a.call(t,"currentTime",c)),"duration"===o&&d.appendChild(a.call(t,"duration",c)),"mute"===o||"volume"===o){var m=t.elements.volume;G(m)&&d.contains(m)||(m=oe("div",ne({},c,{class:"".concat(c.class," plyr__volume").trim()})),t.elements.volume=m,d.appendChild(m)),"mute"===o&&m.appendChild(r.call(t,"mute")),"volume"!==o||ie.isIos||m.appendChild(s.call(t,"volume",ne({max:1,step:.05,value:t.config.volume},{id:"plyr-volume-".concat(e.id)})))}if("captions"===o&&d.appendChild(r.call(t,"captions",c)),"settings"===o&&!Q(t.config.settings)){var f=oe("div",ne({},c,{class:"".concat(c.class," plyr__menu").trim(),hidden:""}));f.appendChild(r.call(t,"settings",{"aria-haspopup":!0,"aria-controls":"plyr-settings-".concat(e.id),"aria-expanded":!1}));var g=oe("div",{class:"plyr__menu__container",id:"plyr-settings-".concat(e.id),hidden:""}),y=oe("div"),b=oe("div",{id:"plyr-settings-".concat(e.id,"-home")}),v=oe("div",{role:"menu"});b.appendChild(v),y.appendChild(b),t.elements.settings.panels.home=b,t.config.settings.forEach((function(r){var n=oe("button",ne(he(t.config.selectors.buttons.settings),{type:"button",class:"".concat(t.config.classNames.control," ").concat(t.config.classNames.control,"--forward"),role:"menuitem","aria-haspopup":!0,hidden:""}));i.call(t,n,r),Ce.call(t,n,"click",(function(){u.call(t,r,!1)}));var s=oe("span",null,Be(r,t.config)),a=oe("span",{class:t.config.classNames.menu.value});a.innerHTML=e[r],s.appendChild(a),n.appendChild(s),v.appendChild(n);var o=oe("div",{id:"plyr-settings-".concat(e.id,"-").concat(r),hidden:""}),l=oe("button",{type:"button",class:"".concat(t.config.classNames.control," ").concat(t.config.classNames.control,"--back")});l.appendChild(oe("span",{"aria-hidden":!0},Be(r,t.config))),l.appendChild(oe("span",{class:t.config.classNames.hidden},Be("menuBack",t.config))),Ce.call(t,o,"keydown",(function(e){37===e.which&&(e.preventDefault(),e.stopPropagation(),u.call(t,"home",!0))}),!1),Ce.call(t,l,"click",(function(){u.call(t,"home",!1)})),o.appendChild(l),o.appendChild(oe("div",{role:"menu"})),y.appendChild(o),t.elements.settings.buttons[r]=n,t.elements.settings.panels[r]=o})),g.appendChild(y),f.appendChild(g),d.appendChild(f),t.elements.settings.popup=g,t.elements.settings.menu=f}if("pip"===o&&ke.pip&&d.appendChild(r.call(t,"pip",c)),"airplay"===o&&ke.airplay&&d.appendChild(r.call(t,"airplay",c)),"download"===o){var w=ne({},c,{element:"a",href:t.download,target:"_blank"});t.isHTML5&&(w.download=""),!Z(t.config.urls.download)&&t.isEmbed&&ne(w,{icon:"logo-".concat(t.provider),label:t.provider}),d.appendChild(r.call(t,"download",w))}"fullscreen"===o&&d.appendChild(r.call(t,"fullscreen",c))})),this.isHTML5&&o.call(this,De.getQualityOptions.call(this)),l.call(this),d},inject:function(){var e=this;if(this.config.loadSprite){var t=Ze.getIconUrl.call(this);t.cors&&We(t.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());var i=null;this.elements.controls=null;var r,n,s={id:this.id,seektime:this.config.seekTime,title:this.config.title},o=!0;if(U(this.config.controls)&&(this.config.controls=this.config.controls.call(this,s)),this.config.controls||(this.config.controls=[]),G(this.config.controls)||H(this.config.controls)?i=this.config.controls:(i=Ze.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:tt.getLabel.call(this)}),o=!1),o&&H(this.config.controls)&&(r=i,Object.entries(s).forEach((function(e){var t=a(e,2),i=t[1];r=Fe(r,"{".concat(t[0],"}"),i)})),i=r),H(this.config.selectors.controls.container)&&(n=document.querySelector(this.config.selectors.controls.container)),G(n)||(n=this.elements.container),n[G(i)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",i),G(this.elements.controls)||Ze.findElements.call(this),!Q(this.elements.buttons)){var l=function(t){var i=e.config.classNames.controlPressed;Object.defineProperty(t,"pressed",{enumerable:!0,get:function(){return fe(t,i)},set:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];me(t,i,e)}})};Object.values(this.elements.buttons).filter(Boolean).forEach((function(e){J(e)||W(e)?Array.from(e).filter(Boolean).forEach(l):l(e)}))}if(ie.isEdge&&te(n),this.config.tooltips.controls){var u=this.config,d=u.classNames,c=u.selectors,h="".concat(c.controls.wrapper," ").concat(c.labels," .").concat(d.hidden),p=ye.call(this,h);Array.from(p).forEach((function(t){me(t,e.config.classNames.hidden,!1),me(t,e.config.classNames.tooltip,!0)}))}}};function Qe(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=e;if(t){var r=document.createElement("a");r.href=i,i=r.href}try{return new URL(i)}catch(e){return null}}function et(e){var t=new URLSearchParams;return R(e)&&Object.entries(e).forEach((function(e){var i=a(e,2);t.set(i[0],i[1])})),t}var tt={setup:function(){if(this.supported.ui)if(!this.isVideo||this.isYouTube||this.isHTML5&&!ke.textTracks)J(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&Ze.setCaptionsMenu.call(this);else{if(G(this.elements.captions)||(this.elements.captions=oe("div",he(this.config.selectors.captions)),function(e,t){G(e)&&G(t)&&t.parentNode.insertBefore(e,t.nextSibling)}(this.elements.captions,this.elements.wrapper)),ie.isIE&&window.URL){var e=this.media.querySelectorAll("track");Array.from(e).forEach((function(e){var t=e.getAttribute("src"),i=Qe(t);null!==i&&i.hostname!==window.location.href.hostname&&["http:","https:"].includes(i.protocol)&&Je(t,"blob").then((function(t){e.setAttribute("src",window.URL.createObjectURL(t))})).catch((function(){ue(e)}))}))}var t=Ne((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map((function(e){return e.split("-")[0]}))),i=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();"auto"===i&&(i=a(t,1)[0]);var r=this.storage.get("captions");B(r)||(r=this.config.captions.active),Object.assign(this.captions,{toggled:!1,active:r,language:i,languages:t}),this.isHTML5&&Ce.call(this,this.media.textTracks,this.config.captions.update?"addtrack removetrack":"removetrack",tt.update.bind(this)),setTimeout(tt.update.bind(this),0)}},update:function(){var e=this,t=tt.getTracks.call(this,!0),i=this.captions,r=i.active,n=i.language,s=i.meta,a=i.currentTrackNode,o=Boolean(t.find((function(e){return e.language===n})));this.isHTML5&&this.isVideo&&t.filter((function(e){return!s.get(e)})).forEach((function(t){e.debug.log("Track added",t),s.set(t,{default:"showing"===t.mode}),"showing"===t.mode&&(t.mode="hidden"),Ce.call(e,t,"cuechange",(function(){return tt.updateCues.call(e)}))})),(o&&this.language!==n||!t.includes(a))&&(tt.setLanguage.call(this,n),tt.toggle.call(this,r&&o)),me(this.elements.container,this.config.classNames.captions.enabled,!Q(t)),J(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&Ze.setCaptionsMenu.call(this)},toggle:function(e){var t=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.supported.ui){var r=this.captions.toggled,n=this.config.classNames.captions.active,s=I(e)?!r:e;if(s!==r){if(i||(this.captions.active=s,this.storage.set({captions:s})),!this.language&&s&&!i){var a=tt.getTracks.call(this),l=tt.findTrack.call(this,[this.captions.language].concat(o(this.captions.languages)),!0);return this.captions.language=l.language,void tt.set.call(this,a.indexOf(l))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=s),me(this.elements.container,n,s),this.captions.toggled=s,Ze.updateSetting.call(this,"captions"),Ae.call(this,this.media,s?"captionsenabled":"captionsdisabled")}setTimeout((function(){s&&t.captions.toggled&&(t.captions.currentTrackNode.mode="hidden")}))}},set:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=tt.getTracks.call(this);if(-1!==e)if(z(e))if(e in i){if(this.captions.currentTrack!==e){this.captions.currentTrack=e;var r=i[e],n=r||{},s=n.language;this.captions.currentTrackNode=r,Ze.updateSetting.call(this,"captions"),t||(this.captions.language=s,this.storage.set({language:s})),this.isVimeo&&this.embed.enableTextTrack(s),Ae.call(this,this.media,"languagechange")}tt.toggle.call(this,!0,t),this.isHTML5&&this.isVideo&&tt.updateCues.call(this)}else this.debug.warn("Track not found",e);else this.debug.warn("Invalid caption argument",e);else tt.toggle.call(this,!1,t)},setLanguage:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(H(e)){var i=e.toLowerCase();this.captions.language=i;var r=tt.getTracks.call(this),n=tt.findTrack.call(this,[i]);tt.set.call(this,r.indexOf(n),t)}else this.debug.warn("Invalid language argument",e)},getTracks:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=Array.from((this.media||{}).textTracks||[]);return i.filter((function(i){return!e.isHTML5||t||e.captions.meta.has(i)})).filter((function(e){return["captions","subtitles"].includes(e.kind)}))},findTrack:function(e){var t,i=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=tt.getTracks.call(this),s=function(e){return Number((i.captions.meta.get(e)||{}).default)},a=Array.from(n).sort((function(e,t){return s(t)-s(e)}));return e.every((function(e){return!(t=a.find((function(t){return t.language===e})))})),t||(r?a[0]:void 0)},getCurrentTrack:function(){return tt.getTracks.call(this)[this.currentTrack]},getLabel:function(e){var t=e;return!X(t)&&ke.textTracks&&this.captions.toggled&&(t=tt.getCurrentTrack.call(this)),X(t)?Q(t.label)?Q(t.language)?Be("enabled",this.config):e.language.toUpperCase():t.label:Be("disabled",this.config)},updateCues:function(e){if(this.supported.ui)if(G(this.elements.captions))if(I(e)||Array.isArray(e)){var t=e;if(!t){var i=tt.getCurrentTrack.call(this);t=Array.from((i||{}).activeCues||[]).map((function(e){return e.getCueAsHTML()})).map(ze)}var r=t.map((function(e){return e.trim()})).join("\n");if(r!==this.elements.captions.innerHTML){de(this.elements.captions);var n=oe("span",he(this.config.selectors.caption));n.innerHTML=r,this.elements.captions.appendChild(n),Ae.call(this,this.media,"cuechange")}}else this.debug.warn("updateCues: Invalid input",e);else this.debug.warn("No captions element to render to")}},it={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.6.2/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240],forced:!1,onChange:null},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2,4]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",pip:"PIP",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/v2/video/{0}.json"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption"},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",videoFixedRatio:"plyr__video-wrapper--fixed-ratio",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isIos:"plyr--is-ios",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},tabFocus:"plyr__tab-focus",previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id"}},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:""},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1,premium:!1,referrerPolicy:null},youtube:{noCookie:!0,rel:0,showinfo:0,iv_load_policy:3,modestbranding:1}},rt="picture-in-picture",nt={html5:"html5",youtube:"youtube",vimeo:"vimeo"},st=function(){},at=function(){function t(){var i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e(this,t),this.enabled=window.console&&i,this.enabled&&this.log("Debugging enabled")}return i(t,[{key:"log",get:function(){return this.enabled?Function.prototype.bind.call(console.log,console):st}},{key:"warn",get:function(){return this.enabled?Function.prototype.bind.call(console.warn,console):st}},{key:"error",get:function(){return this.enabled?Function.prototype.bind.call(console.error,console):st}}]),t}(),ot=function(){function t(i){var r=this;e(this,t),this.player=i,this.prefix=t.prefix,this.property=t.property,this.scrollPosition={x:0,y:0},this.forceFallback="force"===i.config.fullscreen.fallback,this.player.elements.fullscreen=i.config.fullscreen.container&&function(e,t){return(Element.prototype.closest||function(){var e=this;do{if(ge.matches(e,t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}).call(e,t)}(this.player.elements.container,i.config.fullscreen.container),Ce.call(this.player,document,"ms"===this.prefix?"MSFullscreenChange":"".concat(this.prefix,"fullscreenchange"),(function(){r.onChange()})),Ce.call(this.player,this.player.elements.container,"dblclick",(function(e){G(r.player.elements.controls)&&r.player.elements.controls.contains(e.target)||r.toggle()})),Ce.call(this,this.player.elements.container,"keydown",(function(e){return r.trapFocus(e)})),this.update()}return i(t,[{key:"onChange",value:function(){if(this.enabled){var e=this.player.elements.buttons.fullscreen;G(e)&&(e.pressed=this.active),Ae.call(this.player,this.target,this.active?"enterfullscreen":"exitfullscreen",!0)}}},{key:"toggleFallback",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e?this.scrollPosition={x:window.scrollX||0,y:window.scrollY||0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=e?"hidden":"",me(this.target,this.player.config.classNames.fullscreen.fallback,e),ie.isIos){var t=document.head.querySelector('meta[name="viewport"]'),i="viewport-fit=cover";t||(t=document.createElement("meta")).setAttribute("name","viewport");var r=H(t.content)&&t.content.includes(i);e?(this.cleanupViewport=!r,r||(t.content+=",".concat(i))):this.cleanupViewport&&(t.content=t.content.split(",").filter((function(e){return e.trim()!==i})).join(","))}this.onChange()}},{key:"trapFocus",value:function(e){if(!ie.isIos&&this.active&&"Tab"===e.key&&9===e.keyCode){var t=document.activeElement,i=ye.call(this.player,"a[href], button:not(:disabled), input:not(:disabled), [tabindex]"),r=a(i,1)[0],n=i[i.length-1];t!==n||e.shiftKey?t===r&&e.shiftKey&&(n.focus(),e.preventDefault()):(r.focus(),e.preventDefault())}}},{key:"update",value:function(){this.player.debug.log(this.enabled?"".concat(this.forceFallback?"Fallback (forced)":t.native?"Native":"Fallback"," fullscreen enabled"):"Fullscreen not supported and fallback disabled"),me(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.enabled)}},{key:"enter",value:function(){this.enabled&&(ie.isIos&&this.player.config.fullscreen.iosNative?this.target.webkitEnterFullscreen():!t.native||this.forceFallback?this.toggleFallback(!0):this.prefix?Q(this.prefix)||this.target["".concat(this.prefix,"Request").concat(this.property)]():this.target.requestFullscreen({navigationUI:"hide"}))}},{key:"exit",value:function(){if(this.enabled)if(ie.isIos&&this.player.config.fullscreen.iosNative)this.target.webkitExitFullscreen(),Ve(this.player.play());else if(!t.native||this.forceFallback)this.toggleFallback(!1);else if(this.prefix){if(!Q(this.prefix)){var e="moz"===this.prefix?"Cancel":"Exit";document["".concat(this.prefix).concat(e).concat(this.property)]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document)}},{key:"toggle",value:function(){this.active?this.exit():this.enter()}},{key:"usingNative",get:function(){return t.native&&!this.forceFallback}},{key:"enabled",get:function(){return(t.native||this.player.config.fullscreen.fallback)&&this.player.config.fullscreen.enabled&&this.player.supported.ui&&this.player.isVideo}},{key:"active",get:function(){if(!this.enabled)return!1;if(!t.native||this.forceFallback)return fe(this.target,this.player.config.classNames.fullscreen.fallback);var e=this.prefix?document["".concat(this.prefix).concat(this.property,"Element")]:document.fullscreenElement;return e&&e.shadowRoot?e===this.target.getRootNode().host:e===this.target}},{key:"target",get:function(){return ie.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.fullscreen||this.player.elements.container}}],[{key:"native",get:function(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}},{key:"prefix",get:function(){if(U(document.exitFullscreen))return"";var e="";return["webkit","moz","ms"].some((function(t){return!(!U(document["".concat(t,"ExitFullscreen")])&&!U(document["".concat(t,"CancelFullScreen")])||(e=t,0))})),e}},{key:"property",get:function(){return"moz"===this.prefix?"FullScreen":"Fullscreen"}}]),t}();function lt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new Promise((function(i,r){var n=new Image,s=function(){delete n.onload,delete n.onerror,(n.naturalWidth>=t?i:r)(n)};Object.assign(n,{onload:s,onerror:s,src:e})}))}var ut={addStyleHook:function(){me(this.elements.container,this.config.selectors.container.replace(".",""),!0),me(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build:function(){var e=this;if(this.listeners.media(),!this.supported.ui)return this.debug.warn("Basic support only for ".concat(this.provider," ").concat(this.type)),void ut.toggleNativeControls.call(this,!0);G(this.elements.controls)||(Ze.inject.call(this),this.listeners.controls()),ut.toggleNativeControls.call(this),this.isHTML5&&tt.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,Ze.updateVolume.call(this),Ze.timeUpdate.call(this),ut.checkPlaying.call(this),me(this.elements.container,this.config.classNames.pip.supported,ke.pip&&this.isHTML5&&this.isVideo),me(this.elements.container,this.config.classNames.airplay.supported,ke.airplay&&this.isHTML5),me(this.elements.container,this.config.classNames.isIos,ie.isIos),me(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout((function(){Ae.call(e,e.media,"ready")}),0),ut.setTitle.call(this),this.poster&&ut.setPoster.call(this,this.poster,!1).catch((function(){})),this.config.duration&&Ze.durationUpdate.call(this)},setTitle:function(){var e=Be("play",this.config);if(H(this.config.title)&&!Q(this.config.title)&&(e+=", ".concat(this.config.title)),Array.from(this.elements.buttons.play||[]).forEach((function(t){t.setAttribute("aria-label",e)})),this.isEmbed){var t=be.call(this,"iframe");if(!G(t))return;var i=Q(this.config.title)?"video":this.config.title,r=Be("frameTitle",this.config);t.setAttribute("title",r.replace("{title}",i))}},togglePoster:function(e){me(this.elements.container,this.config.classNames.posterEnabled,e)},setPoster:function(e){var t=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return i&&this.poster?Promise.reject(new Error("Poster already set")):(this.media.setAttribute("data-poster",e),je.call(this).then((function(){return lt(e)})).catch((function(i){throw e===t.poster&&ut.togglePoster.call(t,!1),i})).then((function(){if(e!==t.poster)throw new Error("setPoster cancelled by later call to setPoster")})).then((function(){return Object.assign(t.elements.poster.style,{backgroundImage:"url('".concat(e,"')"),backgroundSize:""}),ut.togglePoster.call(t,!0),e})))},checkPlaying:function(e){var t=this;me(this.elements.container,this.config.classNames.playing,this.playing),me(this.elements.container,this.config.classNames.paused,this.paused),me(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach((function(e){Object.assign(e,{pressed:t.playing}),e.setAttribute("aria-label",Be(t.playing?"pause":"play",t.config))})),K(e)&&"timeupdate"===e.type||ut.toggleControls.call(this)},checkLoading:function(e){var t=this;this.loading=["stalled","waiting"].includes(e.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout((function(){me(t.elements.container,t.config.classNames.loading,t.loading),ut.toggleControls.call(t)}),this.loading?250:0)},toggleControls:function(e){var t=this.elements.controls;if(t&&this.config.hideControls){var i=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(Boolean(e||this.loading||this.paused||t.pressed||t.hover||i))}},migrateStyles:function(){var e=this;Object.values(s({},this.media.style)).filter((function(e){return!Q(e)&&e.startsWith("--plyr")})).forEach((function(t){e.elements.container.style.setProperty(t,e.media.style.getPropertyValue(t)),e.media.style.removeProperty(t)})),Q(this.media.style)&&this.media.removeAttribute("style")}},dt=function(){function t(i){e(this,t),this.player=i,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.setTabFocus=this.setTabFocus.bind(this),this.firstTouch=this.firstTouch.bind(this)}return i(t,[{key:"handleKey",value:function(e){var t=this.player,i=t.elements,r=e.keyCode?e.keyCode:e.which,n="keydown"===e.type,s=n&&r===this.lastKey;if(!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)&&z(r))if(n){var a=document.activeElement;if(G(a)){if(a!==i.inputs.seek&&ge(a,t.config.selectors.editable))return;if(32===e.which&&ge(a,'button, [role^="menuitem"]'))return}switch([32,37,38,39,40,48,49,50,51,52,53,54,56,57,67,70,73,75,76,77,79].includes(r)&&(e.preventDefault(),e.stopPropagation()),r){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:s||(t.currentTime=t.duration/10*(r-48));break;case 32:case 75:s||Ve(t.togglePlay());break;case 38:t.increaseVolume(.1);break;case 40:t.decreaseVolume(.1);break;case 77:s||(t.muted=!t.muted);break;case 39:t.forward();break;case 37:t.rewind();break;case 70:t.fullscreen.toggle();break;case 67:s||t.toggleCaptions();break;case 76:t.loop=!t.loop}27===r&&!t.fullscreen.usingNative&&t.fullscreen.active&&t.fullscreen.toggle(),this.lastKey=r}else this.lastKey=null}},{key:"toggleMenu",value:function(e){Ze.toggleMenu.call(this.player,e)}},{key:"firstTouch",value:function(){var e=this.player,t=e.elements;e.touch=!0,me(t.container,e.config.classNames.isTouch,!0)}},{key:"setTabFocus",value:function(e){var t,i=this.player,r=i.elements;clearTimeout(this.focusTimer),("keydown"!==e.type||9===e.which)&&("keydown"===e.type&&(this.lastKeyDown=e.timeStamp),("focus"!==e.type||e.timeStamp-this.lastKeyDown<=20)&&(me(ye.call(i,".".concat(t=i.config.classNames.tabFocus)),t,!1),"focusout"!==e.type&&(this.focusTimer=setTimeout((function(){var e=document.activeElement;r.container.contains(e)&&me(document.activeElement,i.config.classNames.tabFocus,!0)}),10))))}},{key:"global",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.player;t.config.keyboard.global&&Te.call(t,window,"keydown keyup",this.handleKey,e,!1),Te.call(t,document.body,"click",this.toggleMenu,e),_e.call(t,document.body,"touchstart",this.firstTouch),Te.call(t,document.body,"keydown focus blur focusout",this.setTabFocus,e,!1,!0)}},{key:"container",value:function(){var e=this.player,t=e.config,i=e.elements,r=e.timers;!t.keyboard.global&&t.keyboard.focused&&Ce.call(e,i.container,"keydown keyup",this.handleKey,!1),Ce.call(e,i.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",(function(t){var n=i.controls;n&&"enterfullscreen"===t.type&&(n.pressed=!1,n.hover=!1);var s=0;["touchstart","touchmove","mousemove"].includes(t.type)&&(ut.toggleControls.call(e,!0),s=e.touch?3e3:2e3),clearTimeout(r.controls),r.controls=setTimeout((function(){return ut.toggleControls.call(e,!1)}),s)}));var n=function(t){if(!t)return Me.call(e);var r=i.container.getBoundingClientRect(),n=r.height;return Me.call(e,"".concat(r.width,":").concat(n))},s=function(){clearTimeout(r.resized),r.resized=setTimeout(n,50)};Ce.call(e,i.container,"enterfullscreen exitfullscreen",(function(t){var r=e.fullscreen,o=r.usingNative;if(r.target===i.container&&(e.isEmbed||!Q(e.config.ratio))){var l="enterfullscreen"===t.type;!function(t,i,r){if(e.isVimeo&&!e.config.vimeo.premium){var n=e.elements.wrapper.firstChild,s=a(t,2)[1],o=a(qe.call(e),2);n.style.maxWidth=r?"".concat(s/o[1]*o[0],"px"):null,n.style.margin=r?"0 auto":null}}(n(l).ratio,0,l),o||(l?Ce.call(e,window,"resize",s):xe.call(e,window,"resize",s))}}))}},{key:"media",value:function(){var e=this,t=this.player,i=t.elements;if(Ce.call(t,t.media,"timeupdate seeking seeked",(function(e){return Ze.timeUpdate.call(t,e)})),Ce.call(t,t.media,"durationchange loadeddata loadedmetadata",(function(e){return Ze.durationUpdate.call(t,e)})),Ce.call(t,t.media,"ended",(function(){t.isHTML5&&t.isVideo&&t.config.resetOnEnd&&(t.restart(),t.pause())})),Ce.call(t,t.media,"progress playing seeking seeked",(function(e){return Ze.updateProgress.call(t,e)})),Ce.call(t,t.media,"volumechange",(function(e){return Ze.updateVolume.call(t,e)})),Ce.call(t,t.media,"playing play pause ended emptied timeupdate",(function(e){return ut.checkPlaying.call(t,e)})),Ce.call(t,t.media,"waiting canplay seeked playing",(function(e){return ut.checkLoading.call(t,e)})),t.supported.ui&&t.config.clickToPlay&&!t.isAudio){var r=be.call(t,".".concat(t.config.classNames.video));if(!G(r))return;Ce.call(t,i.container,"click",(function(n){([i.container,r].includes(n.target)||r.contains(n.target))&&(t.touch&&t.config.hideControls||(t.ended?(e.proxy(n,t.restart,"restart"),e.proxy(n,(function(){Ve(t.play())}),"play")):e.proxy(n,(function(){Ve(t.togglePlay())}),"play")))}))}t.supported.ui&&t.config.disableContextMenu&&Ce.call(t,i.wrapper,"contextmenu",(function(e){e.preventDefault()}),!1),Ce.call(t,t.media,"volumechange",(function(){t.storage.set({volume:t.volume,muted:t.muted})})),Ce.call(t,t.media,"ratechange",(function(){Ze.updateSetting.call(t,"speed"),t.storage.set({speed:t.speed})})),Ce.call(t,t.media,"qualitychange",(function(e){Ze.updateSetting.call(t,"quality",null,e.detail.quality)})),Ce.call(t,t.media,"ready qualitychange",(function(){Ze.setDownloadUrl.call(t)}));var n=t.config.events.concat(["keyup","keydown"]).join(" ");Ce.call(t,t.media,n,(function(e){var r=e.detail,n=void 0===r?{}:r;"error"===e.type&&(n=t.media.error),Ae.call(t,i.container,e.type,!0,n)}))}},{key:"proxy",value:function(e,t,i){var r=this.player,n=r.config.listeners[i],s=!0;U(n)&&(s=n.call(r,e)),!1!==s&&U(t)&&t.call(r,e)}},{key:"bind",value:function(e,t,i,r){var n=this,s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=this.player,o=a.config.listeners[r],l=U(o);Ce.call(a,e,t,(function(e){return n.proxy(e,i,r)}),s&&!l)}},{key:"controls",value:function(){var e=this,t=this.player,i=t.elements,r=ie.isIE?"change":"input";if(i.buttons.play&&Array.from(i.buttons.play).forEach((function(i){e.bind(i,"click",(function(){Ve(t.togglePlay())}),"play")})),this.bind(i.buttons.restart,"click",t.restart,"restart"),this.bind(i.buttons.rewind,"click",t.rewind,"rewind"),this.bind(i.buttons.fastForward,"click",t.forward,"fastForward"),this.bind(i.buttons.mute,"click",(function(){t.muted=!t.muted}),"mute"),this.bind(i.buttons.captions,"click",(function(){return t.toggleCaptions()})),this.bind(i.buttons.download,"click",(function(){Ae.call(t,t.media,"download")}),"download"),this.bind(i.buttons.fullscreen,"click",(function(){t.fullscreen.toggle()}),"fullscreen"),this.bind(i.buttons.pip,"click",(function(){t.pip="toggle"}),"pip"),this.bind(i.buttons.airplay,"click",t.airplay,"airplay"),this.bind(i.buttons.settings,"click",(function(e){e.stopPropagation(),e.preventDefault(),Ze.toggleMenu.call(t,e)}),null,!1),this.bind(i.buttons.settings,"keyup",(function(e){var i=e.which;[13,32].includes(i)&&(13!==i?(e.preventDefault(),e.stopPropagation(),Ze.toggleMenu.call(t,e)):Ze.focusFirstMenuItem.call(t,null,!0))}),null,!1),this.bind(i.settings.menu,"keydown",(function(e){27===e.which&&Ze.toggleMenu.call(t,e)})),this.bind(i.inputs.seek,"mousedown mousemove",(function(e){var t=i.progress.getBoundingClientRect();e.currentTarget.setAttribute("seek-value",100/t.width*(e.pageX-t.left))})),this.bind(i.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",(function(e){var i=e.currentTarget,r=e.keyCode?e.keyCode:e.which;if(!Y(e)||39===r||37===r){t.lastSeekTime=Date.now();var n=i.hasAttribute("play-on-seeked"),s=["mouseup","touchend","keyup"].includes(e.type);n&&s?(i.removeAttribute("play-on-seeked"),Ve(t.play())):!s&&t.playing&&(i.setAttribute("play-on-seeked",""),t.pause())}})),ie.isIos){var n=ye.call(t,'input[type="range"]');Array.from(n).forEach((function(t){return e.bind(t,r,(function(e){return te(e.target)}))}))}this.bind(i.inputs.seek,r,(function(e){var i=e.currentTarget,r=i.getAttribute("seek-value");Q(r)&&(r=i.value),i.removeAttribute("seek-value"),t.currentTime=r/i.max*t.duration}),"seek"),this.bind(i.progress,"mouseenter mouseleave mousemove",(function(e){return Ze.updateSeekTooltip.call(t,e)})),this.bind(i.progress,"mousemove touchmove",(function(e){var i=t.previewThumbnails;i&&i.loaded&&i.startMove(e)})),this.bind(i.progress,"mouseleave touchend click",(function(){var e=t.previewThumbnails;e&&e.loaded&&e.endMove(!1,!0)})),this.bind(i.progress,"mousedown touchstart",(function(e){var i=t.previewThumbnails;i&&i.loaded&&i.startScrubbing(e)})),this.bind(i.progress,"mouseup touchend",(function(e){var i=t.previewThumbnails;i&&i.loaded&&i.endScrubbing(e)})),ie.isWebkit&&Array.from(ye.call(t,'input[type="range"]')).forEach((function(i){e.bind(i,"input",(function(e){return Ze.updateRangeFill.call(t,e.target)}))})),t.config.toggleInvert&&!G(i.display.duration)&&this.bind(i.display.currentTime,"click",(function(){0!==t.currentTime&&(t.config.invertTime=!t.config.invertTime,Ze.timeUpdate.call(t))})),this.bind(i.inputs.volume,r,(function(e){t.volume=e.target.value}),"volume"),this.bind(i.controls,"mouseenter mouseleave",(function(e){i.controls.hover=!t.touch&&"mouseenter"===e.type})),i.fullscreen&&Array.from(i.fullscreen.children).filter((function(e){return!e.contains(i.container)})).forEach((function(r){e.bind(r,"mouseenter mouseleave",(function(e){i.controls.hover=!t.touch&&"mouseenter"===e.type}))})),this.bind(i.controls,"mousedown mouseup touchstart touchend touchcancel",(function(e){i.controls.pressed=["mousedown","touchstart"].includes(e.type)})),this.bind(i.controls,"focusin",(function(){var r=t.config,n=t.timers;me(i.controls,r.classNames.noTransition,!0),ut.toggleControls.call(t,!0),setTimeout((function(){me(i.controls,r.classNames.noTransition,!1)}),0);var s=e.touch?3e3:4e3;clearTimeout(n.controls),n.controls=setTimeout((function(){return ut.toggleControls.call(t,!1)}),s)})),this.bind(i.inputs.volume,"wheel",(function(e){var i=e.webkitDirectionInvertedFromDevice,r=a([e.deltaX,-e.deltaY].map((function(e){return i?-e:e})),2),n=r[0],s=r[1],o=Math.sign(Math.abs(n)>Math.abs(s)?n:s);t.increaseVolume(o/50);var l=t.media.volume;(1===o&&l<1||-1===o&&l>0)&&e.preventDefault()}),"volume",!1)}}]),t}();"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var ct=function(e,t){return function(e,t){e.exports=function(){var e=function(){},t={},i={},r={};function n(e,t){if(e){var n=r[e];if(i[e]=t,n)for(;n.length;)n[0](e,t),n.splice(0,1)}}function s(t,i){t.call&&(t={success:t}),i.length?(t.error||e)(i):(t.success||e)(t)}function a(t,i,r,n){var s,o,l=document,u=r.async,d=(r.numRetries||0)+1,c=r.before||e,h=t.replace(/[\?|#].*$/,""),p=t.replace(/^(css|img)!/,"");n=n||0,/(^css!|\.css$)/.test(h)?((o=l.createElement("link")).rel="stylesheet",o.href=p,(s="hideFocus"in o)&&o.relList&&(s=0,o.rel="preload",o.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(h)?(o=l.createElement("img")).src=p:((o=l.createElement("script")).src=t,o.async=void 0===u||u),o.onload=o.onerror=o.onbeforeload=function(e){var l=e.type[0];if(s)try{o.sheet.cssText.length||(l="e")}catch(e){18!=e.code&&(l="e")}if("e"==l){if((n+=1)<d)return a(t,i,r,n)}else if("preload"==o.rel&&"style"==o.as)return o.rel="stylesheet";i(t,l,e.defaultPrevented)},!1!==c(t,o)&&l.head.appendChild(o)}function o(e,i,r){var o,l;if(i&&i.trim&&(o=i),l=(o?r:i)||{},o){if(o in t)throw"LoadJS";t[o]=!0}function u(t,i){!function(e,t,i){var r,n,s=(e=e.push?e:[e]).length,o=s,l=[];for(r=function(e,i,r){if("e"==i&&l.push(e),"b"==i){if(!r)return;l.push(e)}--s||t(l)},n=0;n<o;n++)a(e[n],r,i)}(e,(function(e){s(l,e),t&&s({success:t,error:i},e),n(o,e)}),l)}if(l.returnPromise)return new Promise(u);u()}return o.ready=function(e,t){return function(e,t){var n,s,a,o=[],l=(e=e.push?e:[e]).length,u=l;for(n=function(e,i){i.length&&o.push(e),--u||t(o)};l--;)(a=i[s=e[l]])?n(s,a):(r[s]=r[s]||[]).push(n)}(e,(function(e){s(t,e)})),o},o.done=function(e){n(e,[])},o.reset=function(){t={},i={},r={}},o.isDefined=function(e){return e in t},o}()}(t={exports:{}}),t.exports}();function ht(e){return new Promise((function(t,i){ct(e,{success:t,error:i})}))}function pt(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,Ae.call(this,this.media,e?"play":"pause"))}var mt={setup:function(){var e=this;me(e.elements.wrapper,e.config.classNames.embed,!0),e.options.speed=e.config.speed.options,Me.call(e),R(window.Vimeo)?mt.ready.call(e):ht(e.config.urls.vimeo.sdk).then((function(){mt.ready.call(e)})).catch((function(t){e.debug.warn("Vimeo SDK (player.js) failed to load",t)}))},ready:function(){var e=this,t=this,i=t.config.vimeo,r=i.premium,n=i.referrerPolicy,o=function(e,t){if(null==e)return{};var i,r,n=function(e,t){if(null==e)return{};var i,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)t.indexOf(i=s[r])>=0||(n[i]=e[i]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)t.indexOf(i=s[r])>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}(i,["premium","referrerPolicy"]);r&&Object.assign(o,{controls:!1,sidedock:!1});var l=et(s({loop:t.config.loop.active,autoplay:t.autoplay,muted:t.muted,gesture:"media",playsinline:!this.config.fullscreen.iosNative},o)),u=t.media.getAttribute("src");Q(u)&&(u=t.media.getAttribute(t.config.attributes.embed.id));var d,c=Q(d=u)?null:z(Number(d))?d:d.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:d,h=oe("iframe"),p=Le(t.config.urls.vimeo.iframe,c,l);h.setAttribute("src",p),h.setAttribute("allowfullscreen",""),h.setAttribute("allow","autoplay,fullscreen,picture-in-picture"),Q(n)||h.setAttribute("referrerPolicy",n);var m=t.poster;if(r)h.setAttribute("data-poster",m),t.media=ce(h,t.media);else{var f=oe("div",{class:t.config.classNames.embedContainer,"data-poster":m});f.appendChild(h),t.media=ce(f,t.media)}Je(Le(t.config.urls.vimeo.api,c),"json").then((function(e){if(!Q(e)){var i=new URL(e[0].thumbnail_large);i.pathname="".concat(i.pathname.split("_")[0],".jpg"),ut.setPoster.call(t,i.href).catch((function(){}))}})),t.embed=new window.Vimeo.Player(h,{autopause:t.config.autopause,muted:t.muted}),t.media.paused=!0,t.media.currentTime=0,t.supported.ui&&t.embed.disableTextTrack(),t.media.play=function(){return pt.call(t,!0),t.embed.play()},t.media.pause=function(){return pt.call(t,!1),t.embed.pause()},t.media.stop=function(){t.pause(),t.currentTime=0};var g=t.media.currentTime;Object.defineProperty(t.media,"currentTime",{get:function(){return g},set:function(e){var i=t.embed,r=t.media,n=t.volume,s=t.paused&&!i.hasPlayed;r.seeking=!0,Ae.call(t,r,"seeking"),Promise.resolve(s&&i.setVolume(0)).then((function(){return i.setCurrentTime(e)})).then((function(){return s&&i.pause()})).then((function(){return s&&i.setVolume(n)})).catch((function(){}))}});var y=t.config.speed.selected;Object.defineProperty(t.media,"playbackRate",{get:function(){return y},set:function(e){t.embed.setPlaybackRate(e).then((function(){y=e,Ae.call(t,t.media,"ratechange")})).catch((function(){t.options.speed=[1]}))}});var b=t.config.volume;Object.defineProperty(t.media,"volume",{get:function(){return b},set:function(e){t.embed.setVolume(e).then((function(){b=e,Ae.call(t,t.media,"volumechange")}))}});var v=t.config.muted;Object.defineProperty(t.media,"muted",{get:function(){return v},set:function(e){var i=!!B(e)&&e;t.embed.setVolume(i?0:t.config.volume).then((function(){v=i,Ae.call(t,t.media,"volumechange")}))}});var w,P=t.config.loop;Object.defineProperty(t.media,"loop",{get:function(){return P},set:function(e){var i=B(e)?e:t.config.loop.active;t.embed.setLoop(i).then((function(){P=i}))}}),t.embed.getVideoUrl().then((function(e){w=e,Ze.setDownloadUrl.call(t)})).catch((function(t){e.debug.warn(t)})),Object.defineProperty(t.media,"currentSrc",{get:function(){return w}}),Object.defineProperty(t.media,"ended",{get:function(){return t.currentTime===t.duration}}),Promise.all([t.embed.getVideoWidth(),t.embed.getVideoHeight()]).then((function(i){var r=a(i,2);t.embed.ratio=[r[0],r[1]],Me.call(e)})),t.embed.setAutopause(t.config.autopause).then((function(e){t.config.autopause=e})),t.embed.getVideoTitle().then((function(i){t.config.title=i,ut.setTitle.call(e)})),t.embed.getCurrentTime().then((function(e){g=e,Ae.call(t,t.media,"timeupdate")})),t.embed.getDuration().then((function(e){t.media.duration=e,Ae.call(t,t.media,"durationchange")})),t.embed.getTextTracks().then((function(e){t.media.textTracks=e,tt.setup.call(t)})),t.embed.on("cuechange",(function(e){var i=e.cues,r=(void 0===i?[]:i).map((function(e){return function(e){var t=document.createDocumentFragment(),i=document.createElement("div");return t.appendChild(i),i.innerHTML=e,t.firstChild.innerText}(e.text)}));tt.updateCues.call(t,r)})),t.embed.on("loaded",(function(){t.embed.getPaused().then((function(e){pt.call(t,!e),e||Ae.call(t,t.media,"playing")})),G(t.embed.element)&&t.supported.ui&&t.embed.element.setAttribute("tabindex",-1)})),t.embed.on("bufferstart",(function(){Ae.call(t,t.media,"waiting")})),t.embed.on("bufferend",(function(){Ae.call(t,t.media,"playing")})),t.embed.on("play",(function(){pt.call(t,!0),Ae.call(t,t.media,"playing")})),t.embed.on("pause",(function(){pt.call(t,!1)})),t.embed.on("timeupdate",(function(e){t.media.seeking=!1,g=e.seconds,Ae.call(t,t.media,"timeupdate")})),t.embed.on("progress",(function(e){t.media.buffered=e.percent,Ae.call(t,t.media,"progress"),1===parseInt(e.percent,10)&&Ae.call(t,t.media,"canplaythrough"),t.embed.getDuration().then((function(e){e!==t.media.duration&&(t.media.duration=e,Ae.call(t,t.media,"durationchange"))}))})),t.embed.on("seeked",(function(){t.media.seeking=!1,Ae.call(t,t.media,"seeked")})),t.embed.on("ended",(function(){t.media.paused=!0,Ae.call(t,t.media,"ended")})),t.embed.on("error",(function(e){t.media.error=e,Ae.call(t,t.media,"error")})),setTimeout((function(){return ut.build.call(t)}),0)}};function ft(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,Ae.call(this,this.media,e?"play":"pause"))}function gt(e){return e.noCookie?"https://www.youtube-nocookie.com":"http:"===window.location.protocol?"http://www.youtube.com":void 0}var yt={setup:function(){var e=this;if(me(this.elements.wrapper,this.config.classNames.embed,!0),R(window.YT)&&U(window.YT.Player))yt.ready.call(this);else{var t=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){U(t)&&t(),yt.ready.call(e)},ht(this.config.urls.youtube.sdk).catch((function(t){e.debug.warn("YouTube API failed to load",t)}))}},getTitle:function(e){var t=this;Je(Le(this.config.urls.youtube.api,e)).then((function(e){if(R(e)){var i=e.height,r=e.width;t.config.title=e.title,ut.setTitle.call(t),t.embed.ratio=[r,i]}Me.call(t)})).catch((function(){Me.call(t)}))},ready:function(){var e=this,t=e.media&&e.media.getAttribute("id");if(Q(t)||!t.startsWith("youtube-")){var i=e.media.getAttribute("src");Q(i)&&(i=e.media.getAttribute(this.config.attributes.embed.id));var r,n=Q(r=i)?null:r.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:r,s="".concat(e.provider,"-").concat(Math.floor(1e4*Math.random())),a=oe("div",{id:s,"data-poster":e.poster});e.media=ce(a,e.media);var o=function(e){return"https://i.ytimg.com/vi/".concat(n,"/").concat(e,"default.jpg")};lt(o("maxres"),121).catch((function(){return lt(o("sd"),121)})).catch((function(){return lt(o("hq"))})).then((function(t){return ut.setPoster.call(e,t.src)})).then((function(t){t.includes("maxres")||(e.elements.poster.style.backgroundSize="cover")})).catch((function(){}));var l=e.config.youtube;e.embed=new window.YT.Player(s,{videoId:n,host:gt(l),playerVars:ne({},{autoplay:e.config.autoplay?1:0,hl:e.config.hl,controls:e.supported.ui?0:1,disablekb:1,playsinline:e.config.fullscreen.iosNative?0:1,cc_load_policy:e.captions.active?1:0,cc_lang_pref:e.config.captions.language,widget_referrer:window?window.location.href:null},l),events:{onError:function(t){if(!e.media.error){var i=t.data;e.media.error={code:i,message:{2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[i]||"An unknown error occured"},Ae.call(e,e.media,"error")}},onPlaybackRateChange:function(t){e.media.playbackRate=t.target.getPlaybackRate(),Ae.call(e,e.media,"ratechange")},onReady:function(t){if(!U(e.media.play)){var i=t.target;yt.getTitle.call(e,n),e.media.play=function(){ft.call(e,!0),i.playVideo()},e.media.pause=function(){ft.call(e,!1),i.pauseVideo()},e.media.stop=function(){i.stopVideo()},e.media.duration=i.getDuration(),e.media.paused=!0,e.media.currentTime=0,Object.defineProperty(e.media,"currentTime",{get:function(){return Number(i.getCurrentTime())},set:function(t){e.paused&&!e.embed.hasPlayed&&e.embed.mute(),e.media.seeking=!0,Ae.call(e,e.media,"seeking"),i.seekTo(t)}}),Object.defineProperty(e.media,"playbackRate",{get:function(){return i.getPlaybackRate()},set:function(e){i.setPlaybackRate(e)}});var r=e.config.volume;Object.defineProperty(e.media,"volume",{get:function(){return r},set:function(t){i.setVolume(100*(r=t)),Ae.call(e,e.media,"volumechange")}});var s=e.config.muted;Object.defineProperty(e.media,"muted",{get:function(){return s},set:function(t){var r=B(t)?t:s;s=r,i[r?"mute":"unMute"](),Ae.call(e,e.media,"volumechange")}}),Object.defineProperty(e.media,"currentSrc",{get:function(){return i.getVideoUrl()}}),Object.defineProperty(e.media,"ended",{get:function(){return e.currentTime===e.duration}});var a=i.getAvailablePlaybackRates();e.options.speed=a.filter((function(t){return e.config.speed.options.includes(t)})),e.supported.ui&&e.media.setAttribute("tabindex",-1),Ae.call(e,e.media,"timeupdate"),Ae.call(e,e.media,"durationchange"),clearInterval(e.timers.buffering),e.timers.buffering=setInterval((function(){e.media.buffered=i.getVideoLoadedFraction(),(null===e.media.lastBuffered||e.media.lastBuffered<e.media.buffered)&&Ae.call(e,e.media,"progress"),e.media.lastBuffered=e.media.buffered,1===e.media.buffered&&(clearInterval(e.timers.buffering),Ae.call(e,e.media,"canplaythrough"))}),200),setTimeout((function(){return ut.build.call(e)}),50)}},onStateChange:function(t){var i=t.target;switch(clearInterval(e.timers.playing),e.media.seeking&&[1,2].includes(t.data)&&(e.media.seeking=!1,Ae.call(e,e.media,"seeked")),t.data){case-1:Ae.call(e,e.media,"timeupdate"),e.media.buffered=i.getVideoLoadedFraction(),Ae.call(e,e.media,"progress");break;case 0:ft.call(e,!1),e.media.loop?(i.stopVideo(),i.playVideo()):Ae.call(e,e.media,"ended");break;case 1:e.config.autoplay||!e.media.paused||e.embed.hasPlayed?(ft.call(e,!0),Ae.call(e,e.media,"playing"),e.timers.playing=setInterval((function(){Ae.call(e,e.media,"timeupdate")}),50),e.media.duration!==i.getDuration()&&(e.media.duration=i.getDuration(),Ae.call(e,e.media,"durationchange"))):e.media.pause();break;case 2:e.muted||e.embed.unMute(),ft.call(e,!1);break;case 3:Ae.call(e,e.media,"waiting")}Ae.call(e,e.elements.container,"statechange",!1,{code:t.data})}}})}}},bt={setup:function(){this.media?(me(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),me(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&me(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=oe("div",{class:this.config.classNames.video}),se(this.media,this.elements.wrapper),this.elements.poster=oe("div",{class:this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?De.setup.call(this):this.isYouTube?yt.setup.call(this):this.isVimeo&&mt.setup.call(this)):this.debug.warn("No media element found!")}},vt=function(){function t(i){var r=this;e(this,t),this.player=i,this.config=i.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise((function(e,t){r.on("loaded",e),r.on("error",t)})),this.load()}return i(t,[{key:"load",value:function(){var e=this;this.enabled&&(R(window.google)&&R(window.google.ima)?this.ready():ht(this.player.config.urls.googleIMA.sdk).then((function(){e.ready()})).catch((function(){e.trigger("error",new Error("Google IMA SDK failed to load"))})))}},{key:"ready",value:function(){var e,t=this;this.enabled||((e=this).manager&&e.manager.destroy(),e.elements.displayContainer&&e.elements.displayContainer.destroy(),e.elements.container.remove()),this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then((function(){t.clearSafetyTimer("onAdsManagerLoaded()")})),this.listeners(),this.setupIMA()}},{key:"setupIMA",value:function(){var e=this;this.elements.container=oe("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playsinline),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container,this.player.media),this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,(function(t){return e.onAdsManagerLoaded(t)}),!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,(function(t){return e.onAdError(t)}),!1),this.requestAds()}},{key:"requestAds",value:function(){var e=this.player.elements.container;try{var t=new google.ima.AdsRequest;t.adTagUrl=this.tagUrl,t.linearAdSlotWidth=e.offsetWidth,t.linearAdSlotHeight=e.offsetHeight,t.nonLinearAdSlotWidth=e.offsetWidth,t.nonLinearAdSlotHeight=e.offsetHeight,t.forceNonLinearFullSlot=!1,t.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(t)}catch(e){this.onAdError(e)}}},{key:"pollCountdown",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!t)return clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text");var i=function(){var t=Xe(Math.max(e.manager.getRemainingTime(),0)),i="".concat(Be("advertisement",e.player.config)," - ").concat(t);e.elements.container.setAttribute("data-badge-text",i)};this.countdownTimer=setInterval(i,100)}},{key:"onAdsManagerLoaded",value:function(e){var t=this;if(this.enabled){var i=new google.ima.AdsRenderingSettings;i.restoreCustomPlaybackStateOnAdBreakComplete=!0,i.enablePreloading=!0,this.manager=e.getAdsManager(this.player,i),this.cuePoints=this.manager.getCuePoints(),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,(function(e){return t.onAdError(e)})),Object.keys(google.ima.AdEvent.Type).forEach((function(e){t.manager.addEventListener(google.ima.AdEvent.Type[e],(function(e){return t.onAdEvent(e)}))})),this.trigger("loaded")}}},{key:"addCuePoints",value:function(){var e=this;Q(this.cuePoints)||this.cuePoints.forEach((function(t){if(0!==t&&-1!==t&&t<e.player.duration){var i=e.player.elements.progress;if(G(i)){var r=100/e.player.duration*t,n=oe("span",{class:e.player.config.classNames.cues});n.style.left="".concat(r.toString(),"%"),i.appendChild(n)}}}))}},{key:"onAdEvent",value:function(e){var t=this,i=this.player.elements.container,r=e.getAd(),n=e.getAdData();switch(function(e){Ae.call(t.player,t.player.media,"ads".concat(e.replace(/_/g,"").toLowerCase()))}(e.type),e.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),this.pollCountdown(!0),r.isLinear()||(r.width=i.offsetWidth,r.height=i.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:this.manager.setVolume(this.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.player.ended?this.loadAds():this.loader.contentComplete();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.LOG:n.adError&&this.player.debug.warn("Non-fatal ad error: ".concat(n.adError.getMessage()))}}},{key:"onAdError",value:function(e){this.cancel(),this.player.debug.warn("Ads error",e)}},{key:"listeners",value:function(){var e,t=this,i=this.player.elements.container;this.player.on("canplay",(function(){t.addCuePoints()})),this.player.on("ended",(function(){t.loader.contentComplete()})),this.player.on("timeupdate",(function(){e=t.player.currentTime})),this.player.on("seeked",(function(){var i=t.player.currentTime;Q(t.cuePoints)||t.cuePoints.forEach((function(r,n){e<r&&r<i&&(t.manager.discardAdBreak(),t.cuePoints.splice(n,1))}))})),window.addEventListener("resize",(function(){t.manager&&t.manager.resize(i.offsetWidth,i.offsetHeight,google.ima.ViewMode.NORMAL)}))}},{key:"play",value:function(){var e=this,t=this.player.elements.container;this.managerPromise||this.resumeContent(),this.managerPromise.then((function(){e.manager.setVolume(e.player.volume),e.elements.displayContainer.initialize();try{e.initialized||(e.manager.init(t.offsetWidth,t.offsetHeight,google.ima.ViewMode.NORMAL),e.manager.start()),e.initialized=!0}catch(t){e.onAdError(t)}})).catch((function(){}))}},{key:"resumeContent",value:function(){this.elements.container.style.zIndex="",this.playing=!1,Ve(this.player.media.play())}},{key:"pauseContent",value:function(){this.elements.container.style.zIndex=3,this.playing=!0,this.player.media.pause()}},{key:"cancel",value:function(){this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()}},{key:"loadAds",value:function(){var e=this;this.managerPromise.then((function(){e.manager&&e.manager.destroy(),e.managerPromise=new Promise((function(t){e.on("loaded",t),e.player.debug.log(e.manager)})),e.initialized=!1,e.requestAds()})).catch((function(){}))}},{key:"trigger",value:function(e){for(var t=this,i=arguments.length,r=new Array(i>1?i-1:0),n=1;n<i;n++)r[n-1]=arguments[n];var s=this.events[e];J(s)&&s.forEach((function(e){U(e)&&e.apply(t,r)}))}},{key:"on",value:function(e,t){return J(this.events[e])||(this.events[e]=[]),this.events[e].push(t),this}},{key:"startSafetyTimer",value:function(e,t){var i=this;this.player.debug.log("Safety timer invoked from: ".concat(t)),this.safetyTimer=setTimeout((function(){i.cancel(),i.clearSafetyTimer("startSafetyTimer()")}),e)}},{key:"clearSafetyTimer",value:function(e){I(this.safetyTimer)||(this.player.debug.log("Safety timer cleared from: ".concat(e)),clearTimeout(this.safetyTimer),this.safetyTimer=null)}},{key:"enabled",get:function(){var e=this.config;return this.player.isHTML5&&this.player.isVideo&&e.enabled&&(!Q(e.publisherId)||Z(e.tagUrl))}},{key:"tagUrl",get:function(){var e=this.config;if(Z(e.tagUrl))return e.tagUrl;var t={AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:e.publisherId};return"".concat("https://go.aniview.com/api/adserver6/vast/","?").concat(et(t))}}]),t}(),wt=function(e,t){var i={};return e>t.width/t.height?(i.width=t.width,i.height=1/e*t.width):(i.height=t.height,i.width=e*t.height),i},Pt=function(){function t(i){e(this,t),this.player=i,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}return i(t,[{key:"load",value:function(){var e=this;this.player.elements.display.seekTooltip&&(this.player.elements.display.seekTooltip.hidden=this.enabled),this.enabled&&this.getThumbnails().then((function(){e.enabled&&(e.render(),e.determineContainerAutoSizing(),e.loaded=!0)}))}},{key:"getThumbnails",value:function(){var e=this;return new Promise((function(t){var i=e.player.config.previewThumbnails.src;if(Q(i))throw new Error("Missing previewThumbnails.src config attribute");var r=function(){e.thumbnails.sort((function(e,t){return e.height-t.height})),e.player.debug.log("Preview thumbnails",e.thumbnails),t()};if(U(i))i((function(t){e.thumbnails=t,r()}));else{var n=(H(i)?[i]:i).map((function(t){return e.getThumbnail(t)}));Promise.all(n).then(r)}}))}},{key:"getThumbnail",value:function(e){var t=this;return new Promise((function(i){Je(e).then((function(r){var n,s,o={frames:(n=r,s=[],n.split(/\r\n\r\n|\n\n|\r\r/).forEach((function(e){var t={};e.split(/\r\n|\n|\r/).forEach((function(e){if(z(t.startTime)){if(!Q(e.trim())&&Q(t.text)){var i=e.trim().split("#xywh="),r=a(i,1);if(t.text=r[0],i[1]){var n=a(i[1].split(","),4);t.x=n[0],t.y=n[1],t.w=n[2],t.h=n[3]}}}else{var s=e.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/);s&&(t.startTime=60*Number(s[1]||0)*60+60*Number(s[2])+Number(s[3])+Number("0.".concat(s[4])),t.endTime=60*Number(s[6]||0)*60+60*Number(s[7])+Number(s[8])+Number("0.".concat(s[9])))}})),t.text&&s.push(t)})),s),height:null,urlPrefix:""};o.frames[0].text.startsWith("/")||o.frames[0].text.startsWith("http://")||o.frames[0].text.startsWith("https://")||(o.urlPrefix=e.substring(0,e.lastIndexOf("/")+1));var l=new Image;l.onload=function(){o.height=l.naturalHeight,o.width=l.naturalWidth,t.thumbnails.push(o),i()},l.src=o.urlPrefix+o.frames[0].text}))}))}},{key:"startMove",value:function(e){if(this.loaded&&K(e)&&["touchmove","mousemove"].includes(e.type)&&this.player.media.duration){if("touchmove"===e.type)this.seekTime=this.player.media.duration*(this.player.elements.inputs.seek.value/100);else{var t=this.player.elements.progress.getBoundingClientRect();this.seekTime=this.player.media.duration*(100/t.width*(e.pageX-t.left)/100),this.seekTime<0&&(this.seekTime=0),this.seekTime>this.player.media.duration-1&&(this.seekTime=this.player.media.duration-1),this.mousePosX=e.pageX,this.elements.thumb.time.innerText=Xe(this.seekTime)}this.showImageAtCurrentTime()}}},{key:"endMove",value:function(){this.toggleThumbContainer(!1,!0)}},{key:"startScrubbing",value:function(e){(I(e.button)||!1===e.button||0===e.button)&&(this.mouseDown=!0,this.player.media.duration&&(this.toggleScrubbingContainer(!0),this.toggleThumbContainer(!1,!0),this.showImageAtCurrentTime()))}},{key:"endScrubbing",value:function(){var e=this;this.mouseDown=!1,Math.ceil(this.lastTime)===Math.ceil(this.player.media.currentTime)?this.toggleScrubbingContainer(!1):_e.call(this.player,this.player.media,"timeupdate",(function(){e.mouseDown||e.toggleScrubbingContainer(!1)}))}},{key:"listeners",value:function(){var e=this;this.player.on("play",(function(){e.toggleThumbContainer(!1,!0)})),this.player.on("seeked",(function(){e.toggleThumbContainer(!1)})),this.player.on("timeupdate",(function(){e.lastTime=e.player.media.currentTime}))}},{key:"render",value:function(){this.elements.thumb.container=oe("div",{class:this.player.config.classNames.previewThumbnails.thumbContainer}),this.elements.thumb.imageContainer=oe("div",{class:this.player.config.classNames.previewThumbnails.imageContainer}),this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer);var e=oe("div",{class:this.player.config.classNames.previewThumbnails.timeContainer});this.elements.thumb.time=oe("span",{},"00:00"),e.appendChild(this.elements.thumb.time),this.elements.thumb.container.appendChild(e),G(this.player.elements.progress)&&this.player.elements.progress.appendChild(this.elements.thumb.container),this.elements.scrubbing.container=oe("div",{class:this.player.config.classNames.previewThumbnails.scrubbingContainer}),this.player.elements.wrapper.appendChild(this.elements.scrubbing.container)}},{key:"destroy",value:function(){this.elements.thumb.container&&this.elements.thumb.container.remove(),this.elements.scrubbing.container&&this.elements.scrubbing.container.remove()}},{key:"showImageAtCurrentTime",value:function(){var e=this;this.mouseDown?this.setScrubbingContainerSize():this.setThumbContainerSizeAndPos();var t=this.thumbnails[0].frames.findIndex((function(t){return e.seekTime>=t.startTime&&e.seekTime<=t.endTime})),i=t>=0,r=0;this.mouseDown||this.toggleThumbContainer(i),i&&(this.thumbnails.forEach((function(i,n){e.loadedImages.includes(i.frames[t].text)&&(r=n)})),t!==this.showingThumb&&(this.showingThumb=t,this.loadImage(r)))}},{key:"loadImage",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=this.showingThumb,r=this.thumbnails[t],n=r.urlPrefix,s=r.frames[i],a=r.frames[i].text,o=n+a;if(this.currentImageElement&&this.currentImageElement.dataset.filename===a)this.showImage(this.currentImageElement,s,t,i,a,!1),this.currentImageElement.dataset.index=i,this.removeOldImages(this.currentImageElement);else{this.loadingImage&&this.usingSprites&&(this.loadingImage.onload=null);var l=new Image;l.src=o,l.dataset.index=i,l.dataset.filename=a,this.showingThumbFilename=a,this.player.debug.log("Loading image: ".concat(o)),l.onload=function(){return e.showImage(l,s,t,i,a,!0)},this.loadingImage=l,this.removeOldImages(l)}}},{key:"showImage",value:function(e,t,i,r,n){var s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];this.player.debug.log("Showing thumb: ".concat(n,". num: ").concat(r,". qual: ").concat(i,". newimg: ").concat(s)),this.setImageSizeAndOffset(e,t),s&&(this.currentImageContainer.appendChild(e),this.currentImageElement=e,this.loadedImages.includes(n)||this.loadedImages.push(n)),this.preloadNearby(r,!0).then(this.preloadNearby(r,!1)).then(this.getHigherQuality(i,e,t,n))}},{key:"removeOldImages",value:function(e){var t=this;Array.from(this.currentImageContainer.children).forEach((function(i){if("img"===i.tagName.toLowerCase()){var r=t.usingSprites?500:1e3;if(i.dataset.index!==e.dataset.index&&!i.dataset.deleting){i.dataset.deleting=!0;var n=t.currentImageContainer;setTimeout((function(){n.removeChild(i),t.player.debug.log("Removing thumb: ".concat(i.dataset.filename))}),r)}}}))}},{key:"preloadNearby",value:function(e){var t=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new Promise((function(r){setTimeout((function(){var n=t.thumbnails[0].frames[e].text;if(t.showingThumbFilename===n){var s;s=i?t.thumbnails[0].frames.slice(e):t.thumbnails[0].frames.slice(0,e).reverse();var a=!1;s.forEach((function(e){var i=e.text;if(i!==n&&!t.loadedImages.includes(i)){a=!0,t.player.debug.log("Preloading thumb filename: ".concat(i));var s=t.thumbnails[0].urlPrefix+i,o=new Image;o.src=s,o.onload=function(){t.player.debug.log("Preloaded thumb filename: ".concat(i)),t.loadedImages.includes(i)||t.loadedImages.push(i),r()}}})),a||r()}}),300)}))}},{key:"getHigherQuality",value:function(e,t,i,r){var n=this;if(e<this.thumbnails.length-1){var s=t.naturalHeight;this.usingSprites&&(s=i.h),s<this.thumbContainerHeight&&setTimeout((function(){n.showingThumbFilename===r&&(n.player.debug.log("Showing higher quality thumb for: ".concat(r)),n.loadImage(e+1))}),300)}}},{key:"toggleThumbContainer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.player.config.classNames.previewThumbnails.thumbContainerShown;this.elements.thumb.container.classList.toggle(i,e),!e&&t&&(this.showingThumb=null,this.showingThumbFilename=null)}},{key:"toggleScrubbingContainer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.player.config.classNames.previewThumbnails.scrubbingContainerShown;this.elements.scrubbing.container.classList.toggle(t,e),e||(this.showingThumb=null,this.showingThumbFilename=null)}},{key:"determineContainerAutoSizing",value:function(){(this.elements.thumb.imageContainer.clientHeight>20||this.elements.thumb.imageContainer.clientWidth>20)&&(this.sizeSpecifiedInCSS=!0)}},{key:"setThumbContainerSizeAndPos",value:function(){if(this.sizeSpecifiedInCSS){if(this.elements.thumb.imageContainer.clientHeight>20&&this.elements.thumb.imageContainer.clientWidth<20){var e=Math.floor(this.elements.thumb.imageContainer.clientHeight*this.thumbAspectRatio);this.elements.thumb.imageContainer.style.width="".concat(e,"px")}else if(this.elements.thumb.imageContainer.clientHeight<20&&this.elements.thumb.imageContainer.clientWidth>20){var t=Math.floor(this.elements.thumb.imageContainer.clientWidth/this.thumbAspectRatio);this.elements.thumb.imageContainer.style.height="".concat(t,"px")}}else{var i=Math.floor(this.thumbContainerHeight*this.thumbAspectRatio);this.elements.thumb.imageContainer.style.height="".concat(this.thumbContainerHeight,"px"),this.elements.thumb.imageContainer.style.width="".concat(i,"px")}this.setThumbContainerPos()}},{key:"setThumbContainerPos",value:function(){var e=this.player.elements.progress.getBoundingClientRect(),t=this.player.elements.container.getBoundingClientRect(),i=this.elements.thumb.container,r=t.left-e.left+10,n=t.right-e.left-i.clientWidth-10,s=this.mousePosX-e.left-i.clientWidth/2;s<r&&(s=r),s>n&&(s=n),i.style.left="".concat(s,"px")}},{key:"setScrubbingContainerSize",value:function(){var e=wt(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight}),t=e.height;this.elements.scrubbing.container.style.width="".concat(e.width,"px"),this.elements.scrubbing.container.style.height="".concat(t,"px")}},{key:"setImageSizeAndOffset",value:function(e,t){if(this.usingSprites){var i=this.thumbContainerHeight/t.h;e.style.height="".concat(e.naturalHeight*i,"px"),e.style.width="".concat(e.naturalWidth*i,"px"),e.style.left="-".concat(t.x*i,"px"),e.style.top="-".concat(t.y*i,"px")}}},{key:"enabled",get:function(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}},{key:"currentImageContainer",get:function(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}},{key:"usingSprites",get:function(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}},{key:"thumbAspectRatio",get:function(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}},{key:"thumbContainerHeight",get:function(){return this.mouseDown?wt(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight}).height:this.sizeSpecifiedInCSS?this.elements.thumb.imageContainer.clientHeight:Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}},{key:"currentImageElement",get:function(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement},set:function(e){this.mouseDown?this.currentScrubbingImageElement=e:this.currentThumbnailImageElement=e}}]),t}(),kt={insertElements:function(e,t){var i=this;H(t)?le(e,this.media,{src:t}):J(t)&&t.forEach((function(t){le(e,i.media,t)}))},change:function(e){var t=this;re(e,"sources.length")?(De.cancelRequests.call(this),this.destroy.call(this,(function(){t.options.quality=[],ue(t.media),t.media=null,G(t.elements.container)&&t.elements.container.removeAttribute("class");var i=e.sources,r=e.type,n=a(i,1)[0],s=n.provider,o=void 0===s?nt.html5:s,l="html5"===o?r:"div",u="html5"===o?{}:{src:n.src};Object.assign(t,{provider:o,type:r,supported:ke.check(r,o,t.config.playsinline),media:oe(l,u)}),t.elements.container.appendChild(t.media),B(e.autoplay)&&(t.config.autoplay=e.autoplay),t.isHTML5&&(t.config.crossorigin&&t.media.setAttribute("crossorigin",""),t.config.autoplay&&t.media.setAttribute("autoplay",""),Q(e.poster)||(t.poster=e.poster),t.config.loop.active&&t.media.setAttribute("loop",""),t.config.muted&&t.media.setAttribute("muted",""),t.config.playsinline&&t.media.setAttribute("playsinline","")),ut.addStyleHook.call(t),t.isHTML5&&kt.insertElements.call(t,"source",i),t.config.title=e.title,bt.setup.call(t),t.isHTML5&&Object.keys(e).includes("tracks")&&kt.insertElements.call(t,"track",e.tracks),(t.isHTML5||t.isEmbed&&!t.supported.ui)&&ut.build.call(t),t.isHTML5&&t.media.load(),Q(e.previewThumbnails)||(Object.assign(t.config.previewThumbnails,e.previewThumbnails),t.previewThumbnails&&t.previewThumbnails.loaded&&(t.previewThumbnails.destroy(),t.previewThumbnails=null),t.config.previewThumbnails.enabled&&(t.previewThumbnails=new Pt(t))),t.fullscreen.update()}),!0)):this.debug.warn("Invalid source format")}},Ot=function(){function t(i,r){var n=this;if(e(this,t),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=ke.touch,this.media=i,H(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||W(this.media)||J(this.media))&&(this.media=this.media[0]),this.config=ne({},it,t.defaults,r||{},function(){try{return JSON.parse(n.media.getAttribute("data-plyr-config"))}catch(e){return{}}}()),this.elements={container:null,fullscreen:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new at(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",ke),!I(this.media)&&G(this.media))if(this.media.plyr)this.debug.warn("Target already setup");else if(this.config.enabled)if(ke.check().api){var s=this.media.cloneNode(!0);s.autoplay=!1,this.elements.original=s;var a=this.media.tagName.toLowerCase(),o=null,l=null;switch(a){case"div":if(o=this.media.querySelector("iframe"),G(o)){if(l=Qe(o.getAttribute("src")),this.provider=function(e){return/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(e)?nt.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(e)?nt.vimeo:null}(l.toString()),this.elements.container=this.media,this.media=o,this.elements.container.className="",l.search.length){var u=["1","true"];u.includes(l.searchParams.get("autoplay"))&&(this.config.autoplay=!0),u.includes(l.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=u.includes(l.searchParams.get("playsinline")),this.config.youtube.hl=l.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(Q(this.provider)||!Object.keys(nt).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type="video";break;case"video":case"audio":this.type=a,this.provider=nt.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=ke.check(this.type,this.provider,this.config.playsinline),this.supported.api?(this.eventListeners=[],this.listeners=new dt(this),this.storage=new Ue(this),this.media.plyr=this,G(this.elements.container)||(this.elements.container=oe("div",{tabindex:0}),se(this.media,this.elements.container)),ut.migrateStyles.call(this),ut.addStyleHook.call(this),bt.setup.call(this),this.config.debug&&Ce.call(this,this.elements.container,this.config.events.join(" "),(function(e){n.debug.log("event: ".concat(e.type))})),this.fullscreen=new ot(this),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&ut.build.call(this),this.listeners.container(),this.listeners.global(),this.config.ads.enabled&&(this.ads=new vt(this)),this.isHTML5&&this.config.autoplay&&setTimeout((function(){return Ve(n.play())}),10),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new Pt(this))):this.debug.error("Setup failed: no support")}else this.debug.error("Setup failed: no support");else this.debug.error("Setup failed: disabled by config");else this.debug.error("Setup failed: no suitable element passed")}return i(t,[{key:"play",value:function(){var e=this;return U(this.media.play)?(this.ads&&this.ads.enabled&&this.ads.managerPromise.then((function(){return e.ads.play()})).catch((function(){return Ve(e.media.play())})),this.media.play()):null}},{key:"pause",value:function(){return this.playing&&U(this.media.pause)?this.media.pause():null}},{key:"togglePlay",value:function(e){return(B(e)?e:!this.playing)?this.play():this.pause()}},{key:"stop",value:function(){this.isHTML5?(this.pause(),this.restart()):U(this.media.stop)&&this.media.stop()}},{key:"restart",value:function(){this.currentTime=0}},{key:"rewind",value:function(e){this.currentTime-=z(e)?e:this.config.seekTime}},{key:"forward",value:function(e){this.currentTime+=z(e)?e:this.config.seekTime}},{key:"increaseVolume",value:function(e){this.volume=(this.media.muted?0:this.volume)+(z(e)?e:0)}},{key:"decreaseVolume",value:function(e){this.increaseVolume(-e)}},{key:"toggleCaptions",value:function(e){tt.toggle.call(this,e,!1)}},{key:"airplay",value:function(){ke.airplay&&this.media.webkitShowPlaybackTargetPicker()}},{key:"toggleControls",value:function(e){if(this.supported.ui&&!this.isAudio){var t=fe(this.elements.container,this.config.classNames.hideControls),i=me(this.elements.container,this.config.classNames.hideControls,void 0===e?void 0:!e);return i&&J(this.config.controls)&&this.config.controls.includes("settings")&&!Q(this.config.settings)&&Ze.toggleMenu.call(this,!1),i!==t&&Ae.call(this,this.media,i?"controlshidden":"controlsshown"),!i}return!1}},{key:"on",value:function(e,t){Ce.call(this,this.elements.container,e,t)}},{key:"once",value:function(e,t){_e.call(this,this.elements.container,e,t)}},{key:"off",value:function(e,t){xe(this.elements.container,e,t)}},{key:"destroy",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.ready){var r=function(){document.body.style.overflow="",t.embed=null,i?(Object.keys(t.elements).length&&(ue(t.elements.buttons.play),ue(t.elements.captions),ue(t.elements.controls),ue(t.elements.wrapper),t.elements.buttons.play=null,t.elements.captions=null,t.elements.controls=null,t.elements.wrapper=null),U(e)&&e()):(Ee.call(t),ce(t.elements.original,t.elements.container),Ae.call(t,t.elements.original,"destroyed",!0),U(e)&&e.call(t.elements.original),t.ready=!1,setTimeout((function(){t.elements=null,t.media=null}),200))};this.stop(),clearTimeout(this.timers.loading),clearTimeout(this.timers.controls),clearTimeout(this.timers.resized),this.isHTML5?(ut.toggleNativeControls.call(this,!0),r()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),null!==this.embed&&U(this.embed.destroy)&&this.embed.destroy(),r()):this.isVimeo&&(null!==this.embed&&this.embed.unload().then(r),setTimeout(r,200))}}},{key:"supports",value:function(e){return ke.mime.call(this,e)}},{key:"isHTML5",get:function(){return this.provider===nt.html5}},{key:"isEmbed",get:function(){return this.isYouTube||this.isVimeo}},{key:"isYouTube",get:function(){return this.provider===nt.youtube}},{key:"isVimeo",get:function(){return this.provider===nt.vimeo}},{key:"isVideo",get:function(){return"video"===this.type}},{key:"isAudio",get:function(){return"audio"===this.type}},{key:"playing",get:function(){return Boolean(this.ready&&!this.paused&&!this.ended)}},{key:"paused",get:function(){return Boolean(this.media.paused)}},{key:"stopped",get:function(){return Boolean(this.paused&&0===this.currentTime)}},{key:"ended",get:function(){return Boolean(this.media.ended)}},{key:"currentTime",set:function(e){if(this.duration){var t=z(e)&&e>0;this.media.currentTime=t?Math.min(e,this.duration):0,this.debug.log("Seeking to ".concat(this.currentTime," seconds"))}},get:function(){return Number(this.media.currentTime)}},{key:"buffered",get:function(){var e=this.media.buffered;return z(e)?e:e&&e.length&&this.duration>0?e.end(0)/this.duration:0}},{key:"seeking",get:function(){return Boolean(this.media.seeking)}},{key:"duration",get:function(){var e=parseFloat(this.config.duration),t=(this.media||{}).duration,i=z(t)&&t!==1/0?t:0;return e||i}},{key:"volume",set:function(e){var t=e;H(t)&&(t=Number(t)),z(t)||(t=this.storage.get("volume")),z(t)||(t=this.config.volume),t>1&&(t=1),t<0&&(t=0),this.config.volume=t,this.media.volume=t,!Q(e)&&this.muted&&t>0&&(this.muted=!1)},get:function(){return Number(this.media.volume)}},{key:"muted",set:function(e){var t=e;B(t)||(t=this.storage.get("muted")),B(t)||(t=this.config.muted),this.config.muted=t,this.media.muted=t},get:function(){return Boolean(this.media.muted)}},{key:"hasAudio",get:function(){return!this.isHTML5||!!this.isAudio||Boolean(this.media.mozHasAudio)||Boolean(this.media.webkitAudioDecodedByteCount)||Boolean(this.media.audioTracks&&this.media.audioTracks.length)}},{key:"speed",set:function(e){var t=this,i=null;z(e)&&(i=e),z(i)||(i=this.storage.get("speed")),z(i)||(i=this.config.speed.selected),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:255;return Math.min(Math.max(e,t),i)}(i,this.minimumSpeed,this.maximumSpeed),this.config.speed.selected=i,setTimeout((function(){t.media.playbackRate=i}),0)},get:function(){return Number(this.media.playbackRate)}},{key:"minimumSpeed",get:function(){return this.isYouTube?Math.min.apply(Math,o(this.options.speed)):this.isVimeo?.5:.0625}},{key:"maximumSpeed",get:function(){return this.isYouTube?Math.max.apply(Math,o(this.options.speed)):this.isVimeo?2:16}},{key:"quality",set:function(e){var t=this.config.quality,i=this.options.quality;if(i.length){var r=[!Q(e)&&Number(e),this.storage.get("quality"),t.selected,t.default].find(z),n=!0;if(!i.includes(r)){var s=function(e,t){return J(e)&&e.length?e.reduce((function(e,i){return Math.abs(i-t)<Math.abs(e-t)?i:e})):null}(i,r);this.debug.warn("Unsupported quality option: ".concat(r,", using ").concat(s," instead")),r=s,n=!1}t.selected=r,this.media.quality=r,n&&this.storage.set({quality:r})}},get:function(){return this.media.quality}},{key:"loop",set:function(e){var t=B(e)?e:this.config.loop.active;this.config.loop.active=t,this.media.loop=t},get:function(){return Boolean(this.media.loop)}},{key:"source",set:function(e){kt.change.call(this,e)},get:function(){return this.media.currentSrc}},{key:"download",get:function(){var e=this.config.urls.download;return Z(e)?e:this.source},set:function(e){Z(e)&&(this.config.urls.download=e,Ze.setDownloadUrl.call(this))}},{key:"poster",set:function(e){this.isVideo?ut.setPoster.call(this,e,!1).catch((function(){})):this.debug.warn("Poster can only be set for video")},get:function(){return this.isVideo?this.media.getAttribute("poster")||this.media.getAttribute("data-poster"):null}},{key:"ratio",get:function(){if(!this.isVideo)return null;var e=Se(qe.call(this));return J(e)?e.join(":"):e},set:function(e){this.isVideo?H(e)&&$e(e)?(this.config.ratio=e,Me.call(this)):this.debug.error("Invalid aspect ratio specified (".concat(e,")")):this.debug.warn("Aspect ratio can only be set for video")}},{key:"autoplay",set:function(e){var t=B(e)?e:this.config.autoplay;this.config.autoplay=t},get:function(){return Boolean(this.config.autoplay)}},{key:"currentTrack",set:function(e){tt.set.call(this,e,!1)},get:function(){var e=this.captions;return e.toggled?e.currentTrack:-1}},{key:"language",set:function(e){tt.setLanguage.call(this,e,!1)},get:function(){return(tt.getCurrentTrack.call(this)||{}).language}},{key:"pip",set:function(e){if(ke.pip){var t=B(e)?e:!this.pip;U(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(t?rt:"inline"),U(this.media.requestPictureInPicture)&&(!this.pip&&t?this.media.requestPictureInPicture():this.pip&&!t&&document.exitPictureInPicture())}},get:function(){return ke.pip?Q(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===rt:null}}],[{key:"supported",value:function(e,t,i){return ke.check(e,t,i)}},{key:"loadSprite",value:function(e,t){return We(e,t)}},{key:"setup",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null;return H(e)?r=Array.from(document.querySelectorAll(e)):W(e)?r=Array.from(e):J(e)&&(r=e.filter(G)),Q(r)?null:r.map((function(e){return new t(e,i)}))}}]),t}();return Ot.defaults=JSON.parse(JSON.stringify(it)),Ot}())},"ct+p":function(e,t,i){"use strict";i.r(t),i.d(t,"HomeModule",(function(){return hr}));var r=i("OvW/"),n=i("fD80"),s=i("2kYt"),a=i("sEIs"),o=i("c/iL"),l=i.n(o),u=i("EM62");let d=(()=>{class e{constructor(){}create(e){return new l.a(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=u.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),c=(()=>{class e{}return e.\u0275mod=u.Hb({type:e}),e.\u0275inj=u.Gb({factory:function(t){return new(t||e)},imports:[[s.c]]}),e})();const h=function(e){return{spin:e}};let p=(()=>{class e{constructor(){this.iconClass=!0,this.path="M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z",this.spin=!1}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=u.Db({type:e,selectors:[["plopdown-icon"]],hostVars:2,hostBindings:function(e,t){2&e&&u.Bb("icon",t.iconClass)},inputs:{path:"path",spin:"spin"},decls:2,vars:4,consts:[["version","1.1","viewBox","0 0 24 24",1,"mdi",3,"ngClass"],["d","M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z"]],template:function(e,t){1&e&&(u.ac(),u.Pb(0,"svg",0),u.Kb(1,"path",1),u.Ob()),2&e&&(u.fc("ngClass",u.hc(2,h,t.spin)),u.zb(1),u.Ab("d",t.path))},directives:[s.q],styles:["@-webkit-keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}[_nghost-%COMP%]{display:inline}path[_ngcontent-%COMP%]{fill:currentColor}.spin[_ngcontent-%COMP%]{-webkit-animation:spin 3s ease-out infinite;animation:spin 3s ease-out infinite}"]}),e})();var m=i("IdLP"),f=i("FU6l"),g=i("YtkY"),y=i("X0qr"),b=i("GoAz");function v(e,t){return new m.a(i=>{const r=e.length;if(0===r)return void i.complete();const n=new Array(r);let s=0,a=0;for(let o=0;o<r;o++){const l=Object(b.a)(e[o]);let u=!1;i.add(l.subscribe({next:e=>{u||(u=!0,a++),n[o]=e},error:e=>i.error(e),complete:()=>{s++,s!==r&&u||(a===r&&i.next(t?t.reduce((e,t,i)=>(e[t]=n[i],e),{}):n),i.complete())}}))}})}const w=new u.q("NgValueAccessor"),P={provide:w,useExisting:Object(u.S)(()=>k),multi:!0};let k=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(u.Jb(u.D),u.Jb(u.l))},e.\u0275dir=u.Eb({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,t){1&e&&u.Xb("change",(function(e){return t.onChange(e.target.checked)}))("blur",(function(){return t.onTouched()}))},features:[u.yb([P])]}),e})();const O={provide:w,useExisting:Object(u.S)(()=>C),multi:!0},T=new u.q("CompositionEventMode");let C=(()=>{class e{constructor(e,t,i){this._renderer=e,this._elementRef=t,this._compositionMode=i,this.onChange=e=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=Object(s.K)()?Object(s.K)().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return e.\u0275fac=function(t){return new(t||e)(u.Jb(u.D),u.Jb(u.l),u.Jb(T,8))},e.\u0275dir=u.Eb({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&u.Xb("input",(function(e){return t._handleInput(e.target.value)}))("blur",(function(){return t.onTouched()}))("compositionstart",(function(){return t._compositionStart()}))("compositionend",(function(e){return t._compositionEnd(e.target.value)}))},features:[u.yb([O])]}),e})(),x=(()=>{class e{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=u.Eb({type:e}),e})(),_=(()=>{class e extends x{get formDirective(){return null}get path(){return null}}return e.\u0275fac=function(t){return A(t||e)},e.\u0275dir=u.Eb({type:e,features:[u.wb]}),e})();const A=u.Rb(_);function E(){throw new Error("unimplemented")}class j extends x{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return E()}get asyncValidator(){return E()}}class V{constructor(e){this._cd=e}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let $=(()=>{class e extends V{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(u.Jb(j,2))},e.\u0275dir=u.Eb({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&u.Bb("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[u.wb]}),e})(),S=(()=>{class e extends V{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(u.Jb(_,2))},e.\u0275dir=u.Eb({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(e,t){2&e&&u.Bb("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[u.wb]}),e})();function q(e){return null==e||0===e.length}const M=new u.q("NgValidators"),D=new u.q("NgAsyncValidators"),N=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class L{static min(e){return t=>{if(q(t.value)||q(e))return null;const i=parseFloat(t.value);return!isNaN(i)&&i<e?{min:{min:e,actual:t.value}}:null}}static max(e){return t=>{if(q(t.value)||q(e))return null;const i=parseFloat(t.value);return!isNaN(i)&&i>e?{max:{max:e,actual:t.value}}:null}}static required(e){return q(e.value)?{required:!0}:null}static requiredTrue(e){return!0===e.value?null:{required:!0}}static email(e){return q(e.value)||N.test(e.value)?null:{email:!0}}static minLength(e){return t=>{if(q(t.value))return null;const i=t.value?t.value.length:0;return i<e?{minlength:{requiredLength:e,actualLength:i}}:null}}static maxLength(e){return t=>{const i=t.value?t.value.length:0;return i>e?{maxlength:{requiredLength:e,actualLength:i}}:null}}static pattern(e){if(!e)return L.nullValidator;let t,i;return"string"==typeof e?(i="","^"!==e.charAt(0)&&(i+="^"),i+=e,"$"!==e.charAt(e.length-1)&&(i+="$"),t=new RegExp(i)):(i=e.toString(),t=e),e=>{if(q(e.value))return null;const r=e.value;return t.test(r)?null:{pattern:{requiredPattern:i,actualValue:r}}}}static nullValidator(e){return null}static compose(e){if(!e)return null;const t=e.filter(F);return 0==t.length?null:function(e){return R(function(e,t){return t.map(t=>t(e))}(e,t))}}static composeAsync(e){if(!e)return null;const t=e.filter(F);return 0==t.length?null:function(e){return function(...e){if(1===e.length){const t=e[0];if(Object(f.a)(t))return v(t,null);if(Object(y.a)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return v(e.map(e=>t[e]),e)}}if("function"==typeof e[e.length-1]){const t=e.pop();return v(e=1===e.length&&Object(f.a)(e[0])?e[0]:e,null).pipe(Object(g.a)(e=>t(...e)))}return v(e,null)}(function(e,t){return t.map(t=>t(e))}(e,t).map(I)).pipe(Object(g.a)(R))}}}function F(e){return null!=e}function I(e){const t=Object(u.qb)(e)?Object(b.a)(e):e;if(!Object(u.pb)(t))throw new Error("Expected validator to return Promise or Observable.");return t}function R(e){let t={};return e.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function z(e){return e.validate?t=>e.validate(t):e}function H(e){return e.validate?t=>e.validate(t):e}const B={provide:w,useExisting:Object(u.S)(()=>U),multi:!0};let U=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(u.Jb(u.D),u.Jb(u.l))},e.\u0275dir=u.Eb({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&u.Xb("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[u.yb([B])]}),e})();const J={provide:w,useExisting:Object(u.S)(()=>G),multi:!0};let W=(()=>{class e{constructor(){this._accessors=[]}add(e,t){this._accessors.push([e,t])}remove(e){for(let t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}select(e){this._accessors.forEach(t=>{this._isSameGroup(t,e)&&t[1]!==e&&t[1].fireUncheck(e.value)})}_isSameGroup(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=u.Fb({token:e,factory:e.\u0275fac}),e})(),G=(()=>{class e{constructor(e,t,i,r){this._renderer=e,this._elementRef=t,this._registry=i,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(j),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}fireUncheck(e){this.writeValue(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}return e.\u0275fac=function(t){return new(t||e)(u.Jb(u.D),u.Jb(u.l),u.Jb(W),u.Jb(u.r))},e.\u0275dir=u.Eb({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,t){1&e&&u.Xb("change",(function(){return t.onChange()}))("blur",(function(){return t.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[u.yb([J])]}),e})();const K={provide:w,useExisting:Object(u.S)(()=>Y),multi:!0};let Y=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(u.Jb(u.D),u.Jb(u.l))},e.\u0275dir=u.Eb({type:e,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(e,t){1&e&&u.Xb("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[u.yb([K])]}),e})();const X='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',Z='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',Q={provide:w,useExisting:Object(u.S)(()=>te),multi:!0};function ee(e,t){return null==e?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let te=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=u.rb}set compareWith(e){if("function"!=typeof e)throw new Error(`compareWith must be a function, but received ${JSON.stringify(e)}`);this._compareWith=e}writeValue(e){this.value=e;const t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const i=ee(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",i)}registerOnChange(e){this.onChange=t=>{this.value=this._getOptionValue(t),e(this.value)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t),e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}}return e.\u0275fac=function(t){return new(t||e)(u.Jb(u.D),u.Jb(u.l))},e.\u0275dir=u.Eb({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,t){1&e&&u.Xb("change",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[u.yb([Q])]}),e})(),ie=(()=>{class e{constructor(e,t,i){this._element=e,this._renderer=t,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(ee(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(t){return new(t||e)(u.Jb(u.l),u.Jb(u.D),u.Jb(te,9))},e.\u0275dir=u.Eb({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();const re={provide:w,useExisting:Object(u.S)(()=>se),multi:!0};function ne(e,t){return null==e?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let se=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=u.rb}set compareWith(e){if("function"!=typeof e)throw new Error(`compareWith must be a function, but received ${JSON.stringify(e)}`);this._compareWith=e}writeValue(e){let t;if(this.value=e,Array.isArray(e)){const i=e.map(e=>this._getOptionId(e));t=(e,t)=>{e._setSelected(i.indexOf(t.toString())>-1)}}else t=(e,t)=>{e._setSelected(!1)};this._optionMap.forEach(t)}registerOnChange(e){this.onChange=t=>{const i=[];if(t.hasOwnProperty("selectedOptions")){const e=t.selectedOptions;for(let t=0;t<e.length;t++){const r=e.item(t),n=this._getOptionValue(r.value);i.push(n)}}else{const e=t.options;for(let t=0;t<e.length;t++){const r=e.item(t);if(r.selected){const e=this._getOptionValue(r.value);i.push(e)}}}this.value=i,e(i)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(e){const t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t)._value,e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}}return e.\u0275fac=function(t){return new(t||e)(u.Jb(u.D),u.Jb(u.l))},e.\u0275dir=u.Eb({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,t){1&e&&u.Xb("change",(function(e){return t.onChange(e.target)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[u.yb([re])]}),e})(),ae=(()=>{class e{constructor(e,t,i){this._element=e,this._renderer=t,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(ne(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(ne(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(t){return new(t||e)(u.Jb(u.l),u.Jb(u.D),u.Jb(se,9))},e.\u0275dir=u.Eb({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();function oe(e,t){return[...t.path,e]}function le(e,t){e||de(t,"Cannot find control with"),t.valueAccessor||de(t,"No value accessor for form control with"),e.validator=L.compose([e.validator,t.validator]),e.asyncValidator=L.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(i=>{e._pendingValue=i,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&ue(e,t)})}(e,t),function(e,t){e.registerOnChange((e,i)=>{t.valueAccessor.writeValue(e),i&&t.viewToModelUpdate(e)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&ue(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange(e=>{t.valueAccessor.setDisabledState(e)}),t._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())}),t._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())})}function ue(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function de(e,t){let i;throw i=e.path.length>1?`path: '${e.path.join(" -> ")}'`:e.path[0]?`name: '${e.path}'`:"unspecified name attribute",new Error(`${t} ${i}`)}function ce(e){return null!=e?L.compose(e.map(z)):null}function he(e){return null!=e?L.composeAsync(e.map(H)):null}const pe=[k,Y,U,te,se,G];function me(e){const t=ge(e)?e.validators:e;return Array.isArray(t)?ce(t):t||null}function fe(e,t){const i=ge(t)?t.asyncValidators:e;return Array.isArray(i)?he(i):i||null}function ge(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class ye{constructor(e,t){this.validator=e,this.asyncValidator=t,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this.validator=me(e)}setAsyncValidators(e){this.asyncValidator=fe(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(t=>{t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild(t=>{t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status="PENDING";const t=I(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>this.setErrors(t,{emitEvent:e}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,i){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;let r=e;return t.forEach(e=>{r=r instanceof ve?r.controls.hasOwnProperty(e)?r.controls[e]:null:r instanceof we&&r.at(e)||null}),r}(this,e)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.n,this.statusChanges=new u.n}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ge(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class be extends ye{constructor(e=null,t,i){super(me(t),fe(i,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class ve extends ye{constructor(e,t,i){super(me(t),fe(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(i=>{this._throwIfControlMissing(i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){Object.keys(e).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t instanceof be?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>e(this.controls[t],t))}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){let t=!1;return this._forEachChild((i,r)=>{t=t||this.contains(r)&&e(i)}),t}_reduceValue(){return this._reduceChildren({},(e,t,i)=>((t.enabled||this.disabled)&&(e[i]=t.value),e))}_reduceChildren(e,t){let i=e;return this._forEachChild((e,r)=>{i=t(i,e,r)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,i)=>{if(void 0===e[i])throw new Error(`Must supply a value for form control with name: '${i}'.`)})}}class we extends ye{constructor(e,t,i){super(me(t),fe(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(e){return this.controls[e]}push(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}insert(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}removeAt(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,i)=>{this._throwIfControlMissing(i),this.at(i).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e.forEach((e,i)=>{this.at(i)&&this.at(i).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof be?e.value:e.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,i)=>{if(void 0===e[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const Pe={provide:_,useExisting:Object(u.S)(()=>Oe)},ke=(()=>Promise.resolve(null))();let Oe=(()=>{class e extends _{constructor(e,t){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new u.n,this.form=new ve({},ce(e),he(t))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){ke.then(()=>{const t=this._findContainer(e.path);e.control=t.registerControl(e.name,e.control),le(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){ke.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name),function(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}(this._directives,e)})}addFormGroup(e){ke.then(()=>{const t=this._findContainer(e.path),i=new ve({});(function(e,t){null==e&&de(t,"Cannot find control with"),e.validator=L.compose([e.validator,t.validator]),e.asyncValidator=L.composeAsync([e.asyncValidator,t.asyncValidator])})(i,e),t.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){ke.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,t){ke.then(()=>{this.form.get(e.path).setValue(t)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,t=this._directives,this.form._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)}),this.ngSubmit.emit(e),!1;var t}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return e.\u0275fac=function(t){return new(t||e)(u.Jb(M,10),u.Jb(D,10))},e.\u0275dir=u.Eb({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t){1&e&&u.Xb("submit",(function(e){return t.onSubmit(e)}))("reset",(function(){return t.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u.yb([Pe]),u.wb]}),e})(),Te=(()=>{class e extends _{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return oe(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return ce(this._validators)}get asyncValidator(){return he(this._asyncValidators)}_checkParentType(){}}return e.\u0275fac=function(t){return Ce(t||e)},e.\u0275dir=u.Eb({type:e,features:[u.wb]}),e})();const Ce=u.Rb(Te);class xe{static modelParentException(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      \n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ')}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${X}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${Z}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${X}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${Z}`)}}const _e={provide:_,useExisting:Object(u.S)(()=>Ae)};let Ae=(()=>{class e extends Te{constructor(e,t,i){super(),this._parent=e,this._validators=t,this._asyncValidators=i}_checkParentType(){this._parent instanceof e||this._parent instanceof Oe||xe.modelGroupParentException()}}return e.\u0275fac=function(t){return new(t||e)(u.Jb(_,5),u.Jb(M,10),u.Jb(D,10))},e.\u0275dir=u.Eb({type:e,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[u.yb([_e]),u.wb]}),e})();const Ee={provide:j,useExisting:Object(u.S)(()=>Ve)},je=(()=>Promise.resolve(null))();let Ve=(()=>{class e extends j{constructor(e,t,i,r){super(),this.control=new be,this._registered=!1,this.update=new u.n,this._parent=e,this._rawValidators=t||[],this._rawAsyncValidators=i||[],this.valueAccessor=function(e,t){if(!t)return null;Array.isArray(t)||de(e,"Value accessor was not provided as an array for form control with");let i=void 0,r=void 0,n=void 0;return t.forEach(t=>{var s;t.constructor===C?i=t:(s=t,pe.some(e=>s.constructor===e)?(r&&de(e,"More than one built-in value accessor matches form control with"),r=t):(n&&de(e,"More than one custom value accessor matches form control with"),n=t))}),n||r||i||(de(e,"No valid value accessor for form control with"),null)}(this,r)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(e,t){if(!e.hasOwnProperty("model"))return!1;const i=e.model;return!!i.isFirstChange()||!Object(u.rb)(t,i.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?oe(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return ce(this._rawValidators)}get asyncValidator(){return he(this._rawAsyncValidators)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){le(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof Ae)&&this._parent instanceof Te?xe.formGroupNameException():this._parent instanceof Ae||this._parent instanceof Oe||xe.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||xe.missingNameException()}_updateValue(e){je.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const t=e.isDisabled.currentValue,i=""===t||t&&"false"!==t;je.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable()})}}return e.\u0275fac=function(t){return new(t||e)(u.Jb(_,9),u.Jb(M,10),u.Jb(D,10),u.Jb(w,10))},e.\u0275dir=u.Eb({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u.yb([Ee]),u.wb,u.xb]}),e})(),$e=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=u.Eb({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})();const Se={provide:M,useExisting:Object(u.S)(()=>Me),multi:!0},qe={provide:M,useExisting:Object(u.S)(()=>De),multi:!0};let Me=(()=>{class e{get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!==`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?L.required(e):null}registerOnValidatorChange(e){this._onChange=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=u.Eb({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,t){2&e&&u.Ab("required",t.required?"":null)},inputs:{required:"required"},features:[u.yb([Se])]}),e})(),De=(()=>{class e extends Me{validate(e){return this.required?L.requiredTrue(e):null}}return e.\u0275fac=function(t){return Ne(t||e)},e.\u0275dir=u.Eb({type:e,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&u.Ab("required",t.required?"":null)},features:[u.yb([qe]),u.wb]}),e})();const Ne=u.Rb(De),Le={provide:M,useExisting:Object(u.S)(()=>Fe),multi:!0};let Fe=(()=>{class e{set email(e){this._enabled=""===e||!0===e||"true"===e,this._onChange&&this._onChange()}validate(e){return this._enabled?L.email(e):null}registerOnValidatorChange(e){this._onChange=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=u.Eb({type:e,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[u.yb([Le])]}),e})();const Ie={provide:M,useExisting:Object(u.S)(()=>Re),multi:!0};let Re=(()=>{class e{ngOnChanges(e){"minlength"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return null==this.minlength?null:this._validator(e)}registerOnValidatorChange(e){this._onChange=e}_createValidator(){this._validator=L.minLength("number"==typeof this.minlength?this.minlength:parseInt(this.minlength,10))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=u.Eb({type:e,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&u.Ab("minlength",t.minlength?t.minlength:null)},inputs:{minlength:"minlength"},features:[u.yb([Ie]),u.xb]}),e})();const ze={provide:M,useExisting:Object(u.S)(()=>He),multi:!0};let He=(()=>{class e{ngOnChanges(e){"maxlength"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return null!=this.maxlength?this._validator(e):null}registerOnValidatorChange(e){this._onChange=e}_createValidator(){this._validator=L.maxLength("number"==typeof this.maxlength?this.maxlength:parseInt(this.maxlength,10))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=u.Eb({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&u.Ab("maxlength",t.maxlength?t.maxlength:null)},inputs:{maxlength:"maxlength"},features:[u.yb([ze]),u.xb]}),e})();const Be={provide:M,useExisting:Object(u.S)(()=>Ue),multi:!0};let Ue=(()=>{class e{ngOnChanges(e){"pattern"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}_createValidator(){this._validator=L.pattern(this.pattern)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=u.Eb({type:e,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&u.Ab("pattern",t.pattern?t.pattern:null)},inputs:{pattern:"pattern"},features:[u.yb([Be]),u.xb]}),e})(),Je=(()=>{class e{}return e.\u0275mod=u.Hb({type:e}),e.\u0275inj=u.Gb({factory:function(t){return new(t||e)}}),e})(),We=(()=>{class e{}return e.\u0275mod=u.Hb({type:e}),e.\u0275inj=u.Gb({factory:function(t){return new(t||e)},providers:[W],imports:[Je]}),e})();var Ge=i("f7+R");const Ke=Object(Ge.f)(Object(Ge.e)("{{ timing }}s {{ delay }}s",Object(Ge.g)([Object(Ge.i)({transform:"scale3d(1, 1, 1)",offset:0}),Object(Ge.i)({transform:"scale3d(1.25, 0.75, 1)",offset:.3}),Object(Ge.i)({transform:"scale3d(0.75, 1.25, 1)",offset:.4}),Object(Ge.i)({transform:"scale3d(1.15, 0.85, 1)",offset:.5}),Object(Ge.i)({transform:"scale3d(.95, 1.05, 1)",offset:.65}),Object(Ge.i)({transform:"scale3d(1.05, .95, 1)",offset:.75}),Object(Ge.i)({transform:"scale3d(1, 1, 1)",offset:1})])),{params:{timing:1,delay:0}}),Ye=Object(Ge.f)(Object(Ge.e)("{{ timing }}s {{ delay }}s cubic-bezier(0.215, 0.610, 0.355, 1.000)",Object(Ge.g)([Object(Ge.i)({opacity:0,transform:"scale3d(.3, .3, .3)",offset:0}),Object(Ge.i)({transform:"scale3d(1.1, 1.1, 1.1)",offset:.2}),Object(Ge.i)({transform:"scale3d(.9, .9, .9)",offset:.4}),Object(Ge.i)({opacity:1,transform:"scale3d(1.03, 1.03, 1.03)",offset:.6}),Object(Ge.i)({transform:"scale3d(.97, .97, .97)",offset:.8}),Object(Ge.i)({opacity:1,transform:"scale3d(1, 1, 1)",offset:1})])),{params:{timing:1,delay:0}});function Xe(e,t){return Object(Ge.f)(Object(Ge.e)("{{ timing }}s {{ delay }}s",Object(Ge.g)([Object(Ge.i)({opacity:0,transform:"translate3d({{ a }}, 0, 0)",offset:0}),Object(Ge.i)({opacity:1,transform:"translate3d({{ b }}, 0, 0)",offset:1})])),{params:{timing:1,delay:0,a:e,b:t}})}const Ze=Xe(0,0);function Qe(e,t){return Object(Ge.f)(Object(Ge.e)("{{ timing }}s {{ delay }}s",Object(Ge.g)([Object(Ge.i)({opacity:1,transform:"translate3d({{ a }}, 0, 0)",offset:0}),Object(Ge.i)({opacity:0,transform:"translate3d({{ b }}, 0, 0)",offset:1})])),{params:{timing:1,delay:0,a:e,b:t}})}const et=Qe(0,0),tt=Object(Ge.f)([Object(Ge.e)("{{ timing }}s {{ delay }}s",Object(Ge.g)([Object(Ge.i)({opacity:1,offset:0}),Object(Ge.i)({opacity:0,transform:"scale3d(.3, .3, .3)",offset:.5}),Object(Ge.i)({opacity:0,offset:1})]))],{params:{timing:1,delay:0}});let it=(()=>{class e{constructor(){this.ariaAtomic=!0}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=u.Eb({type:e,hostVars:1,hostBindings:function(e,t){2&e&&u.Ab("aria-atomic",t.ariaAtomic)},inputs:{startTime:"startTime",endTime:"endTime",id:"id",data:"data"}}),e})();function rt(e,t){if(1&e&&(u.Pb(0,"a",3),u.tc(1),u.Ob()),2&e){const e=u.bc(2);u.fc("href",e.data.url,u.nc),u.zb(1),u.uc(e.data.title)}}function nt(e,t){if(1&e&&(u.Nb(0),u.tc(1),u.Mb()),2&e){const e=u.bc(2);u.zb(1),u.uc(e.data.title)}}function st(e,t){1&e&&(u.Pb(0,"span"),u.tc(1,"Anonymous"),u.Ob())}function at(e,t){if(1&e&&(u.Nb(0),u.Pb(1,"span"),u.tc(2),u.Ob(),u.tc(3),u.Mb()),2&e){const e=t.$implicit,i=t.last;u.zb(2),u.uc(e),u.zb(1),u.vc("",i?"":", "," ")}}function ot(e,t){if(1&e&&(u.Nb(0),u.Pb(1,"h3"),u.rc(2,rt,2,2,"a",1),u.rc(3,nt,2,1,"ng-container",0),u.Ob(),u.Pb(4,"h4"),u.tc(5," Annotated By: "),u.rc(6,st,2,0,"span",0),u.rc(7,at,4,2,"ng-container",2),u.Ob(),u.Mb()),2&e){const e=u.bc();u.zb(2),u.fc("ngIf",e.data.url),u.zb(1),u.fc("ngIf",!e.data.url),u.zb(3),u.fc("ngIf",e.data.authors.length<1),u.zb(1),u.fc("ngForOf",e.data.authors)}}let lt=(()=>{class e extends it{constructor(){super(...arguments),this.color="#79addc"}textPreview(e=this.data){return`[i] ${e.title}`}}return e.\u0275fac=function(t){return ut(t||e)},e.\u0275cmp=u.Db({type:e,selectors:[["plopdown-info"]],hostVars:1,hostBindings:function(e,t){2&e&&u.wc("@infoFade",t.animate)},features:[u.wb],decls:1,vars:1,consts:[[4,"ngIf"],["rel","noreferrer noopener","target","_blank",3,"href",4,"ngIf"],[4,"ngFor","ngForOf"],["rel","noreferrer noopener","target","_blank",3,"href"]],template:function(e,t){1&e&&u.rc(0,ot,8,4,"ng-container",0),2&e&&u.fc("ngIf",t.data)},directives:[s.t,s.s],styles:["[_nghost-%COMP%]{position:absolute;top:0;left:0;padding:2em;pointer-events:all;color:#fff;background:linear-gradient(154deg,#000,transparent,transparent);text-shadow:0 2px 10px rgba(0,0,0,.6)}[_nghost-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700;font-size:2em;margin:0;padding:0}[_nghost-%COMP%]   a[_ngcontent-%COMP%]{color:inherit}"],data:{animation:[Object(Ge.k)("infoFade",[Object(Ge.j)("void => *",Object(Ge.h)([Object(Ge.l)(Ze,{params:{timing:.4}})])),Object(Ge.j)("* => void",Object(Ge.h)([Object(Ge.l)(et,{params:{timing:.4}})]))])]},changeDetection:0}),e})();const ut=u.Rb(lt),dt=function(e,t,i,r){return{fontSize:e,top:t,left:i,transform:r}};function ct(e,t){if(1&e&&(u.Pb(0,"div",4),u.tc(1),u.Ob()),2&e){const e=t.$implicit;u.fc("ngStyle",u.ic(2,dt,e.size+"%",e.top+"%",e.left+"%","rotate("+e.rotate+"deg)")),u.zb(1),u.vc(" ",e.emoji,"\u200d ")}}function ht(e,t){if(1&e&&(u.Pb(0,"div",2),u.rc(1,ct,2,7,"div",3),u.Ob()),2&e){const e=u.bc();u.zb(1),u.fc("ngForOf",e.data.icons)}}function pt(e,t){if(1&e&&(u.Pb(0,"li",9),u.Pb(1,"a",10),u.tc(2),u.Ob(),u.Ob()),2&e){const e=t.$implicit,i=t.index;u.zb(1),u.fc("title",e.title)("href",e.url,u.nc),u.zb(1),u.vc("[",i+1,"]")}}function mt(e,t){if(1&e&&(u.Pb(0,"ul",7),u.rc(1,pt,3,3,"li",8),u.Ob()),2&e){const e=u.bc(2);u.zb(1),u.fc("ngForOf",e.data.footnotes)}}function ft(e,t){if(1&e&&(u.Pb(0,"div",5),u.tc(1),u.rc(2,mt,2,1,"ul",6),u.Ob()),2&e){const e=u.bc();u.zb(1),u.vc(" ",e.data.desc," "),u.zb(1),u.fc("ngIf",e.data.footnotes)}}let gt=(()=>{class e extends it{constructor(e){super(),this.cd=e,this.color="#b2e7c1"}preventBubbling(e){e.stopPropagation()}ngOnChanges(){this.top=this.data.top,this.left=this.data.left,this.width=this.data.width}ngAfterViewInit(){this.data&&(this.top=this.data.top,this.left=this.data.left,this.width=this.data.width,this.cd.detectChanges())}textPreview(e=this.data){let t="";return e.icons&&(t=e.icons.reduce((e,t)=>e+t.emoji.trim(),"")),t.length&&(t=`${t} `),`${t}${e.desc}`}}return e.\u0275fac=function(t){return new(t||e)(u.Jb(u.h))},e.\u0275cmp=u.Db({type:e,selectors:[["plopdown-plop"]],hostVars:7,hostBindings:function(e,t){1&e&&u.Xb("click",(function(e){return t.preventBubbling(e)})),2&e&&(u.wc("@plopIn",t.animate),u.qc("top",t.top,"%")("left",t.left,"%")("width",t.width,"%"))},features:[u.wb,u.xb],decls:2,vars:2,consts:[["class","pd-icons",4,"ngIf"],["class","desc",4,"ngIf"],[1,"pd-icons"],["class","pd-icon",3,"ngStyle",4,"ngFor","ngForOf"],[1,"pd-icon",3,"ngStyle"],[1,"desc"],["class","footnotes",4,"ngIf"],[1,"footnotes"],["class","footnote",4,"ngFor","ngForOf"],[1,"footnote"],["rel","noopener noreferrer","target","_blank",3,"title","href"]],template:function(e,t){1&e&&(u.rc(0,ht,2,1,"div",0),u.rc(1,ft,3,2,"div",1)),2&e&&(u.fc("ngIf",t.data&&t.data.icons&&t.data.icons.length),u.zb(1),u.fc("ngIf",t.data))},directives:[s.t,s.s,s.w],styles:["[_nghost-%COMP%]{display:block;position:absolute;top:0;left:0;padding-left:4em;font-family:sans-serif;pointer-events:all;min-height:6em}.plop-selected[_ngcontent-%COMP%]{box-shadow:0 0 0 .2em #64a4d6}.menu-bubble[_ngcontent-%COMP%]{position:absolute;display:flex;z-index:20;background:#000;border-radius:.1em;background-clip:padding-box;padding:.3rem;margin-bottom:.5rem;transform:translateX(-50%);visibility:hidden;opacity:0;transition:opacity .2s,visibility .2s}.menu-bubble-active[_ngcontent-%COMP%]{opacity:1;visibility:visible}.menu-button[_ngcontent-%COMP%]{display:inline-flex;background:transparent;border:0;color:#fff;padding:.2rem .5rem;margin-right:.2rem;border-radius:3px;cursor:pointer}.menu-button[_ngcontent-%COMP%]:last-child{margin-right:0}.menu-button[_ngcontent-%COMP%]:hover{background-color:hsla(0,0%,100%,.1)}.menu-button-active[_ngcontent-%COMP%]{background-color:hsla(0,0%,100%,.2)}.desc[_ngcontent-%COMP%]{color:#111;font-size:1.2em;background:#ddd;border:.4em solid;margin:0;padding:.5em 1em .5em 2em;border-radius:1em}.footnote[_ngcontent-%COMP%], .footnotes[_ngcontent-%COMP%]{list-style:none;display:inline}.pd-icons[_ngcontent-%COMP%]{color:#111;background-clip:padding-box;top:0;left:0;font-size:3em;background:#eee;border-radius:50%;width:2em;height:2em;overflow:hidden;border:.15em solid;box-sizing:border-box}.pd-icon[_ngcontent-%COMP%], .pd-icons[_ngcontent-%COMP%]{position:absolute;text-align:center}.pd-icon[_ngcontent-%COMP%]{font-family:monospace;-webkit-font-kerning:none;font-kerning:none;top:50%;left:50%;line-height:1em;width:1em;height:1em;margin-left:-.5em;margin-top:-.45em}"],data:{animation:[Object(Ge.k)("plopIn",[Object(Ge.j)("void => *",Object(Ge.l)(Ke,{params:{timing:.2}})),Object(Ge.j)("* => void",Object(Ge.l)(tt,{params:{timing:.2}}))])]}}),e})();var yt=i("ATS1"),bt=i("C05f"),vt=i("bwdy"),wt=i("ZTXN");class Pt extends vt.a{constructor(e,t){super()}schedule(e,t=0){return this}}class kt extends Pt{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,i=0){return setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i=!1,r=void 0;try{this.work(e)}catch(n){i=!0,r=!!n&&n||new Error(n)}if(i)return this.unsubscribe(),r}_unsubscribe(){const e=this.id,t=this.scheduler,i=t.actions,r=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&i.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}class Ot extends kt{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!==i&&i>0||null===i&&this.delay>0?super.requestAsyncId(e,t,i):e.flush(this)}}let Tt=(()=>{class e{constructor(t,i=e.now){this.SchedulerAction=t,this.now=i}schedule(e,t=0,i){return new this.SchedulerAction(this,e).schedule(i,t)}}return e.now=()=>Date.now(),e})();class Ct extends Tt{constructor(e,t=Tt.now){super(e,()=>Ct.delegate&&Ct.delegate!==this?Ct.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,i){return Ct.delegate&&Ct.delegate!==this?Ct.delegate.schedule(e,t,i):super.schedule(e,t,i)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let i;this.active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}class xt extends Ct{}const _t=new xt(Ot);var At=i("5uGe"),Et=i("6Oco"),jt=i("ROBh");let Vt=(()=>{class e{constructor(e,t,i){this.kind=e,this.value=t,this.error=i,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,i){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return i&&i()}}accept(e,t,i){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,i)}toObservable(){switch(this.kind){case"N":return Object(jt.a)(this.value);case"E":return e=this.error,new m.a(t=>t.error(e));case"C":return Object(Et.b)()}var e;throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}static createError(t){return new e("E",void 0,t)}static createComplete(){return e.completeNotification}}return e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e})();class $t extends At.a{constructor(e,t,i=0){super(e),this.scheduler=t,this.delay=i}static dispatch(e){const{notification:t,destination:i}=e;t.observe(i),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule($t.dispatch,this.delay,new St(e,this.destination)))}_next(e){this.scheduleMessage(Vt.createNext(e))}_error(e){this.scheduleMessage(Vt.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(Vt.createComplete()),this.unsubscribe()}}class St{constructor(e,t){this.notification=e,this.destination=t}}var qt=i("MiDb"),Mt=i("yTkW");class Dt extends wt.a{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,i){super(),this.scheduler=i,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift(),super.next(e)}nextTimeWindow(e){this._events.push(new Nt(this._getNow(),e)),this._trimBufferThenGetEvents(),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,i=t?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,n=i.length;let s;if(this.closed)throw new qt.a;if(this.isStopped||this.hasError?s=vt.a.EMPTY:(this.observers.push(e),s=new Mt.a(this,e)),r&&e.add(e=new $t(e,r)),t)for(let a=0;a<n&&!e.closed;a++)e.next(i[a]);else for(let a=0;a<n&&!e.closed;a++)e.next(i[a].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),s}_getNow(){return(this.scheduler||_t).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,i=this._windowTime,r=this._events,n=r.length;let s=0;for(;s<n&&!(e-r[s].time<i);)s++;return n>t&&(s=Math.max(s,n-t)),s>0&&r.splice(0,s),r}}class Nt{constructor(e,t){this.time=e,this.value=t}}var Lt=i("g6G6"),Ft=i("IJgj");function It(e,t,i,r){return Object(Ft.a)(i)&&(r=i,i=void 0),r?It(e,t,i).pipe(Object(g.a)(e=>Object(f.a)(e)?r(...e):r(e))):new m.a(r=>{!function e(t,i,r,n,s){let a;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){const e=t;t.addEventListener(i,r,s),a=()=>e.removeEventListener(i,r,s)}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){const e=t;t.on(i,r),a=()=>e.off(i,r)}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){const e=t;t.addListener(i,r),a=()=>e.removeListener(i,r)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let a=0,o=t.length;a<o;a++)e(t[a],i,r,n,s)}n.add(a)}(e,t,(function(e){r.next(arguments.length>1?Array.prototype.slice.call(arguments):e)}),r,i)})}var Rt=i("TLy2"),zt=i("pBDD"),Ht=i("mW0F");function Bt(...e){return t=>{let i;return"function"==typeof e[e.length-1]&&(i=e.pop()),t.lift(new Ut(e,i))}}class Ut{constructor(e,t){this.observables=e,this.project=t}call(e,t){return t.subscribe(new Jt(e,this.observables,this.project))}}class Jt extends zt.a{constructor(e,t,i){super(e),this.observables=t,this.project=i,this.toRespond=[];const r=t.length;this.values=new Array(r);for(let n=0;n<r;n++)this.toRespond.push(n);for(let n=0;n<r;n++){let e=t[n];this.add(Object(Ht.a)(this,e,e,n))}}notifyNext(e,t,i,r,n){this.values[i]=t;const s=this.toRespond;if(s.length>0){const e=s.indexOf(i);-1!==e&&s.splice(e,1)}}notifyComplete(){}_next(e){if(0===this.toRespond.length){const t=[e,...this.values];this.project?this._tryProject(t):this.destination.next(t)}}_tryProject(e){let t;try{t=this.project.apply(this,e)}catch(i){return void this.destination.error(i)}this.destination.next(t)}}var Wt=i("jIqt");let Gt=(()=>{class e{constructor(){this.audioElem$=new Dt(1),this.edits$=new bt.a([])}setAudioElem(e){this.audioElem$.next(e)}setEdits(e){this.edits$.next(e)}getEdits(){return this.edits$.asObservable()}getEditTime(){return this.audioElem$.pipe(Object(Rt.a)(e=>new m.a(t=>{const i=e.addTextTrack("metadata");return i.mode="showing",t.next(i),()=>{i.mode="disabled"}}))).pipe(Bt(this.edits$),Object(Rt.a)(([e,t])=>null==t?Et.a:(t.forEach(t=>{const i=new VTTCue(t.startTime,t.endTime||t.startTime,JSON.stringify(t));e.addCue(i)}),Object(Lt.a)(It(e,"cuechange")).pipe(Object(Wt.a)(e.activeCues),Bt(this.audioElem$),Object(g.a)(([e,t])=>t.currentTime)))))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=u.Fb({token:e,factory:e.\u0275fac}),e})();var Kt=i("HM3f"),Yt=function(e){return e.Still="STILL",e.Skip="SKIP",e.Pause="PAUSE",e.Volume="VOLUME",e}({});let Xt=(()=>{class e{constructor(e){const t=e.getEditTime(),i=e.getEdits();this.skipEdits$=i.pipe(Object(g.a)(e=>e.filter(this.isSkipEdit))),this.skipOffset$=Object(Kt.a)([t,this.skipEdits$]).pipe(Object(g.a)(([e,t])=>t.filter(t=>e>t.startTime).reduce((e,t)=>t.endTime-t.startTime+e,0)))}getOffset(){return this.skipOffset$}isSkipEdit(e){return e.type===Yt.Skip}}return e.\u0275fac=function(t){return new(t||e)(u.Tb(Gt))},e.\u0275prov=u.Fb({token:e,factory:e.\u0275fac}),e})();const Zt=new u.q("Plopdown Track"),Qt=(new u.q("Plopdown Tracks"),new u.q("Track Files")),ei=new u.q("Video Element");function ti(e,t,i){let r;return r=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:i},e=>e.lift(function({bufferSize:e=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:i,scheduler:r}){let n,s,a=0,o=!1,l=!1;return function(u){a++,n&&!o||(o=!1,n=new Dt(e,t,r),s=u.subscribe({next(e){n.next(e)},error(e){o=!0,n.error(e)},complete(){l=!0,s=void 0,n.complete()}}));const d=n.subscribe(this);this.add(()=>{a--,d.unsubscribe(),s&&!l&&i&&0===a&&(s.unsubscribe(),s=void 0,n=void 0)})}}(r))}function ii(e){return t=>t.lift(new ri(e))}new u.q("Video Reference");class ri{constructor(e){this.value=e}call(e,t){return t.subscribe(new ni(e,this.value))}}class ni extends At.a{constructor(e,t){super(e),this.value=t}_next(e){this.destination.next(this.value)}}var si=i("xVbo");class ai{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new oi(e,this.compare,this.keySelector))}}class oi extends At.a{constructor(e,t,i){super(e),this.keySelector=i,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:i}=this;t=i?i(e):e}catch(r){return this.destination.error(r)}let i=!1;if(this.hasKey)try{const{compare:e}=this;i=e(this.key,t)}catch(r){return this.destination.error(r)}else this.hasKey=!0;i||(this.key=t,this.destination.next(e))}}var li=i("e4iD");const ui=["audioElem"];function di(e,t){if(1&e&&u.Kb(0,"plopdown-icon",10),2&e){const e=u.bc(2);u.fc("path",e.mdiVolumeOff)}}function ci(e,t){if(1&e&&u.Kb(0,"plopdown-icon",10),2&e){const e=u.bc(2);u.fc("path",e.mdiVolumeHigh)}}function hi(e,t){if(1&e){const e=u.Qb();u.Pb(0,"div",4),u.ac(),u.Pb(1,"svg",5),u.Kb(2,"circle",6),u.cc(3,"async"),u.Ob(),u.Zb(),u.Pb(4,"a",7),u.Xb("click",(function(t){return u.lc(e),u.bc().toggleMute(t)})),u.rc(5,di,1,1,"plopdown-icon",8),u.rc(6,ci,1,1,"ng-template",null,9,u.sc),u.Ob(),u.Ob()}if(2&e){const e=u.kc(7),t=u.bc();u.zb(2),u.fc("ngStyle",u.dc(3,3,t.progressStyle$)),u.zb(3),u.fc("ngIf",t.audioMuted)("ngIfElse",e)}}function pi(e,t){if(1&e&&(u.Pb(0,"div",11),u.Pb(1,"div",12),u.tc(2),u.Ob(),u.Ob()),2&e){const e=u.bc();u.zb(2),u.uc(e.data.title)}}let mi=(()=>{class e extends it{constructor(e,t,i,r,n,s){super(),this.logger=e,this.sanitizer=t,this.audioEdits=i,this.editSkip=r,this.videoElem=n,this.trackFiles=s,this.color="#ffc09f",this.audioMuted=!1,this.mdiVolumeHigh="M14,3.23V5.29C16.89,6.15 19,8.83 19,12C19,15.17 16.89,17.84 14,18.7V20.77C18,19.86 21,16.28 21,12C21,7.72 18,4.14 14,3.23M16.5,12C16.5,10.23 15.5,8.71 14,7.97V16C15.5,15.29 16.5,13.76 16.5,12M3,9V15H7L12,20V4L7,9H3Z",this.mdiVolumeOff="M12,4L9.91,6.09L12,8.18M4.27,3L3,4.27L7.73,9H3V15H7L12,20V13.27L16.25,17.53C15.58,18.04 14.83,18.46 14,18.7V20.77C15.38,20.45 16.63,19.82 17.68,18.96L19.73,21L21,19.73L12,10.73M19,12C19,12.94 18.8,13.82 18.46,14.64L19.97,16.15C20.62,14.91 21,13.5 21,12C21,7.72 18,4.14 14,3.23V5.29C16.89,6.15 19,8.83 19,12M16.5,12C16.5,10.23 15.5,8.71 14,7.97V10.18L16.45,12.63C16.5,12.43 16.5,12.21 16.5,12Z",this.mdiAlert="M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z",this.editTime$=new Dt(1),this.subs=new vt.a,this.skipOffset$=this.editSkip.getOffset().pipe(ti(1))}ngOnChanges(){this.data&&(this.top=this.data.top,this.left=this.data.left,this.audioEdits.setEdits(this.data.edits&&this.data.edits.length>0?this.data.edits:[]),this.audioUrl=this.getFile(this.data.url))}ngAfterViewInit(){this.videoElem.pause(),this.videoNotPlaying$=Object(Lt.a)(It(this.videoElem,"suspend"),It(this.videoElem,"stop"),It(this.videoElem,"ended"),It(this.videoElem,"stalled"),It(this.videoElem,"pause")).pipe(ii(null));const e=Object(jt.a)(this.videoElem.paused).pipe(Object(si.a)(e=>!e));this.videoPlaying$=Object(Lt.a)(e,It(this.videoElem,"playing")).pipe(ii(null)),this.audioTimeUpdate$=It(this.audioElem.nativeElement,"timeupdate").pipe(ti(1)),this.progressStyle$=this.audioTimeUpdate$.pipe(Object(g.a)(e=>{const t=90*Math.PI;return{"stroke-dasharray":`${t*(e.target.currentTime/e.target.duration)}% ${t}%`}})),this.audioEdits.setAudioElem(this.audioElem.nativeElement),this.timeUpdate$=Object(Lt.a)(It(this.audioElem.nativeElement,"timeupdate"),It(this.videoElem,"timeupdate")).pipe(Bt(this.skipOffset$),Object(g.a)(([e,t])=>[this.audioElem.nativeElement.currentTime-t,this.videoElem.currentTime])),this.syncOffset$=this.timeUpdate$.pipe(Object(g.a)(([e,t])=>Math.round(1e3*(t-(this.startTime+e)))),e=>e.lift(new ai(void 0,void 0)),Object(si.a)(e=>e>150||e<-150));const t=this.syncOffset$.subscribe(e=>{this.audioElem.nativeElement.currentTime=(1e3*this.audioElem.nativeElement.currentTime+e)/1e3});this.subs.add(t);const i=this.videoNotPlaying$.subscribe(()=>{this.pauseAudio()});this.subs.add(i);const r=this.videoPlaying$.subscribe(()=>{this.playAudio()});this.subs.add(r)}ngOnDestroy(){this.subs.unsubscribe()}toggleMute(e){e.preventDefault();const t=!this.audioMuted;this.audioElem.nativeElement.muted=t,this.audioMuted=t}audioLoaded(){this.videoElem.play()}playAudio(){this.audioElem.nativeElement.play()}pauseAudio(){this.audioElem.nativeElement.pause()}getFile(e){const t=this.trackFiles.get(e);return null==t&&this.logger.error("Could not find filename",e),this.sanitizer.bypassSecurityTrustUrl(t)}textPreview(e=this.data){return`Audio - ${e.title}`}}return e.\u0275fac=function(t){return new(t||e)(u.Jb(yt.c),u.Jb(li.b),u.Jb(Gt),u.Jb(Xt),u.Jb(ei),u.Jb(Qt))},e.\u0275cmp=u.Db({type:e,selectors:[["plopdown-audio"]],viewQuery:function(e,t){var i;1&e&&u.xc(ui,!0),2&e&&u.jc(i=u.Yb())&&(t.audioElem=i.first)},hostVars:4,hostBindings:function(e,t){2&e&&u.qc("top",t.top,"%")("left",t.left,"%")},features:[u.yb([Gt,Xt]),u.wb,u.xb],decls:4,vars:3,consts:[["plopdown-ignore","","hidden","true",3,"src","loadstart"],["audioElem",""],["class","audio-indicator",4,"ngIf"],["class","title-box",4,"ngIf"],[1,"audio-indicator"],["viewbox","0 0 120 120",1,"progress-ring"],["stroke","white","stroke-width","8%","stroke-dasharray","8% 8%","fill","transparent","cx","50%","cy","50%","r","45%",1,"progress-ring__circle",3,"ngStyle"],["title","Mute/Unmute Audio","href","#",3,"click"],[3,"path",4,"ngIf","ngIfElse"],["unmuted",""],[3,"path"],[1,"title-box"],[1,"title"]],template:function(e,t){if(1&e&&(u.Pb(0,"video",0,1),u.Xb("loadstart",(function(){return t.audioLoaded()})),u.Ob(),u.rc(2,hi,8,5,"div",2),u.rc(3,pi,3,1,"div",3)),2&e){const e=u.kc(1);u.fc("src",t.audioUrl,u.nc),u.zb(2),u.fc("ngIf",e),u.zb(1),u.fc("ngIf",t.data)}},directives:[s.t,s.w,p],pipes:[s.b],styles:["[_nghost-%COMP%]{position:absolute;transition:opacity .2s;opacity:.4}.active[_nghost-%COMP%], [_nghost-%COMP%]:hover{opacity:1}.audio-indicator[_ngcontent-%COMP%]{font-family:sans-serif;pointer-events:all;width:4em;height:4em}.audio-indicator[_ngcontent-%COMP%]   .progress-ring[_ngcontent-%COMP%]{width:4em;height:4em;transition:stroke-dashoffset .35s;transform:rotate(-90deg);transform-origin:50% 50%}.title-box[_ngcontent-%COMP%]{pointer-events:all;position:absolute;left:4.5em;top:0;height:4em;display:flex;flex-direction:row;align-items:center}.title-box[_ngcontent-%COMP%], .title-box[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-family:sans-serif;white-space:nowrap}.title-box[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{background:#fff;color:#000;line-height:1.5em;padding:.3em .7em .2em;border-radius:1em}plopdown-icon[_ngcontent-%COMP%]{color:#fff;position:absolute;top:15%;left:15%;width:70%}"]}),e})();var fi=function(e){return e.Info="INFO",e.Plop="PLOP",e.Audio="AUDIO",e.Shape="SHAPE",e}({});function gi(e,t){if(1&e&&(u.ac(),u.Kb(0,"ellipse")),2&e){const e=u.bc().$implicit;u.Ab("cx",e.cx)("cy",e.cy)("rx",e.rx)("ry",e.ry)}}function yi(e,t){if(1&e&&(u.ac(),u.Kb(0,"rect")),2&e){const e=u.bc().$implicit;u.Ab("x",e.x)("y",e.y)("width",e.width)("height",e.height)("rx",e.rx)("ry",e.ry)}}function bi(e,t){if(1&e&&(u.ac(),u.Kb(0,"path")),2&e){const e=u.bc().$implicit;u.Ab("d",e.d)}}function vi(e,t){if(1&e&&(u.ac(),u.Kb(0,"polygon")),2&e){const e=u.bc().$implicit;u.Ab("points",e.points)}}function wi(e,t){if(1&e&&(u.ac(),u.Kb(0,"polyline")),2&e){const e=u.bc().$implicit;u.Ab("points",e.points)}}function Pi(e,t){if(1&e&&(u.ac(),u.Pb(0,"g",3),u.rc(1,gi,1,4,"ellipse",4),u.rc(2,yi,1,6,"rect",4),u.rc(3,bi,1,1,"path",4),u.rc(4,vi,1,1,"polygon",4),u.rc(5,wi,1,1,"polyline",4),u.Ob()),2&e){const e=t.$implicit;u.qc("opacity",e.opacity)("stroke",null==e.stroke?null:e.stroke.color)("stroke-opacity",null==e.stroke?null:e.stroke.opacity)("stroke-width",null==e.stroke?null:e.stroke.width,"%")("stroke-linecap",null==e.stroke?null:e.stroke.linecap)("stroke-linejoin",null==e.stroke?null:e.stroke.linejoin)("fill",null==e.fill?null:e.fill.color)("fill-opacity",null==e.fill?null:e.fill.opacity)("fill-rule",null==e.fill?null:e.fill.rule)("transform",e.transform)("transform-origin",e.transformOrigin),u.fc("ngSwitch",e.element),u.Ab("stroke-dasharray",null==e.stroke?null:e.stroke.dasharray)("stroke-dashoffset",null==e.stroke?null:e.stroke.dashoffset),u.zb(1),u.fc("ngSwitchCase","ellipse"),u.zb(1),u.fc("ngSwitchCase","rect"),u.zb(1),u.fc("ngSwitchCase","path"),u.zb(1),u.fc("ngSwitchCase","polygon"),u.zb(1),u.fc("ngSwitchCase","polyline")}}function ki(e,t){if(1&e&&(u.ac(),u.Pb(0,"svg",1),u.rc(1,Pi,6,30,"g",2),u.Ob()),2&e){const e=u.bc();u.qc("top",e.data.top,"%")("left",e.data.left,"%"),u.fc("title",e.data.title.text),u.Ab("width",e.data.width+"%")("height",e.data.height+"%")("viewBox",e.data.viewBox),u.zb(1),u.fc("ngForOf",e.data.elements)}}let Oi=(()=>{class e extends it{constructor(){super(...arguments),this.color="#79addc"}textPreview(e=this.data){return`${e.title.text}`}}return e.\u0275fac=function(t){return Ti(t||e)},e.\u0275cmp=u.Db({type:e,selectors:[["plopdown-shape"]],hostVars:1,hostBindings:function(e,t){2&e&&u.wc("@infoFade",t.animate)},features:[u.wb],decls:1,vars:1,consts:[["class","shape","preserveAspectRatio","none",3,"title","top","left",4,"ngIf"],["preserveAspectRatio","none",1,"shape",3,"title"],[3,"ngSwitch","opacity","stroke","strokeOpacity","strokeWidth","strokeLinecap","strokeLinejoin","fill","fillOpacity","fillRule","transform","transformOrigin",4,"ngFor","ngForOf"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(e,t){1&e&&u.rc(0,ki,2,9,"svg",0),2&e&&u.fc("ngIf",t.data)},directives:[s.t,s.s,s.x,s.y],styles:[".shape[_ngcontent-%COMP%]{position:absolute;top:0;left:0}"],data:{animation:[Object(Ge.k)("infoFade",[Object(Ge.j)("void => *",Object(Ge.h)([Object(Ge.l)(Ze,{params:{timing:.4}})])),Object(Ge.j)("* => void",Object(Ge.h)([Object(Ge.l)(et,{params:{timing:.4}})]))])]},changeDetection:0}),e})();const Ti=u.Rb(Oi),Ci={[fi.Info]:lt,[fi.Plop]:gt,[fi.Audio]:mi,[fi.Shape]:Oi},xi=["cueOutlet"];let _i=(()=>{class e{constructor(e,t,i,r){this.cd=t,this.errorHandler=i,this.logger=r,this.cues$=new bt.a([]),this.subs=new vt.a,this.ariaLive="assertive",this.cueMap=new Map,this.cueComponents$=this.cues$.pipe(Object(g.a)(t=>t.map(t=>{const i=Ci[t.data.type];return null==i?[null,t]:[e.resolveComponentFactory(i),t]})))}set cues(e){null!=e&&this.cues$.next(e)}ngAfterViewInit(){const e=this.cueComponents$.subscribe({next:e=>{e.forEach(([e,t])=>{if(null==e)return void this.logger.error(`Could not find plopdown cue component matching "${t.data.type}".`,t);if(this.cueMap.has(t.id))return;const i=this.cueOutlet.createComponent(e);i.instance.startTime=t.startTime,i.instance.endTime=t.endTime,i.instance.id=t.id,i.instance.data=t.data,this.cueMap.set(t.id,i),i.changeDetectorRef.detectChanges()}),this.cueMap.forEach((t,i)=>{null==e.find(([e,t])=>t.id===i)&&(t.destroy(),this.cueMap.delete(i))}),this.cd.detectChanges()},error:e=>{this.errorHandler.handleError(e)}});this.subs.add(e)}ngOnDestroy(){this.subs.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(u.Jb(u.j),u.Jb(u.h),u.Jb(u.m),u.Jb(yt.c))},e.\u0275cmp=u.Db({type:e,selectors:[["plopdown-cue-renderer"]],viewQuery:function(e,t){var i;1&e&&u.xc(xi,!0,u.N),2&e&&u.jc(i=u.Yb())&&(t.cueOutlet=i.first)},hostVars:1,hostBindings:function(e,t){2&e&&u.Ab("aria-live",t.ariaLive)},inputs:{cues:"cues"},decls:2,vars:0,consts:[["cueOutlet",""]],template:function(e,t){1&e&&u.Lb(0,null,0)},encapsulation:2,changeDetection:0}),e})();var Ai=i("8j5Y");const Ei=new Ct(kt),ji={leading:!0,trailing:!1};class Vi{constructor(e,t,i,r){this.duration=e,this.scheduler=t,this.leading=i,this.trailing=r}call(e,t){return t.subscribe(new $i(e,this.duration,this.scheduler,this.leading,this.trailing))}}class $i extends At.a{constructor(e,t,i,r,n){super(e),this.duration=t,this.scheduler=i,this.leading=r,this.trailing=n,this._hasTrailingValue=!1,this._trailingValue=null}_next(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Si,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)}}function Si(e){const{subscriber:t}=e;t.clearThrottle()}class qi{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new Mi(e,this.dueTime,this.scheduler))}}class Mi extends At.a{constructor(e,t,i){super(e),this.dueTime=t,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Di,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function Di(e){e.debouncedNext()}function Ni(e,t){if(1&e){const e=u.Qb();u.Pb(0,"plopdown-cue-timeline",6),u.Xb("goTo",(function(t){return u.lc(e),u.bc(2).goToTime(t)})),u.cc(1,"async"),u.Ob()}if(2&e){const e=u.bc(2);u.fc("videoElem",e.videoElem)("track",e.plopTrack)("activeCues",u.dc(1,3,e.cues$))}}function Li(e,t){if(1&e){const e=u.Qb();u.Pb(0,"div",1),u.Pb(1,"div",2),u.Pb(2,"plopdown-injector-menu",3),u.Xb("remove",(function(){return u.lc(e),u.bc().removeOverlay()})),u.Ob(),u.Kb(3,"plopdown-cue-renderer",4),u.cc(4,"async"),u.rc(5,Ni,2,5,"plopdown-cue-timeline",5),u.cc(6,"async"),u.Ob(),u.Ob()}if(2&e){const e=t.ngIf,i=u.bc();u.fc("@videoOutline",void 0)("ngStyle",e.wrapper),u.zb(1),u.fc("ngStyle",e.stage),u.zb(2),u.fc("cues",u.dc(4,5,i.cues$)),u.zb(2),u.fc("ngIf",u.dc(6,7,i.showTimeline$))}}let Fi=(()=>{class e{constructor(e,t,i,r,n){this.logger=t,this.videoElem=r,this.plopTrack=n,this.manualReposition$=new bt.a(null),this.remove=new u.n,this.mouseMove$=Object(Lt.a)(It(i.nativeElement,"mousemove"),It(r,"mousemove"));const s=Object(Kt.a)([Object(jt.a)(r),Object(jt.a)(n)]).pipe(Object(Rt.a)(([e,t])=>new m.a(i=>{const r=e.addTextTrack("metadata",t._id,t.language);try{this.bindCues(r,t)}catch(n){i.error(n)}return r.mode="showing",i.next(r),()=>{r.mode="disabled"}})),ti(1));this.cues$=s.pipe(Object(Rt.a)(e=>It(e,"cuechange").pipe(Object(Wt.a)(e),Object(g.a)(()=>e.activeCues))),Object(g.a)(e=>this.cueListToArray(e)),Object(Ai.a)(t=>{setTimeout(()=>{e.detectChanges()},0)}),ti(1));const a=Object(jt.a)(r).pipe(Object(Rt.a)(e=>Object(Lt.a)(this.manualReposition$.asObservable(),It(e,"play"),It(e,"load"),It(e,"resize"),It(e,"mousemove")).pipe(Object(g.a)(()=>e))),ti(1)),o=a.pipe(Object(g.a)(e=>e.videoWidth/e.videoHeight)),l=Object(Kt.a)([a,o]).pipe(Object(g.a)(([e,t])=>e.offsetWidth<=e.offsetHeight*t?e.offsetWidth:e.offsetHeight*t)),d=Object(Kt.a)([a,o]).pipe(Object(g.a)(([e,t])=>e.offsetWidth<=e.offsetHeight*t?e.offsetWidth/t:e.offsetHeight)),c=a.pipe(Object(g.a)(e=>e.offsetHeight/44)),h=Object(Kt.a)([a,c]).pipe(Object(g.a)(([e,t])=>({"width.px":e.offsetWidth,"height.px":e.offsetHeight,"left.px":e.offsetLeft,"top.px":e.offsetTop,"font-size.px":t}))),p=Object(Kt.a)([l,d]).pipe(Object(g.a)(([e,t])=>({"width.px":e,"height.px":t})));this.styles$=Object(Kt.a)([h,p]).pipe(Object(g.a)(([e,t])=>({wrapper:e,stage:t})),Object(Ai.a)(()=>setTimeout(()=>{e.detectChanges()},10))),this.showTimeline$=this.mouseMove$.pipe(function(e,t=Ei,i=ji){return r=>r.lift(new Vi(e,t,i.leading,i.trailing))}(1e3),Object(Rt.a)(()=>this.mouseMove$.pipe(function(e,t=Ei){return i=>i.lift(new qi(e,t))}(5e3),ii(!1),Object(Wt.a)(!0))))}removeOverlay(){this.remove.emit()}bindCues(e,t){t.cues.forEach(t=>{const i=new VTTCue(t.startTime,t.endTime,JSON.stringify(t.data));t.id&&(i.id=t.id),e.addCue(i)})}cueListToArray(e){const t=[];for(let r=0;r<e.length;r++){const n=e[r];let s=n.id;n.id.length<1&&(s=r.toString());let a=null;try{a=JSON.parse(n.text)}catch(i){this.logger.error("Could not parse Cue JSON",i)}t.push({startTime:n.startTime,endTime:n.endTime,id:s,data:a})}return t}goToTime(e){this.videoElem.currentTime=e}}return e.\u0275fac=function(t){return new(t||e)(u.Jb(u.h),u.Jb(yt.c),u.Jb(u.l),u.Jb(ei),u.Jb(Zt))},e.\u0275cmp=u.Db({type:e,selectors:[["plopdown-stage"]],outputs:{remove:"remove"},decls:2,vars:3,consts:[["class","stage-wrapper",3,"ngStyle",4,"ngIf"],[1,"stage-wrapper",3,"ngStyle"],[1,"stage",3,"ngStyle"],[3,"remove"],[3,"cues"],[3,"videoElem","track","activeCues","goTo",4,"ngIf"],[3,"videoElem","track","activeCues","goTo"]],template:function(e,t){1&e&&(u.rc(0,Li,7,9,"div",0),u.cc(1,"async")),2&e&&u.fc("ngIf",u.dc(1,1,t.styles$))},styles:["plopdown-stage .stage-wrapper{position:absolute;z-index:2147483647;overflow:hidden;font-family:Arial,Helvetica,sans-serif;pointer-events:none;display:flex;flex-direction:column;justify-content:center;align-items:center}plopdown-stage .stage{position:absolute;box-shadow:inset 0 0 10px 1px rgba(0,0,0,.2)}plopdown-stage fieldset{background:red}"],encapsulation:2,data:{animation:[Object(Ge.k)("videoOutline",[Object(Ge.j)("void => *",Object(Ge.h)([Object(Ge.i)({"box-shadow":"inset 0 0 0 3px lightgreen","background-color":"rgb(144, 238, 144, 0.2)"}),Object(Ge.l)(Ye,{params:{timing:.4}}),Object(Ge.e)("1s",Object(Ge.i)({"box-shadow":"inset 0 0 0 3px transparent","background-color":"transparent"}))]))])]},changeDetection:0}),e})(),Ii=(()=>{class e{}return e.\u0275mod=u.Hb({type:e}),e.\u0275inj=u.Gb({factory:function(t){return new(t||e)},imports:[[s.c]]}),e})(),Ri=(()=>{class e{constructor(){this.window=window}getURL(){return this.window.URL}getDocument(){return this.window.document}getIndexedDB(){return this.window.indexedDB}open(e,t,i,r){return this.window.open(e,t,i,r)}reload(){this.window.location.reload()}close(){return this.window.close()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=u.Fb({token:e,factory:e.\u0275fac,providedIn:Ii}),e})();var zi=i("vobO");let Hi=(()=>{class e{constructor(e,t,i){this.windowRef=e,this.domSanitizer=t,this.http=i}asText(e){return this.http.get(e,{responseType:"blob"}).pipe(Object(g.a)(e=>this.domSanitizer.bypassSecurityTrustUrl(this.windowRef.getURL().createObjectURL(e))))}}return e.\u0275fac=function(t){return new(t||e)(u.Tb(Ri),u.Tb(li.b),u.Tb(zi.a))},e.\u0275prov=u.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Bi(e,t){if(1&e){const e=u.Qb();u.Pb(0,"ul",5),u.Pb(1,"li",6),u.Pb(2,"a",7),u.Xb("click",(function(t){return u.lc(e),u.bc().onRemovePlopdown(t)})),u.Kb(3,"plopdown-icon",8),u.Ob(),u.Ob(),u.Ob()}if(2&e){const e=u.bc();u.fc("@menuSlideout",void 0),u.zb(3),u.fc("path",e.mdiClose)}}let Ui=(()=>{class e{constructor(e,t){this.cd=e,this.mdiClose="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",this.mdiTooltipEdit="M20 2H4C2.9 2 2 2.9 2 4V16C2 17.11 2.9 18 4 18H8L12 22L16 18H20C21.11 18 22 17.11 22 16V4C22 2.9 21.11 2 20 2M9.08 15H7V12.91L13.17 6.72L15.24 8.8L9.08 15M16.84 7.2L15.83 8.21L13.76 6.18L14.77 5.16C14.97 4.95 15.31 4.94 15.55 5.16L16.84 6.41C17.05 6.62 17.06 6.96 16.84 7.2Z",this.mdiTooltipPlus="M4,2H20A2,2 0 0,1 22,4V16A2,2 0 0,1 20,18H16L12,22L8,18H4A2,2 0 0,1 2,16V4A2,2 0 0,1 4,2M11,6V9H8V11H11V14H13V11H16V9H13V6H11Z",this.toggleEditMode$=new wt.a,this.slideoutShown=!1,this.tracks=0,this.fullscreen=new u.n,this.create=new u.n,this.remove=new u.n,this.upload=new u.n,this.addAnnotation=new u.n,this.subs=new vt.a,this.plopdownLogo$=t.asText("/icons/plopdown-logo.svg").pipe(Object(Ai.a)(()=>{setTimeout(()=>{this.cd.detectChanges()},0)}))}ngOnDestroy(){this.subs.unsubscribe()}onFullscreen(e){e.preventDefault(),this.fullscreen.emit()}onCreatePlopdown(e){e.preventDefault(),this.create.emit()}onRemovePlopdown(e){e.preventDefault(),this.remove.emit()}onUploadPlopdown(e){e.preventDefault(),this.upload.emit()}onAddAnnotation(e){e.preventDefault(),this.addAnnotation.emit()}onToggleEdit(e){e.preventDefault(),this.toggleEditMode$.next()}onMouseEnter(){this.slideoutShown=!0,this.cd.detectChanges()}onMouseLeave(){this.slideoutShown=!1,this.cd.detectChanges()}}return e.\u0275fac=function(t){return new(t||e)(u.Jb(u.h),u.Jb(Hi))},e.\u0275cmp=u.Db({type:e,selectors:[["plopdown-injector-menu"]],inputs:{tracks:"tracks"},outputs:{fullscreen:"fullscreen",create:"create",remove:"remove",upload:"upload",addAnnotation:"addAnnotation"},decls:6,vars:4,consts:[["title","Plopdown Menu","tabindex","0",1,"pd-menu",3,"focus","blur","mouseenter","mouseleave"],[1,"pd-menu-container"],["class","pd-menu-list",4,"ngIf"],[1,"logo-container"],["alt","Menu Button",3,"src"],[1,"pd-menu-list"],[1,"pd-menu-item"],["href","#","title","Remove Plopdown",3,"click"],[3,"path"]],template:function(e,t){1&e&&(u.Pb(0,"div",0),u.Xb("focus",(function(){return t.onMouseEnter()}))("blur",(function(){return t.onMouseLeave()}))("mouseenter",(function(){return t.onMouseEnter()}))("mouseleave",(function(){return t.onMouseLeave()})),u.Pb(1,"nav",1),u.rc(2,Bi,4,2,"ul",2),u.Ob(),u.Pb(3,"span",3),u.Kb(4,"img",4),u.cc(5,"async"),u.Ob(),u.Ob()),2&e&&(u.zb(2),u.fc("ngIf",t.slideoutShown),u.zb(2),u.fc("src",u.dc(5,2,t.plopdownLogo$),u.nc))},directives:[s.t,p],pipes:[s.b],styles:["[_nghost-%COMP%]{position:absolute;right:0;top:1em;opacity:.2;transition:opacity .2s ease-in-out}[_nghost-%COMP%]:hover{opacity:1}.pd-menu[_ngcontent-%COMP%]{display:block;position:relative;pointer-events:all}.pd-menu-container[_ngcontent-%COMP%]{position:relative;margin:0 6em 0 3em;height:7.5em;width:auto;top:50%}.pd-menu-container[_ngcontent-%COMP%], .pd-menu-list[_ngcontent-%COMP%]{display:flex;align-items:center;overflow:hidden}.pd-menu-list[_ngcontent-%COMP%]{background:#282828;margin:0 3em 0 0;list-style:none;color:#fff;border-top-left-radius:1em;border-bottom-left-radius:1em;padding:0}.pd-menu-item[_ngcontent-%COMP%]{flex:0 1 auto;width:3.5em}.pd-menu-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;padding:.8em;color:inherit}.pd-menu-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#666}.pd-menu-item[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#5eb554!important}.pd-menu-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;line-height:0}.pd-menu-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:2em;height:2em;display:block}.logo-container[_ngcontent-%COMP%]{background:#282828;padding:2em;border-radius:50%;position:absolute;text-align:center;transform-origin:50% 50%;transform:scale(.6);transition:transform .2s ease;top:0;right:2em;box-sizing:content-box}.logo-container[_ngcontent-%COMP%], .logo-container[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:3.5em!important;height:3.5em!important}.pd-menu[_ngcontent-%COMP%]:hover   .logo-container[_ngcontent-%COMP%]{transform:scale(1)}"],data:{animation:[Object(Ge.k)("menuSlideout",[Object(Ge.j)("void => *",Object(Ge.h)([Object(Ge.i)({width:"0",marginRight:"0"}),Object(Ge.e)("0.2s ease-out",Object(Ge.i)({width:"*",marginRight:"*"}))])),Object(Ge.j)("* => void",Object(Ge.h)([Object(Ge.i)({width:"*",marginRight:"*"}),Object(Ge.e)("0.2s ease-out",Object(Ge.i)({width:"0",marginRight:"0"}))]))])]},changeDetection:0}),e})();const Ji=function(e){return{active:e}};function Wi(e,t){if(1&e){const e=u.Qb();u.Pb(0,"li",2),u.Xb("click",(function(i){u.lc(e);const r=t.$implicit;return u.bc().goToCue(i,r.startTime)})),u.tc(1),u.Ob()}if(2&e){const e=t.$implicit,i=u.bc();u.fc("ngStyle",e.style)("ngClass",u.hc(4,Ji,i.cueActive(e)))("title",e.text),u.zb(1),u.vc(" ",e.text," ")}}const Gi=function(e){return{left:e}};let Ki=(()=>{class e{constructor(e,t){this.componentFactoryResolver=e,this.injector=t,this.track$=new Dt(1),this.videoElem$=new Dt(1),this.goTo=new u.n,this.cues$=this.track$.pipe(Bt(this.videoElem$),Object(g.a)(([e,t])=>this.cues(e,t)),ti(1)),this.timeUpdate$=this.videoElem$.pipe(Object(Rt.a)(e=>It(e,"timeupdate")),Object(g.a)(e=>e.target)),this.currentLeft$=this.timeUpdate$.pipe(Object(g.a)(e=>`${e.currentTime/e.duration*100}%`),ti(1))}set videoElem(e){this.videoElem$.next(e)}set track(e){this.track$.next(e)}preventBubbling(e){e.stopPropagation()}goToCue(e,t){e.preventDefault(),this.goTo.emit(t)}cues(e,t){const i=t.duration;return e.cues.map(e=>{const t=e.startTime/i*100,r=100-e.endTime/i*100,n=this.componentFactoryResolver.resolveComponentFactory(Ci[e.data.type]).create(this.injector).instance;return{style:{left:`${t}%`,right:`${r}%`,background:n.color},type:e.data.type,id:e.id,text:n.textPreview(e.data),startTime:e.startTime}})}cueActive(e){return null!=this.activeCues.find(t=>t.id===e.id)}}return e.\u0275fac=function(t){return new(t||e)(u.Jb(u.j),u.Jb(u.r))},e.\u0275cmp=u.Db({type:e,selectors:[["plopdown-cue-timeline"]],hostVars:1,hostBindings:function(e,t){1&e&&u.Xb("click",(function(e){return t.preventBubbling(e)})),2&e&&u.wc("@infoFade",t.animate)},inputs:{videoElem:"videoElem",track:"track",activeCues:"activeCues"},outputs:{goTo:"goTo"},decls:5,vars:8,consts:[[3,"ngStyle","ngClass","title","click",4,"ngFor","ngForOf"],[1,"position-indicator",3,"ngStyle"],[3,"ngStyle","ngClass","title","click"]],template:function(e,t){1&e&&(u.Pb(0,"ul"),u.rc(1,Wi,2,6,"li",0),u.cc(2,"async"),u.Ob(),u.Kb(3,"span",1),u.cc(4,"async")),2&e&&(u.zb(1),u.fc("ngForOf",u.dc(2,2,t.cues$)),u.zb(2),u.fc("ngStyle",u.hc(6,Gi,u.dc(4,4,t.currentLeft$))))},directives:[s.s,s.w,s.q],pipes:[s.b],styles:['[_nghost-%COMP%], ul[_ngcontent-%COMP%]{left:0;right:0;height:1em;margin:0;padding:0;pointer-events:all;background:#000}[_nghost-%COMP%], li[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{display:block;position:absolute;top:0}li[_ngcontent-%COMP%]{height:1.2em;line-height:1.2em;background:#90ee90;opacity:.5;cursor:pointer;font-size:.8em;overflow:hidden;padding:0 .2em;text-overflow:ellipsis;white-space:nowrap;color:#333}li[_ngcontent-%COMP%]:hover{box-shadow:-1px 0 0 #fff}li.active[_ngcontent-%COMP%], li[_ngcontent-%COMP%]:hover{opacity:1;z-index:1}.position-indicator[_ngcontent-%COMP%]{position:absolute;width:2px;left:0;top:0;bottom:0;background:#fff;z-index:2}.position-indicator[_ngcontent-%COMP%]:after{position:absolute;bottom:-2px;left:-2px;content:"";border-left:3px solid transparent;border-right:3px solid transparent;border-bottom:3px solid #fff}'],data:{animation:[Object(Ge.k)("infoFade",[Object(Ge.j)("void => *",Object(Ge.h)([Object(Ge.l)(Ze,{params:{timing:.2}})])),Object(Ge.j)("* => void",Object(Ge.h)([Object(Ge.l)(et,{params:{timing:.2}})]))])]}}),e})(),Yi=(()=>{class e{}return e.\u0275mod=u.Hb({type:e}),e.\u0275inj=u.Gb({factory:function(t){return new(t||e)},providers:[],imports:[[s.c,We,c]]}),e})();u.oc(Fi,[s.q,s.r,s.s,s.t,s.A,s.w,s.x,s.y,s.z,s.u,s.v,$e,ie,ae,C,U,Y,k,te,se,G,$,S,Me,Re,He,Ue,De,Fe,Ve,Ae,Oe,p,Fi,Ui,Ki,_i,lt,gt,Oi,mi],[s.b,s.G,s.p,s.k,s.E,s.g,s.C,s.F,s.d,s.f,s.i,s.j,s.l]);var Xi=i("jOdJ");let Zi=(()=>{class e{}return e.\u0275mod=u.Hb({type:e}),e.\u0275inj=u.Gb({factory:function(t){return new(t||e)},imports:[[s.c]]}),e})();var Qi=i("abyM"),er=i.n(Qi);class tr{validate(e){return er()(e)}getLastErrors(){return er.a.errors}}let ir=(()=>{class e{constructor(){this.validator=new tr}decode(e){if(!this.isWebVTTFile(e))throw new Error("File is not a WebVTT file.");const t=this.convertWebVTT(e);if(!this.isPlopdownFile(t))throw this.validator.getLastErrors();return t.files=this.getFiles(t),t}encode(e){if(!0!==this.validator.validate(e))throw this.validator.getLastErrors();return`${this.convertToHeader(e.headers)}\n\n${this.convertToCues(e.cues)}`}isWebVTTFile(e){return/^WEBVTT$/gm.test(e)}convertToHeader(e){let t="WEBVTT";for(const i in e)if(e.hasOwnProperty(i)){const r=e[i];if(null==r)continue;t+=`\n${i}: ${r.trim()}`}return t.trim()}convertToCues(e){return e.map(e=>{let t="";const i=this.convertToISOTime(e.startTime),r=this.convertToISOTime(e.endTime);return null!=e.id&&(t+=`${e.id}\n`),t+=`${i} --\x3e ${r}\n`,t+=`${JSON.stringify(e.data,null,4)}`,t}).join("\n\n")}convertWebVTT(e){const t=e.trim().split("\n\n");return{headers:this.getHeaders(t[0]),cues:this.getCues(t)}}getHeaders(e){return this.getAllMatches(e,/^([\w-]+):(.*)$/gm).reduce((e,t)=>{const i=t[1].trim(),r=t[2].trim();return e[i]=r,e},{})}getAllMatches(e,t){const i=[];let r;for(;r=t.exec(e),r;)i.push(r);return i}convertToISOTime(e){const t=new Date(1e3*e).toISOString().match(/^1970-01-01T(.*)Z$/);if(null==t)throw new Error("Not a valid unix time");return t[1]}convertToUnixTime(e){return new Date(`1970-01-01T${e}Z`).getTime()}getCues(e){e.shift();const t=/(\d{2}:\d{2}:\d{2}.\d{3}) --> (\d{2}:\d{2}:\d{2}.\d{3})/;return e.reduce((e,i)=>{const r=i.match(t);if(null==r)return e;const n=r[1],s=r[2],a=this.convertToUnixTime(r[1])/1e3,o=this.convertToUnixTime(r[2])/1e3;let l;if(i.indexOf(n)>0){const e=i.match(/^(.*)/);e&&(l=e[1].trim())}const u=i.split(s)[1],d=JSON.parse(u);return e.push({startTime:a,endTime:o,data:d,id:l}),e},[])}getFiles(e){const t=[];return null!=e.headers.thumbnail&&t.push(e.headers.thumbnail),e.cues.forEach(e=>{e.data.type===fi.Audio&&t.push(e.data.url)}),t}isPlopdownFile(e){return this.validator.validate(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=u.Fb({token:e,factory:e.\u0275fac,providedIn:Zi}),e})();i("Yv8S");var rr=i("hiUy"),nr=i("426A");const sr=["exampleVideo"];function ar(e,t){if(1&e){const e=u.Qb();u.Pb(0,"button",19),u.Xb("click",(function(){return u.lc(e),u.bc(2).initTrack()})),u.tc(1," Reattach Example "),u.Ob()}}function or(e,t){if(1&e&&(u.Pb(0,"p"),u.Pb(1,"span",16),u.rc(2,ar,2,0,"button",17),u.Pb(3,"a",18),u.tc(4," + Add Plopdown for Firefox "),u.Ob(),u.Ob(),u.Ob()),2&e){const e=t.ngIf;u.zb(2),u.fc("ngIf",e.hostView.destroyed)}}let lr=(()=>{class e{constructor(e,t,i,r,n){this.plyrService=i,this.appRef=r,this.componentFactoryResolver=n,this.subs=new vt.a,this.initTrack$=new wt.a,this.removeTrack$=new wt.a,this.currentDate=new Date;const s=this.componentFactoryResolver.resolveComponentFactory(Fi);this.track$=e.get("/assets/minnie_facts.vtt",{responseType:"text"}).pipe(Object(g.a)(e=>{const i=t.decode(e);return{title:i.headers.title,for:i.headers.for,created:i.headers.created,cues:i.cues}})),this.overlayComponent$=this.initTrack$.pipe(Object(Rt.a)(()=>this.track$),Object(g.a)(e=>{const t=u.r.create({providers:[{provide:ei,useValue:this.exampleVideo.nativeElement},{provide:Zt,useValue:e}]}),i=s.create(t);this.appRef.attachView(i.hostView);const r=i.instance.remove.subscribe(()=>{this.removeTrack$.next()});return this.subs.add(r),i.changeDetectorRef.detectChanges(),i}),ti(1));const a=this.overlayComponent$.subscribe(e=>{this.exampleVideo.nativeElement.parentNode.appendChild(e.hostView.rootNodes[0])});this.subs.add(a);const o=this.removeTrack$.pipe(Object(Rt.a)(()=>this.overlayComponent$.pipe(Object(Xi.a)()))).subscribe(e=>{e.hostView.rootNodes[0].remove(),e.destroy()});this.subs.add(o)}ngOnDestroy(){this.subs.unsubscribe()}ngAfterViewInit(){this.plyr=this.plyrService.create(this.exampleVideo.nativeElement),this.initTrack()}initTrack(){this.initTrack$.next()}}return e.\u0275fac=function(t){return new(t||e)(u.Jb(zi.a),u.Jb(ir),u.Jb(d),u.Jb(u.g),u.Jb(u.j))},e.\u0275cmp=u.Db({type:e,selectors:[["plopdown-home"]],viewQuery:function(e,t){var i;1&e&&u.xc(sr,!0),2&e&&u.jc(i=u.Yb())&&(t.exampleVideo=i.first)},decls:36,vars:3,consts:[[1,"hero","is-dark","is-fullheight"],[1,"hero-head"],[1,"hero-body"],[1,"container"],[1,"columns","is-vcentered"],[1,"column","is-half","is-desktop"],["width","100%","controls","","playsinline","","controlslist","nofullscreen","src","/assets/minnie_the_moocher.mp4",1,"is-block"],["exampleVideo",""],[1,"column","is-half","is-desktop","content"],[1,"title"],[1,"subtitle"],["href","https://www.youtube.com/","target","_blank","rel","noreferrer"],["href","https://amazon.com/primevideo","target","_blank","rel","noreferrer"],["href","https://www.netflix.com/browse","target","_blank","rel","noreferrer"],["href","https://vimeo.com/","target","_blank","rel","noreferrer"],[4,"ngIf"],[1,"buttons"],["class","button is-success is-medium",3,"click",4,"ngIf"],["target","_blank","href","https://addons.mozilla.org/en-US/firefox/addon/plopdown-video/",1,"button","is-primary","is-medium"],[1,"button","is-success","is-medium",3,"click"]],template:function(e,t){1&e&&(u.Pb(0,"section",0),u.Pb(1,"div",1),u.Kb(2,"plopdown-site-nav"),u.Ob(),u.Pb(3,"div",2),u.Pb(4,"div",3),u.Pb(5,"div",4),u.Pb(6,"div",5),u.Kb(7,"video",6,7),u.Ob(),u.Pb(9,"div",8),u.Pb(10,"h2",9),u.tc(11," Plopdown "),u.Ob(),u.Pb(12,"h3",10),u.tc(13," The Video Annotating Web Extension "),u.Ob(),u.Pb(14,"p"),u.tc(15," Plopdown is an extension which allows you to annotate any web video. It been tested and works on "),u.Pb(16,"a",11),u.tc(17,"Youtube"),u.Ob(),u.tc(18,", "),u.Pb(19,"a",12),u.tc(20,"Amazon Video"),u.Ob(),u.tc(21,", "),u.Pb(22,"a",13),u.tc(23,"Netflix"),u.Ob(),u.tc(24,", and "),u.Pb(25,"a",14),u.tc(26,"Vimeo"),u.Ob(),u.tc(27,". "),u.Ob(),u.Pb(28,"p"),u.tc(29," After creating your annotations, you can download and distribute them to friends and followers by sending them a file or generating a "),u.Pb(30,"code"),u.tc(31,"plopdown://"),u.Ob(),u.tc(32," URL. "),u.Ob(),u.rc(33,or,5,1,"p",15),u.cc(34,"async"),u.Ob(),u.Ob(),u.Ob(),u.Ob(),u.Kb(35,"plopdown-site-footer"),u.Ob()),2&e&&(u.zb(33),u.fc("ngIf",u.dc(34,1,t.overlayComponent$)))},directives:[rr.a,s.t,nr.a],pipes:[s.b],styles:[""]}),e})(),ur=(()=>{class e{}return e.\u0275mod=u.Hb({type:e}),e.\u0275inj=u.Gb({factory:function(t){return new(t||e)},imports:[[s.c,c,Yi]]}),e})(),dr=(()=>{class e{constructor(e){this.domSanitizer=e}asText(e){return Object(jt.a)(this.domSanitizer.bypassSecurityTrustUrl("/assets/plopdown-logo.svg"))}}return e.\u0275fac=function(t){return new(t||e)(u.Tb(li.b))},e.\u0275prov=u.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const cr=[{path:"",component:lr}];let hr=(()=>{class e{}return e.\u0275mod=u.Hb({type:e}),e.\u0275inj=u.Gb({factory:function(t){return new(t||e)},providers:[{provide:Hi,useClass:dr}],imports:[[s.c,zi.b,ur,Zi,n.a,r.a,a.d.forChild(cr)]]}),e})()}}]);